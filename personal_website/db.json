{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":0},{"_id":"source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":0},{"_id":"source/images/wechatpay.jpg","path":"images/wechatpay.jpg","modified":0,"renderable":0},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","path":"css/noscript.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","path":"js/comments.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/config.js","path":"js/config.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","path":"js/pjax.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","path":"js/schedule.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","path":"js/third-party/analytics/matomo.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","path":"js/third-party/chat/gitter.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":0,"renderable":1},{"_id":"source/images/favicon-32.ico","path":"images/favicon-32.ico","modified":0,"renderable":0},{"_id":"source/images/favicon-16.ico","path":"images/favicon-16.ico","modified":0,"renderable":0}],"Cache":[{"_id":"source/_posts/assemble.md","hash":"3ff7ea79f05b487deae7d0a289bc4a9940096c40","modified":1678421815263},{"_id":"source/_posts/csapp-lab.md","hash":"dcc52ab702f5133c031721089dd103c067701da1","modified":1678358451472},{"_id":"source/about/index.md","hash":"1efdfed098cbef0e7ab5a7ec217c8fe8d53bb50d","modified":1678166044102},{"_id":"source/categories/index.md","hash":"aac68ecccfc35c7057324dbbd7cbb8f484928d84","modified":1678148928071},{"_id":"source/images/avatar.png","hash":"a6d6f892a4354fdb94433a5e01fee9af0a9932ea","modified":1678275304886},{"_id":"source/images/favicon16.ico","hash":"b9be1dc798b01d83a369bc5a4c54f25594518b2c","modified":1678514589000},{"_id":"source/images/favicon32.ico","hash":"0aaee4b6f7487426d9d7edd9bbfaa499526caf1b","modified":1678514574000},{"_id":"source/tags/index.md","hash":"b71f59a14557015a72a5d85ca246d6b2131820ae","modified":1678358115712},{"_id":"source/images/alipay.jpg","hash":"56695d97b116f6ef4867e93f8bbbf819400814ab","modified":1678194904057},{"_id":"source/images/wechatpay.jpg","hash":"e4a2f37995c7637b317d7688827f71e7e7aa1912","modified":1678194169857},{"_id":"node_modules/hexo-theme-next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1678092470183},{"_id":"node_modules/hexo-theme-next/_vendors.yml","hash":"463e3097d6e245105f6612994215ab5c637cae28","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/package.json","hash":"a192fe2e0904b490c885e8545a409536b41ef46e","modified":1678092470175},{"_id":"node_modules/hexo-theme-next/_config.yml","hash":"501edf1779f07e5d7386d2ab160bbc4e1add2d4a","modified":1678515794675},{"_id":"node_modules/hexo-theme-next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1678092470179},{"_id":"node_modules/hexo-theme-next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1678092470187},{"_id":"node_modules/hexo-theme-next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1678092470179},{"_id":"node_modules/hexo-theme-next/languages/ar.yml","hash":"46026e98fe279a9db5d68bf91afa5d8e41f9ccfb","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/languages/de.yml","hash":"c4fc18c338309271d1afe737e6c404a6fa313bbc","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/bn.yml","hash":"74133a827c104d1d84509177f283947fe9327a80","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/languages/es.yml","hash":"8b6d4a8a056df4362d20ae1f6ac7a590dd7246e5","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/en.yml","hash":"4bbdb4284afe495437cf7817b97b45f60e12d1e4","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/fa.yml","hash":"1e256c8df039ddeba66526c5eb2d6c79177a7fc6","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/fr.yml","hash":"2436942610e38b73b175cb0f8ed1f8f23d42a7ce","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/id.yml","hash":"c4bad93b23c7eefa730fd7fec5b05ace3ce9ca4d","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/it.yml","hash":"4d6efcdaea89dfe751b7707d91858bf33d3538b7","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/ja.yml","hash":"a0906702d3c87d0e1661e300ad0bdf7e679a3d91","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/nl.yml","hash":"8a4da307b4a19e3c96b90a07a2da8dc5d50e5d9e","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/ko.yml","hash":"25ee0d5b9a0464a91af7d2efb33293c09ad5abdf","modified":1678092470355},{"_id":"node_modules/hexo-theme-next/languages/pt-BR.yml","hash":"10d80915c41328f31a4f2d8ac736bba020f373d8","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/ru.yml","hash":"16b96783ba363255b4c8156c3e1efebdb37676f8","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/pt.yml","hash":"fa7c43ec872aee2739b25dd7260e0764ea9e26fd","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/si.yml","hash":"034c5a0df49144e8f16ae2300dba9fde58b9329e","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/th.yml","hash":"4fac74a39d3906c4a727476be4750530a505933a","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/tk.yml","hash":"37d9af426b040004841273d163059cd49cd67d65","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/tr.yml","hash":"890f87f6a33ad8452b771607d4c3ff14810b35fa","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/uk.yml","hash":"fbaed3039ed8605b81422003a4ecb2a6514e339d","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/vi.yml","hash":"a6ba04c743a5b494ac56612ce6b858d9ae3ae1bd","modified":1678092470359},{"_id":"node_modules/hexo-theme-next/languages/zh-CN.yml","hash":"5cebea74f3198a4a20cacf23069c3b91e4f03d85","modified":1678092470363},{"_id":"node_modules/hexo-theme-next/languages/zh-TW.yml","hash":"9fdce9d316e205fc132b2181254ef3b04007a97d","modified":1678092470363},{"_id":"node_modules/hexo-theme-next/languages/zh-HK.yml","hash":"8ab7219563dab13885840207a86055000d173465","modified":1678092470363},{"_id":"node_modules/hexo-theme-next/layout/_layout.njk","hash":"fc0a45112f2dcfc2642404e8934ea32a793c3bd7","modified":1678092470191},{"_id":"node_modules/hexo-theme-next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1678092470191},{"_id":"node_modules/hexo-theme-next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1678092470203},{"_id":"node_modules/hexo-theme-next/layout/page.njk","hash":"b0660b2af0ac7d3fda14ca4d9f2c9e79ef06c6f9","modified":1678092470243},{"_id":"node_modules/hexo-theme-next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1678092470227},{"_id":"node_modules/hexo-theme-next/layout/post.njk","hash":"0bfce9f133f501a9a4837257e3b862b3bbca15be","modified":1678265614437},{"_id":"node_modules/hexo-theme-next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1678092470183},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1678092470183},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/README.md","hash":"9bbdbb0656505acceef9b9895a576164175fe888","modified":1678092470187},{"_id":"node_modules/hexo-theme-next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1678092470207},{"_id":"node_modules/hexo-theme-next/layout/_partials/footer.njk","hash":"9c81879efbf91ccfa6af1bf929b8acdd2e0645b1","modified":1678193477999},{"_id":"node_modules/hexo-theme-next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1678092470231},{"_id":"node_modules/hexo-theme-next/docs/ru/README.md","hash":"ac3c4a7616ea80f0d32d68d6e53233952ba756dc","modified":1678092470187},{"_id":"node_modules/hexo-theme-next/layout/_partials/pagination.njk","hash":"bc719473ed5948ab6859449d60b8d36cfc1542b4","modified":1678092470243},{"_id":"node_modules/hexo-theme-next/layout/_partials/widgets.njk","hash":"e7f988ecddb2159313699a00827a45eca5622bd4","modified":1678092470271},{"_id":"node_modules/hexo-theme-next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1678092470223},{"_id":"node_modules/hexo-theme-next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1678092470267},{"_id":"node_modules/hexo-theme-next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1678092470211},{"_id":"node_modules/hexo-theme-next/layout/_third-party/index.njk","hash":"aa37f8e98208177b63e3328d6e53b022c6edf3b2","modified":1678092470223},{"_id":"node_modules/hexo-theme-next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1678092470243},{"_id":"node_modules/hexo-theme-next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1678092470259},{"_id":"node_modules/hexo-theme-next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1678092470247},{"_id":"node_modules/hexo-theme-next/layout/_macro/post.njk","hash":"7e8268fd5cbd552322b276f52459fd187c2453d2","modified":1678092470255},{"_id":"node_modules/hexo-theme-next/layout/_macro/sidebar.njk","hash":"547c62ab14d9e05d2d9116db9048a677fbe1fb6d","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/scripts/events/index.js","hash":"bd9ea82376cd87df611ea3ae077875c7c595a3df","modified":1678092470135},{"_id":"node_modules/hexo-theme-next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1678092470115},{"_id":"node_modules/hexo-theme-next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1678092470147},{"_id":"node_modules/hexo-theme-next/scripts/filters/minify.js","hash":"ce8477e7fb226525bae5872cd68a1c2c23ad50c8","modified":1678092470155},{"_id":"node_modules/hexo-theme-next/scripts/filters/post.js","hash":"fdc8a0af90035e89c3fcb754a0eb189b8951a2bc","modified":1678092470167},{"_id":"node_modules/hexo-theme-next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1678092470127},{"_id":"node_modules/hexo-theme-next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-config.js","hash":"226fccbe9c93265e65a300e3cb4bf6f9065cfdd7","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-paginator.js","hash":"e86c764b546e4fbb87970cabc4135a56f9ef9fe1","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1678092470123},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-url.js","hash":"fd24abfaba4d91923ddb6aecf0268b216678c8bd","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1678092470099},{"_id":"node_modules/hexo-theme-next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1678092470099},{"_id":"node_modules/hexo-theme-next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1678092470099},{"_id":"node_modules/hexo-theme-next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1678092470131},{"_id":"node_modules/hexo-theme-next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1678092470135},{"_id":"node_modules/hexo-theme-next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1678092470143},{"_id":"node_modules/hexo-theme-next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1678092470143},{"_id":"node_modules/hexo-theme-next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1678092470151},{"_id":"node_modules/hexo-theme-next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1678092470163},{"_id":"node_modules/hexo-theme-next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1678092470163},{"_id":"node_modules/hexo-theme-next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1678092470167},{"_id":"node_modules/hexo-theme-next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1678092470175},{"_id":"node_modules/hexo-theme-next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1678092470275},{"_id":"node_modules/hexo-theme-next/source/css/_mixins.styl","hash":"83647a6207333b9609ba90b0946b3fa9548e6381","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","hash":"921a58577f411cf4eb5cfd66db0a241f8f88578c","modified":1678092470331},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","hash":"dadc81256afb127b77eac6763d5ee0ec9c77f0a3","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1678092470271},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1678092470083},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1678092470271},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1678092470271},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1678092470095},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1678092470107},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1678092470107},{"_id":"node_modules/hexo-theme-next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1678092470111},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1678092470155},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","hash":"b03ba78c6916ad2f390d55bc1bc18fafb64b0ebf","modified":1678092470167},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1678092470167},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","hash":"5e1cf39de050964e97fb3ba0825aeec7f4bc36dd","modified":1678092470171},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1678092470219},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head.njk","hash":"5388b157bba4a40b9312f4a45c6678974ccf0837","modified":1678092470219},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/brand.njk","hash":"dd9c4c03e99dfde0dfb8edefcb2c933f2f560efc","modified":1678092470199},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1678092470219},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1678092470239},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1678092470239},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1678092470199},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1678092470203},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1678092470259},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1678092470243},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1678092470247},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-followme.njk","hash":"c1e33b4889f75acc490af3c8bde0ec56c518ff41","modified":1678092470247},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1678092470251},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-related.njk","hash":"e0986db00a0201dd3c60570f964829c84ba5bc68","modified":1678092470251},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-reward.njk","hash":"e8b8a7c41e9ec612d0c0c73419529d55d1c16256","modified":1678092470255},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-share.njk","hash":"3f28cc4411c0ffc0e41b7970d5ab329c7e46f497","modified":1678092470255},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1678092470191},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1678092470219},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1678092470235},{"_id":"node_modules/hexo-theme-next/layout/_partials/sidebar/site-overview.njk","hash":"70342218473a6e6aa9148de06bfffe121afb8548","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1678092470195},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1678092470207},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1678092470215},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/index.njk","hash":"f900306497b133e8b098bd9f4b96b93d1d96c185","modified":1678092470223},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/matomo.njk","hash":"4e89648a8ec8194c5823064cbca39c938a799006","modified":1678092470235},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1678092470215},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1678092470239},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/umami.njk","hash":"181f69b6718c7a8642a88652260cc0a26084a3ee","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/plausible.njk","hash":"ef9f2bb7110507f1c4336800af9157d5fa9765bd","modified":1678092470247},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1678092470207},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/gitter.njk","hash":"f8cc14b7aa949999a1faaeb7855e2f20b59a386d","modified":1678092470215},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1678092470263},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1678092470203},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1678092470211},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1678092470211},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1678092470215},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1678092470227},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1678092470235},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1678092470267},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1678092470227},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1678092470227},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1678092470235},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1678092470191},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1678092470235},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1678092470199},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1678092470211},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1678092470227},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1678092470231},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1678092470243},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1678092470239},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1678092470131},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1678092470159},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/config.js","hash":"9ec51eb61f7fee612ffc5252f489003a0fa301fc","modified":1678092470111},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/utils.js","hash":"ec996d0673f766167c86df0966e9da1ae036e103","modified":1678092470171},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1678092470139},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/vendors.js","hash":"64e4024376b51fe81be7ad80235abdf0a83853bd","modified":1678092470175},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"5798cfc8f63665031dd3e01debed051628cec319","modified":1678092470103},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1678092470111},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1678092470115},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1678092470119},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"a600a98e7436edeb31e291abca359885567df3c9","modified":1678092470119},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1678092470127},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1678092470139},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1678092470143},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1678092470171},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Mist.styl","hash":"a1418c9dc8c0f1a0ad4ded0f4627c45bf0db1a10","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"48f4f277946a168d0db1ea02804e85c22ca2c7db","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_variables/base.styl","hash":"c4fc4e862d09221265ab1466085f057be2ad2e4d","modified":1678092470303},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","hash":"0c490e9ba82efbb8bdf8465e6b537fafd51e1ed7","modified":1678092470155},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1678092470163},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1678092470123},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1678092470167},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"7664491542046df9a3887cf40a06e00c0b4086a9","modified":1678092470299},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/index.styl","hash":"2298e521253b3bf376a2412271bc2a7d305051f3","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1678092470323},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"64775c729512b30b144ab5ae9dc4a4dfd4e13f35","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1678092470299},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1678092470311},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1678092470311},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1678092470323},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"f4228c759db4a650c8d38745c2edd1dc83c45687","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"782ee1fc5e669d3ddbfeb82b73ad7fe561f1a4fb","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_layout.styl","hash":"fa4fd8f76464e214fb7318f325b13c2b62f4b478","modified":1678092470287},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"77b85d4de5ab747e04008ab31200311b29748740","modified":1678092470275},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"485d23ccb42c0d0c8ead7ea8930dd3e06d79a285","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"9dfe853c901bdc52fc950bacdf15484dbb9bf140","modified":1678092470327},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"d856127cd7e0a28a88edf0b2eb860ede9c3fdb60","modified":1678092470279},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"7fecfb76420f786d6bf60218a81705bb48fb1d18","modified":1678092470287},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"cef9c5f9524fd01b59b0a89e51904b42cbdedc8c","modified":1678092470295},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1678092470295},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1678092470327},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"b7f48be3c43bfa393d62142544a5487a67871713","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1678092470327},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"ac2dc0ce9c775a83ef7132ae957b54539366ac9c","modified":1678092470287},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"4266eed6f75625bb30ef0280dc5d4093e7c3beb1","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1678092470291},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"91dbf3ca5c3a613d4e30618c120da535bf2d0336","modified":1678092470295},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1678092470295},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1678092470327},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1678092470127},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1678092470131},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1678092470151},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1678092470107},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1678092470127},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1678092470171},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1678092470095},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1678092470107},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1678092470119},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1678092470119},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1678092470127},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1678092470143},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1678092470139},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1678092470175},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1678092470091},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1678092470147},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1678092470123},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1678092470143},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1678092470151},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1678092470163},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1678092470139},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1678092470147},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1678092470311},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1678092470311},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/index.styl","hash":"098d4bd034e986fcf7e443eac4fc2193935461b7","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-body.styl","hash":"d757768a58743601d0d84158ba955eb15d4c3c01","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"010c901e4ef49a606f8a350efbf09044e76d2ff3","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"04cf4a69537fc14d3b8904f965d283356853847f","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"40c9839d3288c3b7de0bf38ac2e18f6c8eba6227","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/disqusjs.styl","hash":"877a537d5b95beb048142e4fdee6f17e6ef9c7bb","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"8f094c4ac17e2ab45569b12d157747f9c7333c12","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitter.styl","hash":"35104dc6883a61c31e0e368dac8ac2f697be62fe","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/index.styl","hash":"77550e0d3e029b7458e35d8c5ae1fbd612c9673b","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/footer/index.styl","hash":"0c79462439b1361034a03590cd69a8abb3a678a6","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1678092470307},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"b750af2fb833c10c4313b5a4258237161a7833d7","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"a851e9d5aefcd027c95eeb323860b6da70f202d1","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/index.styl","hash":"6e0d0796ef7fbbb62ffdfb448753a850de82c74f","modified":1678092470319},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"670fc109b56a010b166b86b616823a1aae97a738","modified":1678092470311},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/index.styl","hash":"9056be572ec1cfa429abb22be4b45a662d5b0fb1","modified":1678092470323},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1678092470307},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1678092470315},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/index.styl","hash":"3f76c73a891bbc10679753e702feba9e8a5ffdd2","modified":1678092470323},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1678092470331},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1678092470331},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1678092470335},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"98d4c20aff0f0fcfe1824017fb06ab21ef0d218e","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"7a39bcce7274284e87388743db62afc847fe6897","modified":1678092470351},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/index.styl","hash":"da5e88f8debd5ac8d7af5c6ba6240df66104955f","modified":1678092470323},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/related-posts.styl","hash":"b05908f04ef95f2d91e6eba89b12411c378d050f","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1678092470343},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"c6a27beb3f741211a14576026f3b4cfc44cc6407","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"b926e368f702f8686aaa2eb98d3d2e533418958c","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"c2e354a565c8c1b32bd0ceacc972b17982758b67","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"24752d145c6fb8f5344dca9c7b9640839c02e009","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"9a7c71560fbdc936ad4e736fe15063ea3e8a644b","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1678092470347},{"_id":"node_modules/hexo-theme-next/README.md","hash":"36c4b25587ca494102323dab5a38de5490451a64","modified":1678092470187},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-footer.styl","hash":"11497388f124bfbb4001495a67d3629a9f618405","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-followme.styl","hash":"1ecfd64507954810b07a9d21fb5305b5378feda0","modified":1678092470339},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1678092470339},{"_id":"public/search.xml","hash":"415abe396622a9190756266c20b01b7d207541b9","modified":1678360907129},{"_id":"public/about/index.html","hash":"c66cbc08902d9be7e2b413d07755280021e0eb1d","modified":1678515926547},{"_id":"public/tags/index.html","hash":"c684ce210e6405e6f2b0afd79f4539ec61a9d3ed","modified":1678515926547},{"_id":"public/categories/index.html","hash":"36fada9a707111c93ef82f429d29b50ac213360f","modified":1678515926547},{"_id":"public/archives/index.html","hash":"1e77edb1e80b13efb0d8966dec7116e5fb33de21","modified":1678515926547},{"_id":"public/archives/2023/03/index.html","hash":"accafeffab365d37d4ec7eff53f47d788b24b705","modified":1678515926547},{"_id":"public/archives/2023/index.html","hash":"53a5ac38ec7d2363f0925b59c012615eb6de7860","modified":1678515926547},{"_id":"public/tags/CSAPP/index.html","hash":"7042733d7761b3a34295937e80653e26ba957ff3","modified":1678515926547},{"_id":"public/2023/03/06/assemble/index.html","hash":"eb3928c8cb073116330e7d44f1e9cc400619f4e3","modified":1678515926547},{"_id":"public/2023/03/06/csapp-lab/index.html","hash":"b6a570828c8f0c0e7ba09272082faf252ea94eb4","modified":1678515926547},{"_id":"public/index.html","hash":"eba24e4332007464ffa8ece1ef365d1089a104fb","modified":1678515926547},{"_id":"public/categories/CSAPP/index.html","hash":"68d2eafb3b7c2fe732466eb134f2c73d3c76f283","modified":1678515926547},{"_id":"public/images/avatar.png","hash":"a6d6f892a4354fdb94433a5e01fee9af0a9932ea","modified":1678360907129},{"_id":"public/images/favicon16.ico","hash":"51cf0cf27406acbf71602388e3aa52fb2d4d1411","modified":1678360907129},{"_id":"public/images/favicon32.ico","hash":"d04b8c014d0101bea15e40bd2bdb6f5cc7d34437","modified":1678360907129},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1678360907129},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1678360907129},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1678360907129},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1678360907129},{"_id":"public/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1678360907129},{"_id":"public/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1678360907129},{"_id":"public/images/alipay.jpg","hash":"56695d97b116f6ef4867e93f8bbbf819400814ab","modified":1678360907129},{"_id":"public/images/wechatpay.jpg","hash":"e4a2f37995c7637b317d7688827f71e7e7aa1912","modified":1678360907129},{"_id":"public/css/noscript.css","hash":"4cd5301e478e0e0d4b176740ec314087ec5cb707","modified":1678360907129},{"_id":"public/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1678360907129},{"_id":"public/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1678360907129},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1678360907129},{"_id":"public/js/next-boot.js","hash":"da0f07f9eaaa83de70128b0feaea3fdadb90457a","modified":1678360907129},{"_id":"public/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1678360907129},{"_id":"public/js/pjax.js","hash":"b03ba78c6916ad2f390d55bc1bc18fafb64b0ebf","modified":1678360907129},{"_id":"public/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1678360907129},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1678360907129},{"_id":"public/js/third-party/fancybox.js","hash":"c098d14e65dd170537134358d4b8359ad0539c2c","modified":1678360907129},{"_id":"public/js/schemes/muse.js","hash":"0c490e9ba82efbb8bdf8465e6b537fafd51e1ed7","modified":1678360907129},{"_id":"public/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1678360907129},{"_id":"public/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1678360907129},{"_id":"public/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1678360907129},{"_id":"public/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1678360907129},{"_id":"public/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1678360907129},{"_id":"public/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1678360907129},{"_id":"public/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1678360907129},{"_id":"public/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1678360907129},{"_id":"public/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1678360907129},{"_id":"public/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1678360907129},{"_id":"public/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1678360907129},{"_id":"public/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1678360907129},{"_id":"public/js/third-party/chat/gitter.js","hash":"cc38c94125f90dadde11b5ebac7d8bf99a1a08a2","modified":1678360907129},{"_id":"public/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1678360907129},{"_id":"public/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1678360907129},{"_id":"public/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1678360907129},{"_id":"public/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1678360907129},{"_id":"public/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1678360907129},{"_id":"public/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1678360907129},{"_id":"public/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1678360907129},{"_id":"public/js/third-party/tags/mermaid.js","hash":"f27d817b0c2138dd3215b1f46af0753f60a008f3","modified":1678360907129},{"_id":"public/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1678360907129},{"_id":"public/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1678360907129},{"_id":"public/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1678360907129},{"_id":"public/css/main.css","hash":"26322caf8e9f713bf22fb69ee7e565f50ef413d9","modified":1678360907129},{"_id":"public/js/utils.js","hash":"5e1cf39de050964e97fb3ba0825aeec7f4bc36dd","modified":1678360907129},{"_id":"source/images/favicon-32.ico","hash":"0aaee4b6f7487426d9d7edd9bbfaa499526caf1b","modified":1678514574000},{"_id":"source/images/favicon-16.ico","hash":"b9be1dc798b01d83a369bc5a4c54f25594518b2c","modified":1678514589000},{"_id":"public/images/favicon-32.ico","hash":"0aaee4b6f7487426d9d7edd9bbfaa499526caf1b","modified":1678515926547},{"_id":"public/images/favicon-16.ico","hash":"b9be1dc798b01d83a369bc5a4c54f25594518b2c","modified":1678515926547}],"Category":[{"name":"CSAPP","_id":"clf10r0o400049pva8lhngjxj"}],"Data":[],"Page":[{"title":"about","date":"2023-03-07T05:12:19.000Z","type":"about","_content":"\nA man who love liberty\n","source":"about/index.md","raw":"---\ntitle: about\ndate: 2023-03-07 00:12:19\ntype: about\n---\n\nA man who love liberty\n","updated":"2023-03-07T05:14:04.102Z","path":"about/index.html","comments":1,"layout":"page","_id":"clf10r0nl00009pva5rm02x6o","content":"<p>A man who love liberty</p>\n","site":{"data":{}},"excerpt":"","more":"<p>A man who love liberty</p>\n"},{"title":"tags","date":"2023-03-09T10:34:29.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2023-03-09 05:34:29\ntype: \"tags\"\n---\n","updated":"2023-03-09T10:35:15.712Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clf10r0nr00019pva59b9dqnz","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2023-03-07T00:26:58.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-03-06 19:26:58\ntype: \"categories\"\n---\n","updated":"2023-03-07T00:28:48.071Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clf10r0ns00029pva3329dest","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"assembly language","date":"2023-03-06T05:00:00.000Z","_content":"<meta name=\"referrer\" content=\"no-referrer\"/>\n<a name=\"MTE7s\"></a>\n\n# \nCSAPPattack lab\n\n<!--more-->\n---\n<a name=\"PhqOH\"></a>\n# 1 CPU\n<a name=\"xymUo\"></a>\n## debug[](https://blog.csdn.net/YuzuruHanyu/article/details/80287419?spm=1001.2014.3001.5506)\n<a name=\"UrdzB\"></a>\n## assignment 1\n\n1. AU\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249473372-3a80b2ab-d9e2-483c-ac41-140d30fdd765.png)\n   \n2. RCSIPCS:IPT\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249669344-d36231e5-8310-46ba-a3c6-155e2601ff58.png)\n<a name=\"rTW1r\"></a>\n## assignment 2\n\n1. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250172971-61fbb876-feda-4ca9-b81d-e558cc0e5a6a.png)\n\n2. _CS:IP_\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250237721-ec3e62f5-f6bc-4890-8f25-b62f6d89e60e.png)\n\n3. $2^8$ $AX = 0100H$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250558182-3582fd8d-9783-421c-9731-0d83ae5c81a8.png)\n<a name=\"QAZ3Z\"></a>\n## assignment 3\n\n1. D$FFFF5H \\to FFFFCHFFFF:0005 \\to FFFF:000C$$dd/mm/yy$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251622812-ca79ef23-5a2a-46b2-ba9f-326aa9d3bc54.png)\n\n2. EROM\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251941938-25cdf39e-5c26-49a3-81da-f108dff28da7.png)\n<a name=\"CHS7t\"></a>\n## assignment 4\n1.$A0000H \\to BFFFFH$8086 PC<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673253290191-823908a7-61e0-4e4d-ac20-66184b8a4509.png)\n\n---\n\n<a name=\"hcb7h\"></a>\n# 2 \n<a name=\"vDc8z\"></a>\n## assignment 1\n\n1. AU\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596808599-b129a717-4d20-42a3-8823-64dc726440e3.png)\n\n2. CS:IP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596896692-f6335ebe-e9b7-44cf-9a38-d686dde7d140.png)\n\n3. tAXBXSP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673597028389-791ccf84-0268-4f23-976f-53e6ecd97b36.png)\n<a name=\"NB9fg\"></a>\n## assignment 2\nTCPUPSWCSIP\n\n---\n\n<a name=\"jpe3I\"></a>\n# 3 \n<a name=\"QMUAH\"></a>\n## assignment 1\n\n1. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673681789903-cb9f13be-b044-4c3f-be1d-8fa401195306.png)\n<a name=\"bm7kI\"></a>\n## assignment 2\n\n1. debugCS:IP$DS=075C$PSP$075C:0$$076C:0\\;(075C+10:0)$,$CS:IP = 076C:0000$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682350829-98451696-0d75-4414-87c5-b527b5c96169.png)\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682565168-917f19d2-8e0c-44ab-84e5-453c301bcda0.png)\n<a name=\"fqp3r\"></a>\n## assignment 3\n\n1. PSP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682886059-386e1af8-2b73-480f-92b1-d2ea01cce40a.png)\n\n---\n\n<a name=\"eTiIA\"></a>\n# 4 [bx]loop\n<a name=\"Ypsn2\"></a>\n## assignment 1\n\n1. \n```\nassume cs:codesg\n\ncodesg segment\n\nmov ax, 0020H\nmov ds, ax\nmov bx, 0\nmov dx, 0\nmov cx, 64\n\ns: \nmov [bx],dx\ninc bx\ninc dx\nloop s\n\nmov ax, 4c00h \nint 21h\n\ncodesg ends\nend\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673769654198-dcf5a11b-b298-4d67-ac52-e6412baa7953.png)\n\n3. s$076C:000E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770040980-f6175097-5e41-41f0-a0d4-ed6dcc9e2d26.png)\n\n4. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770269260-0b535c86-7318-4bea-9b9b-151df8786503.png)\n<a name=\"q95Oy\"></a>\n## assignment 2 \n\n1. bx9\n```\nassume cs:codesg\n\ncodesg segment\n\nmov ax, 0020H\nmov ds, ax\nmov bx, 0\nmov cx, 64\n\ns: \nmov [bx],bx\ninc bx\nloop s\n\nmov ax, 4c00h \nint 21h\n\ncodesg ends\nend\n```\n\n2. assigment 1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673771416582-e853218d-46c6-4bf8-98d6-cacae4200dbb.png)\n<a name=\"b3BKL\"></a>\n## assignment 3\n\n1. `mov ax,cs` `loop s` $0020:0000$\n2. CS`mov cx,_____` 1debugU$076C:0000 \\to 076C:0015$$16H\\,(23D)$,$16H$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673774640766-de55642e-4594-4add-9f75-ac17f9cf3628.png)\n\n---\n\n<a name=\"l6DRo\"></a>\n# 5 \n<a name=\"y07m5\"></a>\n## assignment 1\n\n1. data$076C$, stack$076D$code$076E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877104816-d24fcee5-293b-4965-a116-55b74e84812c.png)\n\n2. Q1`G 001D`Udata: $0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H$()\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877337524-5a528fcf-a7ec-47a7-ba04-6014616d76ff.png)\n\n3. Q2R  $\\to \\;CS:076E$ $DS:076C$$SS:076D$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877858110-72e7472f-1574-4c88-ae28-a064f40894e4.png)\n\n4. Q3datastack16code$X$stack$X-1H$data$X-2H$assignment2\n<a name=\"qSFne\"></a>\n## assignment 2\n\n1. assigment1 \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673878358257-7f67627a-48a8-45cf-bc4a-1f51e9552faa.png)\n\n2. 16\n<a name=\"AiceH\"></a>\n## assignment 3\n\n1. assignment1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673879121558-74eaedb2-acd9-4a9c-a318-e028bba49db2.png)<br />2 code$X$data$X+3H$stack$X+4H$\n<a name=\"NxsNH\"></a>\n## assignment 4\n`end start `code3\n<a name=\"oVwXx\"></a>\n## assignment 5\n\n1. $DS$$DS$\n```\nassume cs:code\n\na segment \ndb 1,2,3,4,5,6,7,8\na ends\n\nb segment\ndb 1,2,3,4,5,6,7,8\nb ends\n\nc segment \ndb 0,0,0,0,0,0,0,0\nc ends\n\ncode segment\nstart:\nmov bx, 0\nmov cx, 8\ns:\nmov dx, a\nmov ds,dx\nmov ax, [bx]\nmov dx, b\nmov ds,dx\nadd ax, [bx]\nmov dx, c\nmov ds,dx\nmov [bx], ax\ninc bx\nloop s\n\nmov ax,4c00H\nint 21H\n\ncode ends\n\nend start\n\n```\n\n2. debuga$076C$b$076D$c$076E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882442409-a3ef513e-eb43-4f18-abf5-ea6f262cc3f6.png)\n\n3. c\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882790995-352f2b4b-203d-458a-b5a2-878acfd29335.png)\n<a name=\"azFBM\"></a>\n## assignment 6\n\n1. bx2pushpop\n```\nassume cs:code\na segment\ndw 1,2,3,4,5,6,7,8,9,0ah,0bh,0ch,0dh,0eh,0fh,0ffh\na ends\n\nb segment \ndw 0,0,0,0,0,0,0,0\nb ends\n\ncode segment \nstart:\nmov ax, a\nmov ds, ax\nmov ax, b \nmov ss, ax\nmov sp, 0010H\nmov bx, 0\nmov cx, 8\ns:\npush [bx]\nadd bx, 2\nloop s\n\nmov ax, 4c00H\nint 21H\n\ncode ends\n\nend start\n```\n\n2. debuga $076C$  b$076E$code$076F$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885232599-a5e6bf92-ae97-421b-ad5b-904f427aef76.png)\n\n3. b\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885271367-eddf0cc8-98aa-4fe8-a38f-a014ed5f8179.png)\n\n---\n\n<a name=\"O7BgM\"></a>\n# 6 \n<a name=\"dyxQS\"></a>\n## assignment 1\n\n1. 7.8\n```\nassume cs:codesg, ds:datasg, ss:stacksg\n\ndatasg segment \ndb 'ibm             '\ndb 'dec             '\ndb 'dos             '\ndb 'vax             '\ndatasg ends\n\nstacksg segment\ndw 0,0,0,0,0,0,0,0\nstacksg ends\n\ncodesg segment\nstart:\nmov ax, stacksg\nmov ss, ax\nmov sp, 10H\nmov ax, datasg\nmov ds, ax\nmov bx, 0\nmov cx, 4\ns0:\npush cx\nmov si, 0\nmov cx, 3\ns:\nmov al, [bx+si]\nand al, 11011111B\nmov [bx+si], al\ninc si\nloop s \n\npop cx\nadd bx, 10H\nloop s0\n\nmov ax, 4c00H\nint 21H\n\ncodesg ends\n\nend start\n```\n\n2. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954476992-988989f0-7ba5-4132-8b53-011e5cfe1ce7.png)\n\n3. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954644257-b63d5af0-f266-4057-b1e1-c513e09c9298.png)\n<a name=\"pHbEJ\"></a>\n## assignment 2\n\n1. cxcx\n```\nassume cs:codesg, ds:datasg, ss:stacksg\n\nstacksg segment\ndw 0,0,0,0,0,0,0,0\nstacksg ends\n\ndatasg segment \ndb '1. display      '\ndb '2. brows        '\ndb '3. replace      '\ndb '4. modify       '\ndatasg ends\n\ncodesg segment\nstart:\nmov ax, stacksg\nmov ss, ax\nmov sp, 10H \nmov ax, datasg\nmov ds, ax\nmov bx, 0\nmov cx, 4\ns0:\npush cx\nmov cx, 4\nmov si, 0\ns: \nmov al, [bx+3+si]\nand al, 11011111B\nmov [bx+3+si], al\ninc si\nloop s\n\npop cx\nadd bx, 10H\nloop s0\n\nmov ax, 4c00H\nint 21H\n\ncodesg ends\n\nend start\n\n\n\n```\n\n2. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955793129-198d15a6-56f1-4375-a4c1-fa6d84e6aa7c.png)\n\n3. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955864652-707fd6d7-d65d-4be6-b3f9-bbcbbc27484b.png)\n\n---\n\n<a name=\"MJU1z\"></a>\n# 7 \n\n1. `word ptr / byte ptr``div`\n```\nassume cs:codesg\n\nstack segment\ndw 0,0,0,0,0,0,0,0\nstack ends\n\ndata segment\ndb '1975','1976', '1977', '1978', '1979', '1980', '1981', '1982','1983'\ndb '1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991', '1992'\ndb '1993', '1994', '1995'\n\ndd 16,22,382,1356,2390, 8000, 16000,24486,50065, 97479,140417,197514\ndd 345980,590827,803530,1183000,1843000,2759000, 3753000, 4649000,5937000\n\ndw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793, 4037,5635, 8226\ndw 11542,14430,15257,17800\ndata ends\n\ntable segment\ndb 21 dup ('year summ ne ?? ')\ntable ends\n\ncodesg segment\nstart:\nmov ax, stack ;0776C\nmov ss, ax\nmov sp, 10H\nmov ax, data ; 076D\nmov es, ax\nmov ax, table ; 077b\nmov ds, ax\nmov bx,0\nmov si,0\nmov cx,21\n\nyear:\npush cx\nmov cx, 4\nmov di, 0\nchar:\nmov al, es:[si]\nmov [bx+di], al\ninc di\ninc si\nloop char\npop cx\nadd bx, 10H\nloop year\n\nmov cx, 21\nmov bx, 0\nincome:\npush cx\nmov cx, 2\nmov di, 0\ndwInt:\nmov ax, es:[si]\nmov [bx].5[di], ax\nadd si, 2\nadd di, 2\nloop dwInt\npop cx\nadd bx, 10H\nloop income\n\nmov cx, 21\nmov bx, 0\nstaff:\nmov ax, es:[si]\nmov [10+bx], ax\nadd si, 2;\nadd bx, 10H\nloop staff\n\nmov cx, 21\nmov bx, 0\naverage:\nmov dx, [bx+7]\nmov ax, [bx+5]\ndiv word ptr [bx+0AH]\nmov [bx+0Dh], ax\nadd bx, 10H\nloop average\n\nmov ax, 4C00H\nint 21H\ncodesg ends\nend start \n```\n\n2. table\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054412418-905eb553-63b9-4352-8fd3-87d9c57ec955.png)\n\n3. table\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054465034-493bafb1-d935-4da9-b3d0-07b0bdd54911.png)\n<a name=\"wI3bu\"></a>\n# 8 \n\n1. $start$`nop`No operation`nop`$s$`mov cs:[di], ax`$s$`jmp short s1``jmp short s`$s$\n2. `jmp short s1`IPIP$s2$$s1$$s2$jmp`nop`$(076C:0022)$$s1$`mov ax, 0`$(076C:0018)$`jmp short `$0022H-0018H =-10D(F6H)$$s$`jmp short s``EBF6`$s$\n3. $s$$IP = IP+(-10)$,debug`mov ax, 4c00H`$(000AH-0010H=0000H)$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674306714709-54439679-a96b-496d-97b1-de0f2c3abf77.png)\n<a name=\"lZyJr\"></a>\n# 9 \n\n1. `mov addressdata`mov(?)`welcome to masm!`$ax$mov\n```\nassume cs:codesg\n\ndata segment\ndb 'welcome to masm!'\ndata ends\n\ncodesg segment\nstart: \nmov ax, data\nmov ds, ax\nmov ax, 0B800H\nmov es, ax\n\nmov bx, 0\nmov si, 1824\nmov cx, 10H\ns0:\nmov ah, 82H\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s0\n\nmov bx, 0 \nmov si, 1984\nmov cx, 10H\ns1:\nmov ah, 0A4H\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s1\n\nmov bx, 0 \nmov si, 2144\nmov cx, 10H\ns2:\nmov ah, 11110001B\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s2\n\nmov ax, 4c00H\nint 21H\ncodesg ends\n\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674447541217-19494cef-6da4-4fd3-b28c-6ad18c755471.png)\n\n<a name=\"zPzcC\"></a>\n# 10 \n<a name=\"Z9mXL\"></a>\n## assignment 1\n\n1. ****\n```\nassume cs:code\ndata segment\ndb \"welcome to masm!\", 0\ndata ends\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov dh, 8\nmov dl, 3\nmov cl, 2\nmov ax, data\nmov ds, ax\nmov ax, stack\nmov sp, 20H\nmov si, 0\ncall show_str\n\nmov ax, 4C00H\nint 21H\n\nshow_str:\npush ax ; \npush bx\npush cx\npush dx\npush es\npush si\n\nmov ax, 0B800H; 8025\nmov es, ax\n\nmov al, 160 ; \ninc dh ; 0\nmul dh ; 8ax\nmov bx, ax\nmov al, 2\nmul dl\nadd bx, ax\nmov ah, cl\n\nprint:\nmov cl, [si] ; cx\nmov ch, 0\njcxz ok ;\n\nmov al, cl ; \nmov es:[bx],ax\ninc si\nadd bx, 2\njmp print\n\nok:\npop si\npop es\npop dx\npop cx\npop bx\npop ax\nret \n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674959885930-a6c4181a-e6a1-44cb-9ec8-cc5013b1314e.png)\n<a name=\"gCr3l\"></a>\n## assignment 2\n\n1.  \n\n                   $X/n = int(H/2)*65536 +[rem(H/n)*65536+L]/n$<br />32$X/n$(32160)<br />$(H/n)*65536 + (L/n)$<br />**32**<br />$int(H/2)*65536$,$int([rem(H/n)*65536+L]/n)$<br />**16**<br />$rem([rem(H/n)*65536+L]/n)$<br />\n```\nassume cs:code\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\nmov ax, 4240H\nmov dx, 000FH\nmov cx, 0AH\ncall divdw\n\nmov ax, 4C00H\nint 21H\n\ndivdw:\npush bx\n\nmov bx, ax ; L\nmov ax, dx ; H/N\nmov dx, 0\ndiv cx ; int(H/N)axrem(H/N)dx\n\npush ax ; int(H/N)\n\nmov ax, bx; dx and ax constitute rem(H/N)*65535+L\ndiv cx ; ax store the result\nmov cx, dx\n\npop dx ; int(H/N)\n\npop bx\nret\n\n\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675050216892-a6c856a5-19e3-42a9-9dae-62052e8d077c.png)\n<a name=\"wHNVn\"></a>\n## assignment 3\n\n1. \n```\nassume cs:code\n\ndata segment\ndb 10 dup(0)\ndata ends\n\nstack segment\ndw 16 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, 12666\nmov bx, data\nmov ds, bx\nmov si, 0\nmov bx, stack\nmov ss, bx\nmov sp, 20H\ncall dtoc\n\nmov dh, 8\nmov dl, 3\nmov cl, 2\ncall show_str\n\nmov ax, 4C00H\nint 21H\n\ndtoc:\npush ax\npush bx\npush cx\npush dx\npush si\npush di\n\nmov dx, 0 ; 16 0\nmov bx, 10\nmov di, 0 ; \n\ndivide:\nmov cx, ax \njcxz over\ninc di\ndiv bx ; 32axdx\nadd dx, 30H\npush dx\nmov dx, 0\njmp divide\n\nover:\nmov cx, di\nmove: \npop bx\nmov [si], bl\ninc si\nloop move\n\npop di\npop si\npop dx\npop cx\npop bx\npop ax\nret\n\nshow_str:\npush ax ; \npush bx\npush cx\npush dx\npush es\npush si\n\nmov ax, 0B800H; 8025\nmov es, ax\n\nmov al, 160 ; \ninc dh ; 0\nmul dh ; 8ax\nmov bx, ax\nmov dh, 0\nmov al, 2\nmul dl\nadd bx, ax\nmov ah, cl\n\nprint:\nmov cl, [si] ; cx\nmov ch, 0\njcxz ok ;\n\nmov al, cl ; \nmov es:[bx],ax\ninc si\nadd bx, 2\njmp print\n\nok:\npop si\npop es\npop dx\npop cx\npop bx\npop ax\nret \n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675070403817-35e5aa0f-3d0c-42ab-803a-9d7dbf5bcb8a.png)\n<a name=\"ww3wC\"></a>\n# 11 \n\n1. `cmp`if\n```\nassume cs:codesg\ndatasg segment\ndb \"Beginner's All-purpose Symbolic Instruction Code.\",0\ndatasg ends\n\ncodesg segment\nbegin:\nmov ax, datasg\nmov ds, ax\nmov si, 0\ncall letterc\n\nmov ax, 4C00H\nint 21H\n\nletterc:\npush ax\npush cx\n\nCapital:\nmov al, [si]\nmov cl, al\nmov ch, 0\njcxz OK\ncmp al, 97\njb NO\ncmp al, 122\nja NO\nand al, 11011111B\nmov [si], al\t\n\nNO:\ninc si\njmp short Capital\n\nOK:\npop cx\npop ax\nret\n\ncodesg ends\nend begin\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675142887049-1e6b7958-8779-4745-81f5-c6a536a232ca.png)\n<a name=\"bk4z5\"></a>\n# 12 0\n\n1. \n\n3\n\n-  \n- ($0000:0200H\\to0000:02FFH$)  \n- \n\n`jcxz``jmp short`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset do0 ; 076C:0028\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset do0end- offset do0; 0034H\ncld\nrep movsb ; 0:200\n\nmov word ptr es:[0], 0200H\nmov word ptr es:[0+2], 0 ; \n\nmov ax, 4C00H\nint 21H\n\ndo0:\njmp short do0start\ndb \"divide error\",0 \n\ndo0start:\nmov ax, 0B800H\nmov es, ax\nmov di, 160*12+34*2\n\nmov ax, cs\nmov ds, ax\nmov si, 202H\n\nprint:\nmov cL, [si]\nmov ch, 0\njcxz ok\nmov ah, 04h ;red\nmov al, cl\nmov es:[di], ax\ninc si\nadd di, 2 \njmp short print\n\nok:\nmov ax, 4C00H\nint 21H\n\ndo0end: ;005C\nnop\n\ncode ends\nend start\n```\n\n2. (debuglab12T)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675159533550-89caf027-f6da-4345-aa8c-e03159df600e.png)\n<a name=\"YSdgF\"></a>\n# 13 \n<a name=\"HHw6N\"></a>\n## assignment 1\n\n1. lab10-1show_str`call-ret` `int 7cH - iret`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset print\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset printed - offset print\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nprint:\npush bx\npush cx\npush es\npush si\npush ax\npush dx\n\nmov ax, 0B800H\nmov es, ax\n\nmov al, 160\ninc dh\nmul dh ; 160*(10+1) in ax\nmov bx, ax\nmov al, 2\nmul dl ; 10*2 in ax\nadd bx, ax\nmov ah, cl\n\nstPrint:\nmov ch, 0\nmov cl, [si]\njcxz ok\n\nmov al, cl\nmov es:[bx], ax\nadd bx, 2\ninc si\njmp short stPrint\n\nok:\npop dx\npop ax\npop si\npop es\npop cx\npop bx\niret\n\nprinted:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675224733068-a783d5cd-5d35-46b5-8032-3c8938e8347a.png)\n<a name=\"LKaNX\"></a>\n## assignment 2\n\n1. \n\nloop\n\n- $S$\n\n$CS$$IP$CS\t       IP(`offset s - offset se`)\n\n- $S$$CS:IP$\n\n`iret``pop IP , pop CS ,  popf`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset lp\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset lped - offset lp\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nlp:\ndec cx\njcxz lpret\npush bp\nmov bp, sp\nadd [bp+2], bx\nlpret:\npop bp\niret\n\nlped:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675237825483-f1ed3d6d-00cc-453b-91b3-757823355468.png)\n<a name=\"TCCAl\"></a>\n## assignment 3\n```\nassume cs:code\ncode segment\ns1: db 'Good,better,best,','$'\ns2: db 'Never let it rest,','$' \ns3: db 'Till good is better,','$'\ns4: db 'And better,best.', '$'\ns: dw offset s1, offset s2, offset s3, offset s4 \nrow: db 2,4,6,8\n\nstart:\nmov ax, cs \nmov ds, ax\nmov bx, offset s\nmov si, offset row\nmov cx, 4\nok:\nmov bh, 0 \nmov dh, [si]\nmov dl, 0\nmov ah, 2 ; BIOS--\nint 10h \n\nmov dx, [bx]                                           \nmov ah, 9 ; DOS--\nint 21h\ninc si\nadd bx, 2\nloop ok\n\nmov ax, 4C00H; DOS--al\nint 21H\ncode ends\nend start\n```\n<a name=\"zGspx\"></a>\n# 14  CMOS RAM\n\n1. \n```\nassume cs:code\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\nmov ax, 0B800H\nmov ds, ax\n\nmov al, 9\nmov bx, 160*12+36*2\ncall GetAscill\nmov byte ptr [bx+4], '/'\n\nmov al, 8\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], '/'\n\nmov al, 7\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ' '\n\nmov al, 4\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ':'\n\nmov al, 2\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ':'\n\nmov al, 0\nadd bx, 6\ncall GetAscill\n\nmov ax, 4C00H\nint 21H\n\nGetAscill:\npush ax\npush bx\npush cx\npush dx\n\nout 70H, al\nin al, 71H\n\nmov ah, al\nmov cl, 4\nshr ah, cl\nand al, 00001111B\n\nadd ah, 30H\nadd al, 30H\n\nmov dx, 0B800H\nmov es, dx\nmov es:[bx], ah \nmov byte ptr es:[bx+1], 02H ; green\nmov es:[bx+2], al\nmov byte ptr es:[bx+3], 02H\n\npop dx\npop cx\npop bx\npop ax\nret\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675253920788-8fc4fee5-abeb-4e49-93bf-97e3873b6599.png)\n<a name=\"yTwL0\"></a>\n# 15 int 9 \n<a name=\"TIrMX\"></a>\n## 1\n$a\\to z$,Esc\n\n1. int 9 int 9`call dword ptr ds:[0]``call word ptr ds:[0]`int 9\n```\nassume cs:code\n\nstack segment\ndb 64 dup(0)\nstack ends\n\ndata segment\ndw 0,0\ndata ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 40H\nmov ax, data\nmov ds, ax\n\nmov ax, 0\nmov es, ax\n\npush es:[9*4]\npop ds:[0]\npush es:[9*4+2]\npop ds:[2] ; int 9\n\ncli\nmov word ptr es:[9*4], offset int9\nmov es:[9*4+2], cs;\nsti\n\n\nmov ax, 0B800H\nmov es,ax\nmov dh, 'a'\ns:\nmov es:[160*12+40*2], dh\ncall delay\ninc dh\ncmp dh, 'z'\njna s ; a~z\n\n\nmov ax, 0 \nmov es, ax\n\ncli\npush ds:[0]\npop es:[9*4]\npush ds:[2]\npop es:[9*4+2] ;int 9\nsti\n\n\nmov ax, 4C00h\nint 21H\n\ndelay:\npush ax\npush dx\nmov ax, 0\nmov dx, 10H\nse:\nsub ax, 1 ; dec\nsbb dx, 0\ncmp ax, 0\njne se\ncmp dx, 0\njne se\n\npop dx\npop ax\nret ; \n\nint9:\npush ax\npush es\nin al, 60H\n\npushf\ncall dword ptr ds:[0]\n\ncmp al, 01H\njne int9ret\nmov ax, 0B800H\nmov es, ax\ninc byte ptr es:[160*12+40*2+1] ; \n\nint9ret:\npop es\npop ax\niret\n\ncode ends\nend start\n\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675319548168-77f7b5a6-54bb-4526-b234-adb0e561004e.png)\n<a name=\"vlBjq\"></a>\n## 2\nDOSF1\n\n1. int 9int 9int 9int 9int 9$0:0200 \\to 0:0203$,int 9`cs:[200H]`\n```\nassume cs:code, ss:stack\n\nstack segment\ndb 32 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\n\nmov ax, 0\nmov es, ax\nmov di, 0204H\nmov ax, cs\nmov ds, ax\nmov si, offset int9\n\nmov cx, offset int9ed - offset int9\ncld\nrep movsb; \n\npush es:[9*4]\npop es:[200H]\npush es:[9*4+2]\npop es:[202H] ; int 9\n\ncli\nmov word ptr es:[9*4], 204H\nmov word ptr es:[9*4+2], 0 ; \nsti\n\nmov ax, 4C00H\nint 21H\n\nint9:\npush ax\npush cx\npush es\npush di\n\nin al, 60H\n\npushf\ncall dword ptr cs:[200H] ; int 9\n\ncmp al, 3BH\njne int9ret\n\nmov ax, 0B800H\nmov es, ax\nmov di, 1\nmov cx, 2000\ns:\ninc byte ptr es:[di]\nadd di, 2\nloop s\n\nint9ret:\npop di\npop es\npop cx\npop ax\niret\n\n\nint9ed:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675322759364-2785ad21-17c7-4499-b1a3-fe6726975b02.png)\n<a name=\"XyIu0\"></a>\n## assignment 1\n\n1. \n\nA`cmp aL, 1EH+80H`\n```\nassume cs:code, ss:stack\n\nstack segment\ndb 32 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\n\nmov ax, 0\nmov es, ax\nmov di, 0204H\nmov ax, cs\nmov ds, ax\nmov si, offset int9\n\nmov cx, offset int9ed - offset int9\ncld\nrep movsb; \n\npush es:[9*4]\npop es:[200H]\npush es:[9*4+2]\npop es:[202H] ; int 9\n\ncli\nmov word ptr es:[9*4], 204H\nmov word ptr es:[9*4+2], 0 ; \nsti\n\nmov ax, 4C00H\nint 21H\n\nint9:\npush ax\npush cx\npush es\npush di\n\nin aL,60h\n\npushf\ncall dword ptr cs:[200H]\n\ncmp aL, 1EH+80H\njne int9ret\n\nmov cx, 2000\nmov ax, 0B800H\nmov es, ax\nmov di, 0\ns:\nmov byte ptr es:[di], 'A'\nmov byte ptr es:[di+1], 02H\nadd di, 2\nloop s\n\nint9ret:\npop di\npop es\npop cx\npop ax\niret\n\nint9ed:\nnop\n\ncode ends\nend start\n\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675329053483-60588212-d9b5-4cef-acf7-06c70f65db5f.png)\n<a name=\"YodIM\"></a>\n# 16 \n\n1. \n\ntable200H\n```\nassume cs:code\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset int7ch\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset int7ched - offset int7ch\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nint7ch:\njmp short int7chStart\ntable dw offset Sub1-offset int7ch+200H, offset Sub2-offset int7ch+200H, offset Sub3-offset int7ch+200H, offset Sub4-offset int7ch+200H\n\nint7chStart:\npush ax\npush bx\ncmp ah, 3\nja int7chRet\nmov bl, ah\nmov bh, 0\nadd bx, bx\ncall word ptr cs:(table-int7ch+200H)[bx]\n\nint7chRet:\npop bx\npop ax\niret\n\nSub1:\npush ax\npush bx\npush cx\npush ds\nmov ax, 0B800H\nmov ds, ax\nmov cx, 2000\nmov bx, 0\ns1:\nmov byte ptr [bx], ' '\nadd bx, 2\nloop s1\npop ds\npop cx\npop bx\npop ax\nret\n\nSub2:\npush ax\npush bx\npush cx\npush ds\nmov bx, 0B800H\nmov ds, bx\nmov cx, 2000\nmov bx, 1\ns2:\nand byte ptr [bx], 11111000B ; 3\nor byte ptr [bx], al\nadd bx, 2\nloop s2\npop ds\npop cx\npop bx\npop ax\nret\n\nSub3:\npush ax\npush bx\npush cx\npush ds\nmov bx, 0B800H\nmov ds, bx\nmov cl, 4\nshl al, cl\nmov cx, 2000\nmov bx, 1\ns3:\nand byte ptr [bx], 10001111B\nor [bx], al\nadd bx, 2\nloop s3\npop ds\npop cx\npop bx\npop ax\nret\n\nSub4:\npush ax\npush bx\npush cx\npush ds\npush es\npush si\npush di\nmov bx, 08B00H\nmov es, bx\nmov ds, bx\nmov si, 160\nmov di, 0\ncld\nmov cx, 24\n\ns4:\npush cx\nmov cx, 160\nrep movsb\npop cx\nloop s4\n\nmov cx, 80\nmov si, 0\ns41:\nmov byte ptr [160*24+si], ' '\nadd si ,2\nloop s41\npop di\npop si\npop es\npop ds\npop cx\npop bx\npop ax\nret\n\nint7ched:\nnop\n\ncode ends\nend start\n```\n```\nassume cs:code\n\ncode segment\nstart:\nmov ah,1 ; 0 2 3\nmov al,2\nint 7CH\n\nmov ax, 4C00H\nint 21H\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675411618416-c6c100a2-f4d1-4bc9-b3e6-22f83fcdcaee.png)\n<a name=\"IRx7s\"></a>\n# 17 \n17BIOS2, 3int 13Hmuldiv\n<a name=\"upigZ\"></a>\n## 17-1\n\"r\"\"g\",b\n\n1. \n\n0int 16H\n```\nassume cs:code\n\ncode segment\nstart:\n\nshow:\npush ax\npush es\npush di\n\nmov ah, 0\nint 16H\n\nmov bl, 1\ncmp al,'b'\nje showst\nshl bl, 1\ncmp al, 'g'\nje showst\nshl bl, 1\ncmp al, 'r'\nje showst\njmp short FRet\n\nshowst:\nmov ax, 0B800H\nmov es, ax\nmov di, 1\nmov cx, 2000\ns:\nand byte ptr es:[di], 11111000B\nor es:[di], bl\nadd di, 2\nloop s\n\nFRet:\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675431818731-db0edf92-bc54-4bfc-a35f-613c796dddda.png)\n<a name=\"Wyllk\"></a>\n# Other\n<a name=\"QMCD1\"></a>\n## 1. assume\n```\nassume cs:code, ds:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov ds, ax\n\nmov si, 0\nmov cx, 8\n\ns:\nmov ah, 0\nmov al, a[si]\nadd b, ax\ninc si\nloop s\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n\n1. `assume ds:data ss:stack`\n- assume$DSSS$datastack:`mov ax, data ``mov ds, ax`\n- assume$DSSS$datastack**dataab**$DS$****abdata$DS$data`mov ax, data``mov ax, data`data32bits16bitsax\n\n`assume ds:data`__<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675343108877-68cf68d3-97ef-4ecb-8b4f-6da330149c94.png)\n\n2. `assume cs:codesg`\n\n$CS$(codesg)$CS$. $CS$<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675341791119-4c9029f0-b9e3-4e2f-b1b9-aa5d02685f8f.png)\n<a name=\"wwfwW\"></a>\n## 2. \n\n1. \n\n(byte, word, double word)\n```\nassume cs:code, es:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov es, ax\n\nmov si, 0\nmov cx, 8\n\ns:\nmov ah, 0\nmov al, a[si]\nadd b, ax\ninc si\nloop s\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\nab\n\n- ****`**seg data:0**`**, byte**\n- ****`**seg data:8**`**, word**\n2. \n\n`mov al, a[si]` `add b, ax`data: `mov al, es:0[si]``add es:[8], ax`<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409971871-70ff728a-fa74-48ac-a742-be8ec319d677.png)\n\n3. \n```\nassume cs:code, ds:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\nc dw a, b\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov ds, ax\n\nmov dx, 2\nmov dx, c\nmov ax, c[1]\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n`c dw a, b`c`seg data:000A`**a**$0000$<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409382345-20e1a2f2-8973-4150-992a-2a8acb141fa9.png)\n\n","source":"_posts/assemble.md","raw":"---\ntitle: assembly language\ndate: 2023-03-06\ncategories: \n- CSAPP\ntags: \"CSAPP\" \n---\n<meta name=\"referrer\" content=\"no-referrer\"/>\n<a name=\"MTE7s\"></a>\n\n# \nCSAPPattack lab\n\n<!--more-->\n---\n<a name=\"PhqOH\"></a>\n# 1 CPU\n<a name=\"xymUo\"></a>\n## debug[](https://blog.csdn.net/YuzuruHanyu/article/details/80287419?spm=1001.2014.3001.5506)\n<a name=\"UrdzB\"></a>\n## assignment 1\n\n1. AU\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249473372-3a80b2ab-d9e2-483c-ac41-140d30fdd765.png)\n   \n2. RCSIPCS:IPT\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249669344-d36231e5-8310-46ba-a3c6-155e2601ff58.png)\n<a name=\"rTW1r\"></a>\n## assignment 2\n\n1. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250172971-61fbb876-feda-4ca9-b81d-e558cc0e5a6a.png)\n\n2. _CS:IP_\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250237721-ec3e62f5-f6bc-4890-8f25-b62f6d89e60e.png)\n\n3. $2^8$ $AX = 0100H$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250558182-3582fd8d-9783-421c-9731-0d83ae5c81a8.png)\n<a name=\"QAZ3Z\"></a>\n## assignment 3\n\n1. D$FFFF5H \\to FFFFCHFFFF:0005 \\to FFFF:000C$$dd/mm/yy$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251622812-ca79ef23-5a2a-46b2-ba9f-326aa9d3bc54.png)\n\n2. EROM\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251941938-25cdf39e-5c26-49a3-81da-f108dff28da7.png)\n<a name=\"CHS7t\"></a>\n## assignment 4\n1.$A0000H \\to BFFFFH$8086 PC<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673253290191-823908a7-61e0-4e4d-ac20-66184b8a4509.png)\n\n---\n\n<a name=\"hcb7h\"></a>\n# 2 \n<a name=\"vDc8z\"></a>\n## assignment 1\n\n1. AU\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596808599-b129a717-4d20-42a3-8823-64dc726440e3.png)\n\n2. CS:IP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596896692-f6335ebe-e9b7-44cf-9a38-d686dde7d140.png)\n\n3. tAXBXSP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673597028389-791ccf84-0268-4f23-976f-53e6ecd97b36.png)\n<a name=\"NB9fg\"></a>\n## assignment 2\nTCPUPSWCSIP\n\n---\n\n<a name=\"jpe3I\"></a>\n# 3 \n<a name=\"QMUAH\"></a>\n## assignment 1\n\n1. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673681789903-cb9f13be-b044-4c3f-be1d-8fa401195306.png)\n<a name=\"bm7kI\"></a>\n## assignment 2\n\n1. debugCS:IP$DS=075C$PSP$075C:0$$076C:0\\;(075C+10:0)$,$CS:IP = 076C:0000$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682350829-98451696-0d75-4414-87c5-b527b5c96169.png)\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682565168-917f19d2-8e0c-44ab-84e5-453c301bcda0.png)\n<a name=\"fqp3r\"></a>\n## assignment 3\n\n1. PSP\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682886059-386e1af8-2b73-480f-92b1-d2ea01cce40a.png)\n\n---\n\n<a name=\"eTiIA\"></a>\n# 4 [bx]loop\n<a name=\"Ypsn2\"></a>\n## assignment 1\n\n1. \n```\nassume cs:codesg\n\ncodesg segment\n\nmov ax, 0020H\nmov ds, ax\nmov bx, 0\nmov dx, 0\nmov cx, 64\n\ns: \nmov [bx],dx\ninc bx\ninc dx\nloop s\n\nmov ax, 4c00h \nint 21h\n\ncodesg ends\nend\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673769654198-dcf5a11b-b298-4d67-ac52-e6412baa7953.png)\n\n3. s$076C:000E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770040980-f6175097-5e41-41f0-a0d4-ed6dcc9e2d26.png)\n\n4. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770269260-0b535c86-7318-4bea-9b9b-151df8786503.png)\n<a name=\"q95Oy\"></a>\n## assignment 2 \n\n1. bx9\n```\nassume cs:codesg\n\ncodesg segment\n\nmov ax, 0020H\nmov ds, ax\nmov bx, 0\nmov cx, 64\n\ns: \nmov [bx],bx\ninc bx\nloop s\n\nmov ax, 4c00h \nint 21h\n\ncodesg ends\nend\n```\n\n2. assigment 1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673771416582-e853218d-46c6-4bf8-98d6-cacae4200dbb.png)\n<a name=\"b3BKL\"></a>\n## assignment 3\n\n1. `mov ax,cs` `loop s` $0020:0000$\n2. CS`mov cx,_____` 1debugU$076C:0000 \\to 076C:0015$$16H\\,(23D)$,$16H$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673774640766-de55642e-4594-4add-9f75-ac17f9cf3628.png)\n\n---\n\n<a name=\"l6DRo\"></a>\n# 5 \n<a name=\"y07m5\"></a>\n## assignment 1\n\n1. data$076C$, stack$076D$code$076E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877104816-d24fcee5-293b-4965-a116-55b74e84812c.png)\n\n2. Q1`G 001D`Udata: $0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H$()\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877337524-5a528fcf-a7ec-47a7-ba04-6014616d76ff.png)\n\n3. Q2R  $\\to \\;CS:076E$ $DS:076C$$SS:076D$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877858110-72e7472f-1574-4c88-ae28-a064f40894e4.png)\n\n4. Q3datastack16code$X$stack$X-1H$data$X-2H$assignment2\n<a name=\"qSFne\"></a>\n## assignment 2\n\n1. assigment1 \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673878358257-7f67627a-48a8-45cf-bc4a-1f51e9552faa.png)\n\n2. 16\n<a name=\"AiceH\"></a>\n## assignment 3\n\n1. assignment1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673879121558-74eaedb2-acd9-4a9c-a318-e028bba49db2.png)<br />2 code$X$data$X+3H$stack$X+4H$\n<a name=\"NxsNH\"></a>\n## assignment 4\n`end start `code3\n<a name=\"oVwXx\"></a>\n## assignment 5\n\n1. $DS$$DS$\n```\nassume cs:code\n\na segment \ndb 1,2,3,4,5,6,7,8\na ends\n\nb segment\ndb 1,2,3,4,5,6,7,8\nb ends\n\nc segment \ndb 0,0,0,0,0,0,0,0\nc ends\n\ncode segment\nstart:\nmov bx, 0\nmov cx, 8\ns:\nmov dx, a\nmov ds,dx\nmov ax, [bx]\nmov dx, b\nmov ds,dx\nadd ax, [bx]\nmov dx, c\nmov ds,dx\nmov [bx], ax\ninc bx\nloop s\n\nmov ax,4c00H\nint 21H\n\ncode ends\n\nend start\n\n```\n\n2. debuga$076C$b$076D$c$076E$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882442409-a3ef513e-eb43-4f18-abf5-ea6f262cc3f6.png)\n\n3. c\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882790995-352f2b4b-203d-458a-b5a2-878acfd29335.png)\n<a name=\"azFBM\"></a>\n## assignment 6\n\n1. bx2pushpop\n```\nassume cs:code\na segment\ndw 1,2,3,4,5,6,7,8,9,0ah,0bh,0ch,0dh,0eh,0fh,0ffh\na ends\n\nb segment \ndw 0,0,0,0,0,0,0,0\nb ends\n\ncode segment \nstart:\nmov ax, a\nmov ds, ax\nmov ax, b \nmov ss, ax\nmov sp, 0010H\nmov bx, 0\nmov cx, 8\ns:\npush [bx]\nadd bx, 2\nloop s\n\nmov ax, 4c00H\nint 21H\n\ncode ends\n\nend start\n```\n\n2. debuga $076C$  b$076E$code$076F$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885232599-a5e6bf92-ae97-421b-ad5b-904f427aef76.png)\n\n3. b\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885271367-eddf0cc8-98aa-4fe8-a38f-a014ed5f8179.png)\n\n---\n\n<a name=\"O7BgM\"></a>\n# 6 \n<a name=\"dyxQS\"></a>\n## assignment 1\n\n1. 7.8\n```\nassume cs:codesg, ds:datasg, ss:stacksg\n\ndatasg segment \ndb 'ibm             '\ndb 'dec             '\ndb 'dos             '\ndb 'vax             '\ndatasg ends\n\nstacksg segment\ndw 0,0,0,0,0,0,0,0\nstacksg ends\n\ncodesg segment\nstart:\nmov ax, stacksg\nmov ss, ax\nmov sp, 10H\nmov ax, datasg\nmov ds, ax\nmov bx, 0\nmov cx, 4\ns0:\npush cx\nmov si, 0\nmov cx, 3\ns:\nmov al, [bx+si]\nand al, 11011111B\nmov [bx+si], al\ninc si\nloop s \n\npop cx\nadd bx, 10H\nloop s0\n\nmov ax, 4c00H\nint 21H\n\ncodesg ends\n\nend start\n```\n\n2. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954476992-988989f0-7ba5-4132-8b53-011e5cfe1ce7.png)\n\n3. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954644257-b63d5af0-f266-4057-b1e1-c513e09c9298.png)\n<a name=\"pHbEJ\"></a>\n## assignment 2\n\n1. cxcx\n```\nassume cs:codesg, ds:datasg, ss:stacksg\n\nstacksg segment\ndw 0,0,0,0,0,0,0,0\nstacksg ends\n\ndatasg segment \ndb '1. display      '\ndb '2. brows        '\ndb '3. replace      '\ndb '4. modify       '\ndatasg ends\n\ncodesg segment\nstart:\nmov ax, stacksg\nmov ss, ax\nmov sp, 10H \nmov ax, datasg\nmov ds, ax\nmov bx, 0\nmov cx, 4\ns0:\npush cx\nmov cx, 4\nmov si, 0\ns: \nmov al, [bx+3+si]\nand al, 11011111B\nmov [bx+3+si], al\ninc si\nloop s\n\npop cx\nadd bx, 10H\nloop s0\n\nmov ax, 4c00H\nint 21H\n\ncodesg ends\n\nend start\n\n\n\n```\n\n2. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955793129-198d15a6-56f1-4375-a4c1-fa6d84e6aa7c.png)\n\n3. data\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955864652-707fd6d7-d65d-4be6-b3f9-bbcbbc27484b.png)\n\n---\n\n<a name=\"MJU1z\"></a>\n# 7 \n\n1. `word ptr / byte ptr``div`\n```\nassume cs:codesg\n\nstack segment\ndw 0,0,0,0,0,0,0,0\nstack ends\n\ndata segment\ndb '1975','1976', '1977', '1978', '1979', '1980', '1981', '1982','1983'\ndb '1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991', '1992'\ndb '1993', '1994', '1995'\n\ndd 16,22,382,1356,2390, 8000, 16000,24486,50065, 97479,140417,197514\ndd 345980,590827,803530,1183000,1843000,2759000, 3753000, 4649000,5937000\n\ndw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793, 4037,5635, 8226\ndw 11542,14430,15257,17800\ndata ends\n\ntable segment\ndb 21 dup ('year summ ne ?? ')\ntable ends\n\ncodesg segment\nstart:\nmov ax, stack ;0776C\nmov ss, ax\nmov sp, 10H\nmov ax, data ; 076D\nmov es, ax\nmov ax, table ; 077b\nmov ds, ax\nmov bx,0\nmov si,0\nmov cx,21\n\nyear:\npush cx\nmov cx, 4\nmov di, 0\nchar:\nmov al, es:[si]\nmov [bx+di], al\ninc di\ninc si\nloop char\npop cx\nadd bx, 10H\nloop year\n\nmov cx, 21\nmov bx, 0\nincome:\npush cx\nmov cx, 2\nmov di, 0\ndwInt:\nmov ax, es:[si]\nmov [bx].5[di], ax\nadd si, 2\nadd di, 2\nloop dwInt\npop cx\nadd bx, 10H\nloop income\n\nmov cx, 21\nmov bx, 0\nstaff:\nmov ax, es:[si]\nmov [10+bx], ax\nadd si, 2;\nadd bx, 10H\nloop staff\n\nmov cx, 21\nmov bx, 0\naverage:\nmov dx, [bx+7]\nmov ax, [bx+5]\ndiv word ptr [bx+0AH]\nmov [bx+0Dh], ax\nadd bx, 10H\nloop average\n\nmov ax, 4C00H\nint 21H\ncodesg ends\nend start \n```\n\n2. table\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054412418-905eb553-63b9-4352-8fd3-87d9c57ec955.png)\n\n3. table\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054465034-493bafb1-d935-4da9-b3d0-07b0bdd54911.png)\n<a name=\"wI3bu\"></a>\n# 8 \n\n1. $start$`nop`No operation`nop`$s$`mov cs:[di], ax`$s$`jmp short s1``jmp short s`$s$\n2. `jmp short s1`IPIP$s2$$s1$$s2$jmp`nop`$(076C:0022)$$s1$`mov ax, 0`$(076C:0018)$`jmp short `$0022H-0018H =-10D(F6H)$$s$`jmp short s``EBF6`$s$\n3. $s$$IP = IP+(-10)$,debug`mov ax, 4c00H`$(000AH-0010H=0000H)$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674306714709-54439679-a96b-496d-97b1-de0f2c3abf77.png)\n<a name=\"lZyJr\"></a>\n# 9 \n\n1. `mov addressdata`mov(?)`welcome to masm!`$ax$mov\n```\nassume cs:codesg\n\ndata segment\ndb 'welcome to masm!'\ndata ends\n\ncodesg segment\nstart: \nmov ax, data\nmov ds, ax\nmov ax, 0B800H\nmov es, ax\n\nmov bx, 0\nmov si, 1824\nmov cx, 10H\ns0:\nmov ah, 82H\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s0\n\nmov bx, 0 \nmov si, 1984\nmov cx, 10H\ns1:\nmov ah, 0A4H\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s1\n\nmov bx, 0 \nmov si, 2144\nmov cx, 10H\ns2:\nmov ah, 11110001B\nmov al, [bx]\nmov es:[si], ax\ninc bx\nadd si, 2\nloop s2\n\nmov ax, 4c00H\nint 21H\ncodesg ends\n\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674447541217-19494cef-6da4-4fd3-b28c-6ad18c755471.png)\n\n<a name=\"zPzcC\"></a>\n# 10 \n<a name=\"Z9mXL\"></a>\n## assignment 1\n\n1. ****\n```\nassume cs:code\ndata segment\ndb \"welcome to masm!\", 0\ndata ends\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov dh, 8\nmov dl, 3\nmov cl, 2\nmov ax, data\nmov ds, ax\nmov ax, stack\nmov sp, 20H\nmov si, 0\ncall show_str\n\nmov ax, 4C00H\nint 21H\n\nshow_str:\npush ax ; \npush bx\npush cx\npush dx\npush es\npush si\n\nmov ax, 0B800H; 8025\nmov es, ax\n\nmov al, 160 ; \ninc dh ; 0\nmul dh ; 8ax\nmov bx, ax\nmov al, 2\nmul dl\nadd bx, ax\nmov ah, cl\n\nprint:\nmov cl, [si] ; cx\nmov ch, 0\njcxz ok ;\n\nmov al, cl ; \nmov es:[bx],ax\ninc si\nadd bx, 2\njmp print\n\nok:\npop si\npop es\npop dx\npop cx\npop bx\npop ax\nret \n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1674959885930-a6c4181a-e6a1-44cb-9ec8-cc5013b1314e.png)\n<a name=\"gCr3l\"></a>\n## assignment 2\n\n1.  \n\n                   $X/n = int(H/2)*65536 +[rem(H/n)*65536+L]/n$<br />32$X/n$(32160)<br />$(H/n)*65536 + (L/n)$<br />**32**<br />$int(H/2)*65536$,$int([rem(H/n)*65536+L]/n)$<br />**16**<br />$rem([rem(H/n)*65536+L]/n)$<br />\n```\nassume cs:code\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\nmov ax, 4240H\nmov dx, 000FH\nmov cx, 0AH\ncall divdw\n\nmov ax, 4C00H\nint 21H\n\ndivdw:\npush bx\n\nmov bx, ax ; L\nmov ax, dx ; H/N\nmov dx, 0\ndiv cx ; int(H/N)axrem(H/N)dx\n\npush ax ; int(H/N)\n\nmov ax, bx; dx and ax constitute rem(H/N)*65535+L\ndiv cx ; ax store the result\nmov cx, dx\n\npop dx ; int(H/N)\n\npop bx\nret\n\n\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675050216892-a6c856a5-19e3-42a9-9dae-62052e8d077c.png)\n<a name=\"wHNVn\"></a>\n## assignment 3\n\n1. \n```\nassume cs:code\n\ndata segment\ndb 10 dup(0)\ndata ends\n\nstack segment\ndw 16 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, 12666\nmov bx, data\nmov ds, bx\nmov si, 0\nmov bx, stack\nmov ss, bx\nmov sp, 20H\ncall dtoc\n\nmov dh, 8\nmov dl, 3\nmov cl, 2\ncall show_str\n\nmov ax, 4C00H\nint 21H\n\ndtoc:\npush ax\npush bx\npush cx\npush dx\npush si\npush di\n\nmov dx, 0 ; 16 0\nmov bx, 10\nmov di, 0 ; \n\ndivide:\nmov cx, ax \njcxz over\ninc di\ndiv bx ; 32axdx\nadd dx, 30H\npush dx\nmov dx, 0\njmp divide\n\nover:\nmov cx, di\nmove: \npop bx\nmov [si], bl\ninc si\nloop move\n\npop di\npop si\npop dx\npop cx\npop bx\npop ax\nret\n\nshow_str:\npush ax ; \npush bx\npush cx\npush dx\npush es\npush si\n\nmov ax, 0B800H; 8025\nmov es, ax\n\nmov al, 160 ; \ninc dh ; 0\nmul dh ; 8ax\nmov bx, ax\nmov dh, 0\nmov al, 2\nmul dl\nadd bx, ax\nmov ah, cl\n\nprint:\nmov cl, [si] ; cx\nmov ch, 0\njcxz ok ;\n\nmov al, cl ; \nmov es:[bx],ax\ninc si\nadd bx, 2\njmp print\n\nok:\npop si\npop es\npop dx\npop cx\npop bx\npop ax\nret \n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675070403817-35e5aa0f-3d0c-42ab-803a-9d7dbf5bcb8a.png)\n<a name=\"ww3wC\"></a>\n# 11 \n\n1. `cmp`if\n```\nassume cs:codesg\ndatasg segment\ndb \"Beginner's All-purpose Symbolic Instruction Code.\",0\ndatasg ends\n\ncodesg segment\nbegin:\nmov ax, datasg\nmov ds, ax\nmov si, 0\ncall letterc\n\nmov ax, 4C00H\nint 21H\n\nletterc:\npush ax\npush cx\n\nCapital:\nmov al, [si]\nmov cl, al\nmov ch, 0\njcxz OK\ncmp al, 97\njb NO\ncmp al, 122\nja NO\nand al, 11011111B\nmov [si], al\t\n\nNO:\ninc si\njmp short Capital\n\nOK:\npop cx\npop ax\nret\n\ncodesg ends\nend begin\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675142887049-1e6b7958-8779-4745-81f5-c6a536a232ca.png)\n<a name=\"bk4z5\"></a>\n# 12 0\n\n1. \n\n3\n\n-  \n- ($0000:0200H\\to0000:02FFH$)  \n- \n\n`jcxz``jmp short`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset do0 ; 076C:0028\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset do0end- offset do0; 0034H\ncld\nrep movsb ; 0:200\n\nmov word ptr es:[0], 0200H\nmov word ptr es:[0+2], 0 ; \n\nmov ax, 4C00H\nint 21H\n\ndo0:\njmp short do0start\ndb \"divide error\",0 \n\ndo0start:\nmov ax, 0B800H\nmov es, ax\nmov di, 160*12+34*2\n\nmov ax, cs\nmov ds, ax\nmov si, 202H\n\nprint:\nmov cL, [si]\nmov ch, 0\njcxz ok\nmov ah, 04h ;red\nmov al, cl\nmov es:[di], ax\ninc si\nadd di, 2 \njmp short print\n\nok:\nmov ax, 4C00H\nint 21H\n\ndo0end: ;005C\nnop\n\ncode ends\nend start\n```\n\n2. (debuglab12T)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675159533550-89caf027-f6da-4345-aa8c-e03159df600e.png)\n<a name=\"YSdgF\"></a>\n# 13 \n<a name=\"HHw6N\"></a>\n## assignment 1\n\n1. lab10-1show_str`call-ret` `int 7cH - iret`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset print\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset printed - offset print\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nprint:\npush bx\npush cx\npush es\npush si\npush ax\npush dx\n\nmov ax, 0B800H\nmov es, ax\n\nmov al, 160\ninc dh\nmul dh ; 160*(10+1) in ax\nmov bx, ax\nmov al, 2\nmul dl ; 10*2 in ax\nadd bx, ax\nmov ah, cl\n\nstPrint:\nmov ch, 0\nmov cl, [si]\njcxz ok\n\nmov al, cl\nmov es:[bx], ax\nadd bx, 2\ninc si\njmp short stPrint\n\nok:\npop dx\npop ax\npop si\npop es\npop cx\npop bx\niret\n\nprinted:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675224733068-a783d5cd-5d35-46b5-8032-3c8938e8347a.png)\n<a name=\"LKaNX\"></a>\n## assignment 2\n\n1. \n\nloop\n\n- $S$\n\n$CS$$IP$CS\t       IP(`offset s - offset se`)\n\n- $S$$CS:IP$\n\n`iret``pop IP , pop CS ,  popf`\n```\nassume cs:code\n\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset lp\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset lped - offset lp\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nlp:\ndec cx\njcxz lpret\npush bp\nmov bp, sp\nadd [bp+2], bx\nlpret:\npop bp\niret\n\nlped:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675237825483-f1ed3d6d-00cc-453b-91b3-757823355468.png)\n<a name=\"TCCAl\"></a>\n## assignment 3\n```\nassume cs:code\ncode segment\ns1: db 'Good,better,best,','$'\ns2: db 'Never let it rest,','$' \ns3: db 'Till good is better,','$'\ns4: db 'And better,best.', '$'\ns: dw offset s1, offset s2, offset s3, offset s4 \nrow: db 2,4,6,8\n\nstart:\nmov ax, cs \nmov ds, ax\nmov bx, offset s\nmov si, offset row\nmov cx, 4\nok:\nmov bh, 0 \nmov dh, [si]\nmov dl, 0\nmov ah, 2 ; BIOS--\nint 10h \n\nmov dx, [bx]                                           \nmov ah, 9 ; DOS--\nint 21h\ninc si\nadd bx, 2\nloop ok\n\nmov ax, 4C00H; DOS--al\nint 21H\ncode ends\nend start\n```\n<a name=\"zGspx\"></a>\n# 14  CMOS RAM\n\n1. \n```\nassume cs:code\n\nstack segment\ndw 16 dup (0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\nmov ax, 0B800H\nmov ds, ax\n\nmov al, 9\nmov bx, 160*12+36*2\ncall GetAscill\nmov byte ptr [bx+4], '/'\n\nmov al, 8\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], '/'\n\nmov al, 7\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ' '\n\nmov al, 4\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ':'\n\nmov al, 2\nadd bx, 6\ncall GetAscill\nmov byte ptr [bx+4], ':'\n\nmov al, 0\nadd bx, 6\ncall GetAscill\n\nmov ax, 4C00H\nint 21H\n\nGetAscill:\npush ax\npush bx\npush cx\npush dx\n\nout 70H, al\nin al, 71H\n\nmov ah, al\nmov cl, 4\nshr ah, cl\nand al, 00001111B\n\nadd ah, 30H\nadd al, 30H\n\nmov dx, 0B800H\nmov es, dx\nmov es:[bx], ah \nmov byte ptr es:[bx+1], 02H ; green\nmov es:[bx+2], al\nmov byte ptr es:[bx+3], 02H\n\npop dx\npop cx\npop bx\npop ax\nret\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675253920788-8fc4fee5-abeb-4e49-93bf-97e3873b6599.png)\n<a name=\"yTwL0\"></a>\n# 15 int 9 \n<a name=\"TIrMX\"></a>\n## 1\n$a\\to z$,Esc\n\n1. int 9 int 9`call dword ptr ds:[0]``call word ptr ds:[0]`int 9\n```\nassume cs:code\n\nstack segment\ndb 64 dup(0)\nstack ends\n\ndata segment\ndw 0,0\ndata ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 40H\nmov ax, data\nmov ds, ax\n\nmov ax, 0\nmov es, ax\n\npush es:[9*4]\npop ds:[0]\npush es:[9*4+2]\npop ds:[2] ; int 9\n\ncli\nmov word ptr es:[9*4], offset int9\nmov es:[9*4+2], cs;\nsti\n\n\nmov ax, 0B800H\nmov es,ax\nmov dh, 'a'\ns:\nmov es:[160*12+40*2], dh\ncall delay\ninc dh\ncmp dh, 'z'\njna s ; a~z\n\n\nmov ax, 0 \nmov es, ax\n\ncli\npush ds:[0]\npop es:[9*4]\npush ds:[2]\npop es:[9*4+2] ;int 9\nsti\n\n\nmov ax, 4C00h\nint 21H\n\ndelay:\npush ax\npush dx\nmov ax, 0\nmov dx, 10H\nse:\nsub ax, 1 ; dec\nsbb dx, 0\ncmp ax, 0\njne se\ncmp dx, 0\njne se\n\npop dx\npop ax\nret ; \n\nint9:\npush ax\npush es\nin al, 60H\n\npushf\ncall dword ptr ds:[0]\n\ncmp al, 01H\njne int9ret\nmov ax, 0B800H\nmov es, ax\ninc byte ptr es:[160*12+40*2+1] ; \n\nint9ret:\npop es\npop ax\niret\n\ncode ends\nend start\n\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675319548168-77f7b5a6-54bb-4526-b234-adb0e561004e.png)\n<a name=\"vlBjq\"></a>\n## 2\nDOSF1\n\n1. int 9int 9int 9int 9int 9$0:0200 \\to 0:0203$,int 9`cs:[200H]`\n```\nassume cs:code, ss:stack\n\nstack segment\ndb 32 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\n\nmov ax, 0\nmov es, ax\nmov di, 0204H\nmov ax, cs\nmov ds, ax\nmov si, offset int9\n\nmov cx, offset int9ed - offset int9\ncld\nrep movsb; \n\npush es:[9*4]\npop es:[200H]\npush es:[9*4+2]\npop es:[202H] ; int 9\n\ncli\nmov word ptr es:[9*4], 204H\nmov word ptr es:[9*4+2], 0 ; \nsti\n\nmov ax, 4C00H\nint 21H\n\nint9:\npush ax\npush cx\npush es\npush di\n\nin al, 60H\n\npushf\ncall dword ptr cs:[200H] ; int 9\n\ncmp al, 3BH\njne int9ret\n\nmov ax, 0B800H\nmov es, ax\nmov di, 1\nmov cx, 2000\ns:\ninc byte ptr es:[di]\nadd di, 2\nloop s\n\nint9ret:\npop di\npop es\npop cx\npop ax\niret\n\n\nint9ed:\nnop\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675322759364-2785ad21-17c7-4499-b1a3-fe6726975b02.png)\n<a name=\"XyIu0\"></a>\n## assignment 1\n\n1. \n\nA`cmp aL, 1EH+80H`\n```\nassume cs:code, ss:stack\n\nstack segment\ndb 32 dup(0)\nstack ends\n\ncode segment\nstart:\nmov ax, stack\nmov ss, ax\nmov sp, 20H\n\nmov ax, 0\nmov es, ax\nmov di, 0204H\nmov ax, cs\nmov ds, ax\nmov si, offset int9\n\nmov cx, offset int9ed - offset int9\ncld\nrep movsb; \n\npush es:[9*4]\npop es:[200H]\npush es:[9*4+2]\npop es:[202H] ; int 9\n\ncli\nmov word ptr es:[9*4], 204H\nmov word ptr es:[9*4+2], 0 ; \nsti\n\nmov ax, 4C00H\nint 21H\n\nint9:\npush ax\npush cx\npush es\npush di\n\nin aL,60h\n\npushf\ncall dword ptr cs:[200H]\n\ncmp aL, 1EH+80H\njne int9ret\n\nmov cx, 2000\nmov ax, 0B800H\nmov es, ax\nmov di, 0\ns:\nmov byte ptr es:[di], 'A'\nmov byte ptr es:[di+1], 02H\nadd di, 2\nloop s\n\nint9ret:\npop di\npop es\npop cx\npop ax\niret\n\nint9ed:\nnop\n\ncode ends\nend start\n\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675329053483-60588212-d9b5-4cef-acf7-06c70f65db5f.png)\n<a name=\"YodIM\"></a>\n# 16 \n\n1. \n\ntable200H\n```\nassume cs:code\ncode segment\nstart:\nmov ax, cs\nmov ds, ax\nmov si, offset int7ch\nmov ax, 0\nmov es, ax\nmov di, 0200H\n\nmov cx, offset int7ched - offset int7ch\ncld\nrep  movsb\n\nmov word ptr es:[7cH*4], 0200H\nmov word ptr es:[7cH*4+2], 0 \n\nmov ax, 4C00H\nint 21H\n\nint7ch:\njmp short int7chStart\ntable dw offset Sub1-offset int7ch+200H, offset Sub2-offset int7ch+200H, offset Sub3-offset int7ch+200H, offset Sub4-offset int7ch+200H\n\nint7chStart:\npush ax\npush bx\ncmp ah, 3\nja int7chRet\nmov bl, ah\nmov bh, 0\nadd bx, bx\ncall word ptr cs:(table-int7ch+200H)[bx]\n\nint7chRet:\npop bx\npop ax\niret\n\nSub1:\npush ax\npush bx\npush cx\npush ds\nmov ax, 0B800H\nmov ds, ax\nmov cx, 2000\nmov bx, 0\ns1:\nmov byte ptr [bx], ' '\nadd bx, 2\nloop s1\npop ds\npop cx\npop bx\npop ax\nret\n\nSub2:\npush ax\npush bx\npush cx\npush ds\nmov bx, 0B800H\nmov ds, bx\nmov cx, 2000\nmov bx, 1\ns2:\nand byte ptr [bx], 11111000B ; 3\nor byte ptr [bx], al\nadd bx, 2\nloop s2\npop ds\npop cx\npop bx\npop ax\nret\n\nSub3:\npush ax\npush bx\npush cx\npush ds\nmov bx, 0B800H\nmov ds, bx\nmov cl, 4\nshl al, cl\nmov cx, 2000\nmov bx, 1\ns3:\nand byte ptr [bx], 10001111B\nor [bx], al\nadd bx, 2\nloop s3\npop ds\npop cx\npop bx\npop ax\nret\n\nSub4:\npush ax\npush bx\npush cx\npush ds\npush es\npush si\npush di\nmov bx, 08B00H\nmov es, bx\nmov ds, bx\nmov si, 160\nmov di, 0\ncld\nmov cx, 24\n\ns4:\npush cx\nmov cx, 160\nrep movsb\npop cx\nloop s4\n\nmov cx, 80\nmov si, 0\ns41:\nmov byte ptr [160*24+si], ' '\nadd si ,2\nloop s41\npop di\npop si\npop es\npop ds\npop cx\npop bx\npop ax\nret\n\nint7ched:\nnop\n\ncode ends\nend start\n```\n```\nassume cs:code\n\ncode segment\nstart:\nmov ah,1 ; 0 2 3\nmov al,2\nint 7CH\n\nmov ax, 4C00H\nint 21H\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675411618416-c6c100a2-f4d1-4bc9-b3e6-22f83fcdcaee.png)\n<a name=\"IRx7s\"></a>\n# 17 \n17BIOS2, 3int 13Hmuldiv\n<a name=\"upigZ\"></a>\n## 17-1\n\"r\"\"g\",b\n\n1. \n\n0int 16H\n```\nassume cs:code\n\ncode segment\nstart:\n\nshow:\npush ax\npush es\npush di\n\nmov ah, 0\nint 16H\n\nmov bl, 1\ncmp al,'b'\nje showst\nshl bl, 1\ncmp al, 'g'\nje showst\nshl bl, 1\ncmp al, 'r'\nje showst\njmp short FRet\n\nshowst:\nmov ax, 0B800H\nmov es, ax\nmov di, 1\nmov cx, 2000\ns:\nand byte ptr es:[di], 11111000B\nor es:[di], bl\nadd di, 2\nloop s\n\nFRet:\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n\n2. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675431818731-db0edf92-bc54-4bfc-a35f-613c796dddda.png)\n<a name=\"Wyllk\"></a>\n# Other\n<a name=\"QMCD1\"></a>\n## 1. assume\n```\nassume cs:code, ds:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov ds, ax\n\nmov si, 0\nmov cx, 8\n\ns:\nmov ah, 0\nmov al, a[si]\nadd b, ax\ninc si\nloop s\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n\n1. `assume ds:data ss:stack`\n- assume$DSSS$datastack:`mov ax, data ``mov ds, ax`\n- assume$DSSS$datastack**dataab**$DS$****abdata$DS$data`mov ax, data``mov ax, data`data32bits16bitsax\n\n`assume ds:data`__<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675343108877-68cf68d3-97ef-4ecb-8b4f-6da330149c94.png)\n\n2. `assume cs:codesg`\n\n$CS$(codesg)$CS$. $CS$<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675341791119-4c9029f0-b9e3-4e2f-b1b9-aa5d02685f8f.png)\n<a name=\"wwfwW\"></a>\n## 2. \n\n1. \n\n(byte, word, double word)\n```\nassume cs:code, es:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov es, ax\n\nmov si, 0\nmov cx, 8\n\ns:\nmov ah, 0\nmov al, a[si]\nadd b, ax\ninc si\nloop s\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\nab\n\n- ****`**seg data:0**`**, byte**\n- ****`**seg data:8**`**, word**\n2. \n\n`mov al, a[si]` `add b, ax`data: `mov al, es:0[si]``add es:[8], ax`<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409971871-70ff728a-fa74-48ac-a742-be8ec319d677.png)\n\n3. \n```\nassume cs:code, ds:data\ndata segment\na db 1,2,3,4,5,6,7,8\nb dw 0\nc dw a, b\ndata ends\n\ncode segment\nstart:\nmov ax, data\nmov ds, ax\n\nmov dx, 2\nmov dx, c\nmov ax, c[1]\n\nmov ax, 4C00H\nint 21H\n\ncode ends\nend start\n```\n`c dw a, b`c`seg data:000A`**a**$0000$<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409382345-20e1a2f2-8973-4150-992a-2a8acb141fa9.png)\n\n","slug":"assemble","published":1,"updated":"2023-03-10T04:16:55.263Z","_id":"clf10r0nx00039pva92334a4k","comments":1,"layout":"post","photos":[],"link":"","content":"<p><meta name=\"referrer\" content=\"no-referrer\"><br><a name=\"MTE7s\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>CSAPPattack lab</p>\n<h2 id><a href=\"#\" class=\"headerlink\" title></a><span id=\"more\"></span></h2><p><a name=\"PhqOH\"></a></p>\n<h1 id=\"1-CPU\"><a href=\"#1-CPU\" class=\"headerlink\" title=\"1 CPU\"></a>1 CPU</h1><p><a name=\"xymUo\"></a></p>\n<h2 id=\"debug\"><a href=\"#debug\" class=\"headerlink\" title=\"debug\"></a>debug<a href=\"https://blog.csdn.net/YuzuruHanyu/article/details/80287419?spm=1001.2014.3001.5506\"></a></h2><p><a name=\"UrdzB\"></a></p>\n<h2 id=\"assignment-1\"><a href=\"#assignment-1\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>AU</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249473372-3a80b2ab-d9e2-483c-ac41-140d30fdd765.png\" alt=\"image.png\"></p>\n<ol>\n<li>RCSIPCS:IPT</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249669344-d36231e5-8310-46ba-a3c6-155e2601ff58.png\" alt=\"image.png\"><br><a name=\"rTW1r\"></a></p>\n<h2 id=\"assignment-2\"><a href=\"#assignment-2\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250172971-61fbb876-feda-4ca9-b81d-e558cc0e5a6a.png\" alt=\"image.png\"></p>\n<ol>\n<li>_CS:IP_</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250237721-ec3e62f5-f6bc-4890-8f25-b62f6d89e60e.png\" alt=\"image.png\"></p>\n<ol>\n<li>$2^8$ $AX = 0100H$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250558182-3582fd8d-9783-421c-9731-0d83ae5c81a8.png\" alt=\"image.png\"><br><a name=\"QAZ3Z\"></a></p>\n<h2 id=\"assignment-3\"><a href=\"#assignment-3\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li>D$FFFF5H \\to FFFFCHFFFF:0005 \\to FFFF:000C$$dd/mm/yy$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251622812-ca79ef23-5a2a-46b2-ba9f-326aa9d3bc54.png\" alt=\"image.png\"></p>\n<ol>\n<li>EROM</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251941938-25cdf39e-5c26-49a3-81da-f108dff28da7.png\" alt=\"image.png\"><br><a name=\"CHS7t\"></a></p>\n<h2 id=\"assignment-4\"><a href=\"#assignment-4\" class=\"headerlink\" title=\"assignment 4\"></a>assignment 4</h2><p>1.$A0000H \\to BFFFFH$8086 PC<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673253290191-823908a7-61e0-4e4d-ac20-66184b8a4509.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"hcb7h\"></a></p>\n<h1 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2 \"></a>2 </h1><p><a name=\"vDc8z\"></a></p>\n<h2 id=\"assignment-1-1\"><a href=\"#assignment-1-1\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>AU</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596808599-b129a717-4d20-42a3-8823-64dc726440e3.png\" alt=\"image.png\"></p>\n<ol>\n<li>CS:IP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596896692-f6335ebe-e9b7-44cf-9a38-d686dde7d140.png\" alt=\"image.png\"></p>\n<ol>\n<li>tAXBXSP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673597028389-791ccf84-0268-4f23-976f-53e6ecd97b36.png\" alt=\"image.png\"><br><a name=\"NB9fg\"></a></p>\n<h2 id=\"assignment-2-1\"><a href=\"#assignment-2-1\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><p>TCPUPSWCSIP</p>\n<hr>\n<p><a name=\"jpe3I\"></a></p>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3 \"></a>3 </h1><p><a name=\"QMUAH\"></a></p>\n<h2 id=\"assignment-1-2\"><a href=\"#assignment-1-2\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673681789903-cb9f13be-b044-4c3f-be1d-8fa401195306.png\" alt=\"image.png\"><br><a name=\"bm7kI\"></a></p>\n<h2 id=\"assignment-2-2\"><a href=\"#assignment-2-2\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li>debugCS:IP$DS=075C$PSP$075C:0$$076C:0\\;(075C+10:0)$,$CS:IP = 076C:0000$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682350829-98451696-0d75-4414-87c5-b527b5c96169.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682565168-917f19d2-8e0c-44ab-84e5-453c301bcda0.png\" alt=\"image.png\"><br><a name=\"fqp3r\"></a></p>\n<h2 id=\"assignment-3-1\"><a href=\"#assignment-3-1\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li>PSP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682886059-386e1af8-2b73-480f-92b1-d2ea01cce40a.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"eTiIA\"></a></p>\n<h1 id=\"4-bx-loop\"><a href=\"#4-bx-loop\" class=\"headerlink\" title=\"4 [bx]loop\"></a>4 [bx]loop</h1><p><a name=\"Ypsn2\"></a></p>\n<h2 id=\"assignment-1-3\"><a href=\"#assignment-1-3\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0020H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">mov cx, 64</span><br><span class=\"line\"></span><br><span class=\"line\">s: </span><br><span class=\"line\">mov [bx],dx</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">inc dx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00h </span><br><span class=\"line\">int 21h</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673769654198-dcf5a11b-b298-4d67-ac52-e6412baa7953.png\" alt=\"image.png\"></p>\n<ol>\n<li>s$076C:000E$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770040980-f6175097-5e41-41f0-a0d4-ed6dcc9e2d26.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770269260-0b535c86-7318-4bea-9b9b-151df8786503.png\" alt=\"image.png\"><br><a name=\"q95Oy\"></a></p>\n<h2 id=\"assignment-2-3\"><a href=\"#assignment-2-3\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p>bx9</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0020H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 64</span><br><span class=\"line\"></span><br><span class=\"line\">s: </span><br><span class=\"line\">mov [bx],bx</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00h </span><br><span class=\"line\">int 21h</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>assigment 1</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673771416582-e853218d-46c6-4bf8-98d6-cacae4200dbb.png\" alt=\"image.png\"><br><a name=\"b3BKL\"></a></p>\n<h2 id=\"assignment-3-2\"><a href=\"#assignment-3-2\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li><code>mov ax,cs</code> <code>loop s</code> $0020:0000$</li>\n<li>CS<code>mov cx,_____</code> 1debugU$076C:0000 \\to 076C:0015$$16H\\,(23D)$,$16H$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673774640766-de55642e-4594-4add-9f75-ac17f9cf3628.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"l6DRo\"></a></p>\n<h1 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5 \"></a>5 </h1><p><a name=\"y07m5\"></a></p>\n<h2 id=\"assignment-1-4\"><a href=\"#assignment-1-4\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>data$076C$, stack$076D$code$076E$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877104816-d24fcee5-293b-4965-a116-55b74e84812c.png\" alt=\"image.png\"></p>\n<ol>\n<li>Q1<code>G 001D</code>Udata: $0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H$()</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877337524-5a528fcf-a7ec-47a7-ba04-6014616d76ff.png\" alt=\"image.png\"></p>\n<ol>\n<li>Q2R  $\\to \\;CS:076E$ $DS:076C$$SS:076D$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877858110-72e7472f-1574-4c88-ae28-a064f40894e4.png\" alt=\"image.png\"></p>\n<ol>\n<li><p>Q3datastack16code$X$stack$X-1H$data$X-2H$assignment2<br><a name=\"qSFne\"></a></p>\n<h2 id=\"assignment-2-4\"><a href=\"#assignment-2-4\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2></li>\n<li><p>assigment1 </p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673878358257-7f67627a-48a8-45cf-bc4a-1f51e9552faa.png\" alt=\"image.png\"></p>\n<ol>\n<li><p>16<br><a name=\"AiceH\"></a></p>\n<h2 id=\"assignment-3-3\"><a href=\"#assignment-3-3\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2></li>\n<li><p>assignment1</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673879121558-74eaedb2-acd9-4a9c-a318-e028bba49db2.png\" alt=\"image.png\"><br>2 code$X$data$X+3H$stack$X+4H$<br><a name=\"NxsNH\"></a></p>\n<h2 id=\"assignment-4-1\"><a href=\"#assignment-4-1\" class=\"headerlink\" title=\"assignment 4\"></a>assignment 4</h2><p><code>end start</code>code3<br><a name=\"oVwXx\"></a></p>\n<h2 id=\"assignment-5\"><a href=\"#assignment-5\" class=\"headerlink\" title=\"assignment 5\"></a>assignment 5</h2><ol>\n<li><p>$DS$$DS$</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">a segment </span><br><span class=\"line\">db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">a ends</span><br><span class=\"line\"></span><br><span class=\"line\">b segment</span><br><span class=\"line\">db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b ends</span><br><span class=\"line\"></span><br><span class=\"line\">c segment </span><br><span class=\"line\">db 0,0,0,0,0,0,0,0</span><br><span class=\"line\">c ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov dx, a</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">mov ax, [bx]</span><br><span class=\"line\">mov dx, b</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">add ax, [bx]</span><br><span class=\"line\">mov dx, c</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">mov [bx], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax,4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debuga$076C$b$076D$c$076E$</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882442409-a3ef513e-eb43-4f18-abf5-ea6f262cc3f6.png\" alt=\"image.png\"></p>\n<ol>\n<li>c</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882790995-352f2b4b-203d-458a-b5a2-878acfd29335.png\" alt=\"image.png\"><br><a name=\"azFBM\"></a></p>\n<h2 id=\"assignment-6\"><a href=\"#assignment-6\" class=\"headerlink\" title=\"assignment 6\"></a>assignment 6</h2><ol>\n<li><p>bx2pushpop</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">a segment</span><br><span class=\"line\">dw 1,2,3,4,5,6,7,8,9,0ah,0bh,0ch,0dh,0eh,0fh,0ffh</span><br><span class=\"line\">a ends</span><br><span class=\"line\"></span><br><span class=\"line\">b segment </span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">b ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment </span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, a</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, b </span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 0010H</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\">s:</span><br><span class=\"line\">push [bx]</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debuga $076C$  b$076E$code$076F$</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885232599-a5e6bf92-ae97-421b-ad5b-904f427aef76.png\" alt=\"image.png\"></p>\n<ol>\n<li>b</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885271367-eddf0cc8-98aa-4fe8-a38f-a014ed5f8179.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"O7BgM\"></a></p>\n<h1 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6 \"></a>6 </h1><p><a name=\"dyxQS\"></a></p>\n<h2 id=\"assignment-1-5\"><a href=\"#assignment-1-5\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p>7.8</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg, ds:datasg, ss:stacksg</span><br><span class=\"line\"></span><br><span class=\"line\">datasg segment </span><br><span class=\"line\">db &#x27;ibm             &#x27;</span><br><span class=\"line\">db &#x27;dec             &#x27;</span><br><span class=\"line\">db &#x27;dos             &#x27;</span><br><span class=\"line\">db &#x27;vax             &#x27;</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">stacksg segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stacksg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stacksg</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H</span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">s0:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 3</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov al, [bx+si]</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [bx+si], al</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s </span><br><span class=\"line\"></span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>data</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954476992-988989f0-7ba5-4132-8b53-011e5cfe1ce7.png\" alt=\"image.png\"></p>\n<ol>\n<li>data</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954644257-b63d5af0-f266-4057-b1e1-c513e09c9298.png\" alt=\"image.png\"><br><a name=\"pHbEJ\"></a></p>\n<h2 id=\"assignment-2-5\"><a href=\"#assignment-2-5\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p>cxcx</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg, ds:datasg, ss:stacksg</span><br><span class=\"line\"></span><br><span class=\"line\">stacksg segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stacksg ends</span><br><span class=\"line\"></span><br><span class=\"line\">datasg segment </span><br><span class=\"line\">db &#x27;1. display      &#x27;</span><br><span class=\"line\">db &#x27;2. brows        &#x27;</span><br><span class=\"line\">db &#x27;3. replace      &#x27;</span><br><span class=\"line\">db &#x27;4. modify       &#x27;</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stacksg</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H </span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">s0:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">s: </span><br><span class=\"line\">mov al, [bx+3+si]</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [bx+3+si], al</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>data</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955793129-198d15a6-56f1-4375-a4c1-fa6d84e6aa7c.png\" alt=\"image.png\"></p>\n<ol>\n<li>data</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955864652-707fd6d7-d65d-4be6-b3f9-bbcbbc27484b.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"MJU1z\"></a></p>\n<h1 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7 \"></a>7 </h1><ol>\n<li><p><code>word ptr / byte ptr</code><code>div</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &#x27;1975&#x27;,&#x27;1976&#x27;, &#x27;1977&#x27;, &#x27;1978&#x27;, &#x27;1979&#x27;, &#x27;1980&#x27;, &#x27;1981&#x27;, &#x27;1982&#x27;,&#x27;1983&#x27;</span><br><span class=\"line\">db &#x27;1984&#x27;, &#x27;1985&#x27;, &#x27;1986&#x27;, &#x27;1987&#x27;, &#x27;1988&#x27;, &#x27;1989&#x27;, &#x27;1990&#x27;, &#x27;1991&#x27;, &#x27;1992&#x27;</span><br><span class=\"line\">db &#x27;1993&#x27;, &#x27;1994&#x27;, &#x27;1995&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">dd 16,22,382,1356,2390, 8000, 16000,24486,50065, 97479,140417,197514</span><br><span class=\"line\">dd 345980,590827,803530,1183000,1843000,2759000, 3753000, 4649000,5937000</span><br><span class=\"line\"></span><br><span class=\"line\">dw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793, 4037,5635, 8226</span><br><span class=\"line\">dw 11542,14430,15257,17800</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">table segment</span><br><span class=\"line\">db 21 dup (&#x27;year summ ne ?? &#x27;)</span><br><span class=\"line\">table ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack ;0776C</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H</span><br><span class=\"line\">mov ax, data ; 076D</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov ax, table ; 077b</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx,0</span><br><span class=\"line\">mov si,0</span><br><span class=\"line\">mov cx,21</span><br><span class=\"line\"></span><br><span class=\"line\">year:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">char:</span><br><span class=\"line\">mov al, es:[si]</span><br><span class=\"line\">mov [bx+di], al</span><br><span class=\"line\">inc di</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop char</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop year</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">income:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 2</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">dwInt:</span><br><span class=\"line\">mov ax, es:[si]</span><br><span class=\"line\">mov [bx].5[di], ax</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop dwInt</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop income</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">staff:</span><br><span class=\"line\">mov ax, es:[si]</span><br><span class=\"line\">mov [10+bx], ax</span><br><span class=\"line\">add si, 2;</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop staff</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">average:</span><br><span class=\"line\">mov dx, [bx+7]</span><br><span class=\"line\">mov ax, [bx+5]</span><br><span class=\"line\">div word ptr [bx+0AH]</span><br><span class=\"line\">mov [bx+0Dh], ax</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop average</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end start </span><br></pre></td></tr></table></figure>\n</li>\n<li><p>table</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054412418-905eb553-63b9-4352-8fd3-87d9c57ec955.png\" alt=\"image.png\"></p>\n<ol>\n<li>table</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054465034-493bafb1-d935-4da9-b3d0-07b0bdd54911.png\" alt=\"image.png\"><br><a name=\"wI3bu\"></a></p>\n<h1 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8 \"></a>8 </h1><ol>\n<li>$start$<code>nop</code>No operation<code>nop</code>$s$<code>mov cs:[di], ax</code>$s$<code>jmp short s1</code><code>jmp short s</code>$s$</li>\n<li><code>jmp short s1</code>IPIP$s2$$s1$$s2$jmp<code>nop</code>$(076C:0022)$$s1$<code>mov ax, 0</code>$(076C:0018)$<code>jmp short </code>$0022H-0018H =-10D(F6H)$$s$<code>jmp short s</code><code>EBF6</code>$s$</li>\n<li>$s$$IP = IP+(-10)$,debug<code>mov ax, 4c00H</code>$(000AH-0010H=0000H)$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674306714709-54439679-a96b-496d-97b1-de0f2c3abf77.png\" alt=\"image.png\"><br><a name=\"lZyJr\"></a></p>\n<h1 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9 \"></a>9 </h1><ol>\n<li><p><code>mov addressdata</code>mov(?)<code>welcome to masm!</code>$ax$mov</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &#x27;welcome to masm!&#x27;</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start: </span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov si, 1824</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s0:</span><br><span class=\"line\">mov ah, 82H</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0 </span><br><span class=\"line\">mov si, 1984</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s1:</span><br><span class=\"line\">mov ah, 0A4H</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s1</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0 </span><br><span class=\"line\">mov si, 2144</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s2:</span><br><span class=\"line\">mov ah, 11110001B</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s2</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674447541217-19494cef-6da4-4fd3-b28c-6ad18c755471.png\" alt=\"image.png\"></p>\n<p><a name=\"zPzcC\"></a></p>\n<h1 id=\"10-\"><a href=\"#10-\" class=\"headerlink\" title=\"10 \"></a>10 </h1><p><a name=\"Z9mXL\"></a></p>\n<h2 id=\"assignment-1-6\"><a href=\"#assignment-1-6\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p><strong></strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &quot;welcome to masm!&quot;, 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov dh, 8</span><br><span class=\"line\">mov dl, 3</span><br><span class=\"line\">mov cl, 2</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">call show_str</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">show_str:</span><br><span class=\"line\">push ax ; </span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H; 8025</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160 ; </span><br><span class=\"line\">inc dh ; 0</span><br><span class=\"line\">mul dh ; 8ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cl, [si] ; cx</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok ;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl ; </span><br><span class=\"line\">mov es:[bx],ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">jmp print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret </span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674959885930-a6c4181a-e6a1-44cb-9ec8-cc5013b1314e.png\" alt=\"image.png\"><br><a name=\"gCr3l\"></a></p>\n<h2 id=\"assignment-2-6\"><a href=\"#assignment-2-6\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p> </p>\n<pre><code>            $X/n = int(H/2)*65536 +[rem(H/n)*65536+L]/n$&lt;br /&gt;32$X/n$(32160)&lt;br /&gt;$(H/n)*65536 + (L/n)$&lt;br /&gt;**32**&lt;br /&gt;$int(H/2)*65536$,$int([rem(H/n)*65536+L]/n)$&lt;br /&gt;**16**&lt;br /&gt;$rem([rem(H/n)*65536+L]/n)$&lt;br /&gt;\n</code></pre><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov ax, 4240H</span><br><span class=\"line\">mov dx, 000FH</span><br><span class=\"line\">mov cx, 0AH</span><br><span class=\"line\">call divdw</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">divdw:</span><br><span class=\"line\">push bx</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, ax ; L</span><br><span class=\"line\">mov ax, dx ; H/N</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">div cx ; int(H/N)axrem(H/N)dx</span><br><span class=\"line\"></span><br><span class=\"line\">push ax ; int(H/N)</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, bx; dx and ax constitute rem(H/N)*65535+L</span><br><span class=\"line\">div cx ; ax store the result</span><br><span class=\"line\">mov cx, dx</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx ; int(H/N)</span><br><span class=\"line\"></span><br><span class=\"line\">pop bx</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675050216892-a6c856a5-19e3-42a9-9dae-62052e8d077c.png\" alt=\"image.png\"><br><a name=\"wHNVn\"></a></p>\n<h2 id=\"assignment-3-4\"><a href=\"#assignment-3-4\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db 10 dup(0)</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, 12666</span><br><span class=\"line\">mov bx, data</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov bx, stack</span><br><span class=\"line\">mov ss, bx</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">call dtoc</span><br><span class=\"line\"></span><br><span class=\"line\">mov dh, 8</span><br><span class=\"line\">mov dl, 3</span><br><span class=\"line\">mov cl, 2</span><br><span class=\"line\">call show_str</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">dtoc:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push si</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 0 ; 16 0</span><br><span class=\"line\">mov bx, 10</span><br><span class=\"line\">mov di, 0 ; </span><br><span class=\"line\"></span><br><span class=\"line\">divide:</span><br><span class=\"line\">mov cx, ax </span><br><span class=\"line\">jcxz over</span><br><span class=\"line\">inc di</span><br><span class=\"line\">div bx ; 32axdx</span><br><span class=\"line\">add dx, 30H</span><br><span class=\"line\">push dx</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">jmp divide</span><br><span class=\"line\"></span><br><span class=\"line\">over:</span><br><span class=\"line\">mov cx, di</span><br><span class=\"line\">move: </span><br><span class=\"line\">pop bx</span><br><span class=\"line\">mov [si], bl</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop move</span><br><span class=\"line\"></span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">show_str:</span><br><span class=\"line\">push ax ; </span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H; 8025</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160 ; </span><br><span class=\"line\">inc dh ; 0</span><br><span class=\"line\">mul dh ; 8ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov dh, 0</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cl, [si] ; cx</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok ;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl ; </span><br><span class=\"line\">mov es:[bx],ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">jmp print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret </span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675070403817-35e5aa0f-3d0c-42ab-803a-9d7dbf5bcb8a.png\" alt=\"image.png\"><br><a name=\"ww3wC\"></a></p>\n<h1 id=\"11-\"><a href=\"#11-\" class=\"headerlink\" title=\"11 \"></a>11 </h1><ol>\n<li><p><code>cmp</code>if</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\">datasg segment</span><br><span class=\"line\">db &quot;Beginner&#x27;s All-purpose Symbolic Instruction Code.&quot;,0</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">begin:</span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">call letterc</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">letterc:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\"></span><br><span class=\"line\">Capital:</span><br><span class=\"line\">mov al, [si]</span><br><span class=\"line\">mov cl, al</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz OK</span><br><span class=\"line\">cmp al, 97</span><br><span class=\"line\">jb NO</span><br><span class=\"line\">cmp al, 122</span><br><span class=\"line\">ja NO</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [si], al\t</span><br><span class=\"line\"></span><br><span class=\"line\">NO:</span><br><span class=\"line\">inc si</span><br><span class=\"line\">jmp short Capital</span><br><span class=\"line\"></span><br><span class=\"line\">OK:</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end begin</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675142887049-1e6b7958-8779-4745-81f5-c6a536a232ca.png\" alt=\"image.png\"><br><a name=\"bk4z5\"></a></p>\n<h1 id=\"12-0\"><a href=\"#12-0\" class=\"headerlink\" title=\"12 0\"></a>12 0</h1><ol>\n<li></li>\n</ol>\n<p>3</p>\n<ul>\n<li> </li>\n<li>($0000:0200H\\to0000:02FFH$)  </li>\n<li></li>\n</ul>\n<p><code>jcxz</code><code>jmp short</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset do0 ; 076C:0028</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset do0end- offset do0; 0034H</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb ; 0:200</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[0], 0200H</span><br><span class=\"line\">mov word ptr es:[0+2], 0 ; </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">do0:</span><br><span class=\"line\">jmp short do0start</span><br><span class=\"line\">db &quot;divide error&quot;,0 </span><br><span class=\"line\"></span><br><span class=\"line\">do0start:</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 160*12+34*2</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, 202H</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cL, [si]</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok</span><br><span class=\"line\">mov ah, 04h ;red</span><br><span class=\"line\">mov al, cl</span><br><span class=\"line\">mov es:[di], ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add di, 2 </span><br><span class=\"line\">jmp short print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">do0end: ;005C</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li>(debuglab12T)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675159533550-89caf027-f6da-4345-aa8c-e03159df600e.png\" alt=\"image.png\"><br><a name=\"YSdgF\"></a></p>\n<h1 id=\"13-\"><a href=\"#13-\" class=\"headerlink\" title=\"13 \"></a>13 </h1><p><a name=\"HHw6N\"></a></p>\n<h2 id=\"assignment-1-7\"><a href=\"#assignment-1-7\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p>lab10-1show_str<code>call-ret</code> <code>int 7cH - iret</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset print</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset printed - offset print</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push dx</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160</span><br><span class=\"line\">inc dh</span><br><span class=\"line\">mul dh ; 160*(10+1) in ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl ; 10*2 in ax</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">stPrint:</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">mov cl, [si]</span><br><span class=\"line\">jcxz ok</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl</span><br><span class=\"line\">mov es:[bx], ax</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">inc si</span><br><span class=\"line\">jmp short stPrint</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">printed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675224733068-a783d5cd-5d35-46b5-8032-3c8938e8347a.png\" alt=\"image.png\"><br><a name=\"LKaNX\"></a></p>\n<h2 id=\"assignment-2-7\"><a href=\"#assignment-2-7\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li></li>\n</ol>\n<p>loop</p>\n<ul>\n<li>$S$</li>\n</ul>\n<p>$CS$$IP$CS           IP(<code>offset s - offset se</code>)</p>\n<ul>\n<li>$S$$CS:IP$</li>\n</ul>\n<p><code>iret</code><code>pop IP , pop CS ,  popf</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset lp</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset lped - offset lp</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">lp:</span><br><span class=\"line\">dec cx</span><br><span class=\"line\">jcxz lpret</span><br><span class=\"line\">push bp</span><br><span class=\"line\">mov bp, sp</span><br><span class=\"line\">add [bp+2], bx</span><br><span class=\"line\">lpret:</span><br><span class=\"line\">pop bp</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">lped:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675237825483-f1ed3d6d-00cc-453b-91b3-757823355468.png\" alt=\"image.png\"><br><a name=\"TCCAl\"></a></p>\n<h2 id=\"assignment-3-5\"><a href=\"#assignment-3-5\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">code segment</span><br><span class=\"line\">s1: db &#x27;Good,better,best,&#x27;,&#x27;$&#x27;</span><br><span class=\"line\">s2: db &#x27;Never let it rest,&#x27;,&#x27;$&#x27; </span><br><span class=\"line\">s3: db &#x27;Till good is better,&#x27;,&#x27;$&#x27;</span><br><span class=\"line\">s4: db &#x27;And better,best.&#x27;, &#x27;$&#x27;</span><br><span class=\"line\">s: dw offset s1, offset s2, offset s3, offset s4 </span><br><span class=\"line\">row: db 2,4,6,8</span><br><span class=\"line\"></span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs </span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, offset s</span><br><span class=\"line\">mov si, offset row</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">ok:</span><br><span class=\"line\">mov bh, 0 </span><br><span class=\"line\">mov dh, [si]</span><br><span class=\"line\">mov dl, 0</span><br><span class=\"line\">mov ah, 2 ; BIOS--</span><br><span class=\"line\">int 10h </span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, [bx]                                           </span><br><span class=\"line\">mov ah, 9 ; DOS--</span><br><span class=\"line\">int 21h</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop ok</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H; DOS--al</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<p><a name=\"zGspx\"></a></p>\n<h1 id=\"14--CMOS-RAM\"><a href=\"#14--CMOS-RAM\" class=\"headerlink\" title=\"14  CMOS RAM\"></a>14  CMOS RAM</h1><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 9</span><br><span class=\"line\">mov bx, 160*12+36*2</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;/&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 8</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;/&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 7</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27; &#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 4</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;:&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;:&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 0</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">GetAscill:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\"></span><br><span class=\"line\">out 70H, al</span><br><span class=\"line\">in al, 71H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ah, al</span><br><span class=\"line\">mov cl, 4</span><br><span class=\"line\">shr ah, cl</span><br><span class=\"line\">and al, 00001111B</span><br><span class=\"line\"></span><br><span class=\"line\">add ah, 30H</span><br><span class=\"line\">add al, 30H</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 0B800H</span><br><span class=\"line\">mov es, dx</span><br><span class=\"line\">mov es:[bx], ah </span><br><span class=\"line\">mov byte ptr es:[bx+1], 02H ; green</span><br><span class=\"line\">mov es:[bx+2], al</span><br><span class=\"line\">mov byte ptr es:[bx+3], 02H</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675253920788-8fc4fee5-abeb-4e49-93bf-97e3873b6599.png\" alt=\"image.png\"><br><a name=\"yTwL0\"></a></p>\n<h1 id=\"15-int-9-\"><a href=\"#15-int-9-\" class=\"headerlink\" title=\"15 int 9 \"></a>15 int 9 </h1><p><a name=\"TIrMX\"></a></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p>$a\\to z$,Esc</p>\n<ol>\n<li><p>int 9 int 9<code>call dword ptr ds:[0]</code><code>call word ptr ds:[0]</code>int 9</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 64 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">dw 0,0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 40H</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop ds:[0]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop ds:[2] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], offset int9</span><br><span class=\"line\">mov es:[9*4+2], cs;</span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es,ax</span><br><span class=\"line\">mov dh, &#x27;a&#x27;</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov es:[160*12+40*2], dh</span><br><span class=\"line\">call delay</span><br><span class=\"line\">inc dh</span><br><span class=\"line\">cmp dh, &#x27;z&#x27;</span><br><span class=\"line\">jna s ; a~z</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0 </span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">push ds:[0]</span><br><span class=\"line\">pop es:[9*4]</span><br><span class=\"line\">push ds:[2]</span><br><span class=\"line\">pop es:[9*4+2] ;int 9</span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00h</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">delay:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push dx</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov dx, 10H</span><br><span class=\"line\">se:</span><br><span class=\"line\">sub ax, 1 ; dec</span><br><span class=\"line\">sbb dx, 0</span><br><span class=\"line\">cmp ax, 0</span><br><span class=\"line\">jne se</span><br><span class=\"line\">cmp dx, 0</span><br><span class=\"line\">jne se</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret ; </span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push es</span><br><span class=\"line\">in al, 60H</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr ds:[0]</span><br><span class=\"line\"></span><br><span class=\"line\">cmp al, 01H</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">inc byte ptr es:[160*12+40*2+1] ; </span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675319548168-77f7b5a6-54bb-4526-b234-adb0e561004e.png\" alt=\"image.png\"><br><a name=\"vlBjq\"></a></p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>DOSF1</p>\n<ol>\n<li><p>int 9int 9int 9int 9int 9$0:0200 \\to 0:0203$,int 9<code>cs:[200H]</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ss:stack</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 32 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0204H</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int9</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int9ed - offset int9</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb; </span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop es:[200H]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop es:[202H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], 204H</span><br><span class=\"line\">mov word ptr es:[9*4+2], 0 ; </span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">in al, 60H</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr cs:[200H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cmp al, 3BH</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 1</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">s:</span><br><span class=\"line\">inc byte ptr es:[di]</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">int9ed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675322759364-2785ad21-17c7-4499-b1a3-fe6726975b02.png\" alt=\"image.png\"><br><a name=\"XyIu0\"></a></p>\n<h2 id=\"assignment-1-8\"><a href=\"#assignment-1-8\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li></li>\n</ol>\n<p>A<code>cmp aL, 1EH+80H</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ss:stack</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 32 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0204H</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int9</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int9ed - offset int9</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb; </span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop es:[200H]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop es:[202H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], 204H</span><br><span class=\"line\">mov word ptr es:[9*4+2], 0 ; </span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">in aL,60h</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr cs:[200H]</span><br><span class=\"line\"></span><br><span class=\"line\">cmp aL, 1EH+80H</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov byte ptr es:[di], &#x27;A&#x27;</span><br><span class=\"line\">mov byte ptr es:[di+1], 02H</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">int9ed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675329053483-60588212-d9b5-4cef-acf7-06c70f65db5f.png\" alt=\"image.png\"><br><a name=\"YodIM\"></a></p>\n<h1 id=\"16-\"><a href=\"#16-\" class=\"headerlink\" title=\"16 \"></a>16 </h1><ol>\n<li></li>\n</ol>\n<p>table200H<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int7ch</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int7ched - offset int7ch</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int7ch:</span><br><span class=\"line\">jmp short int7chStart</span><br><span class=\"line\">table dw offset Sub1-offset int7ch+200H, offset Sub2-offset int7ch+200H, offset Sub3-offset int7ch+200H, offset Sub4-offset int7ch+200H</span><br><span class=\"line\"></span><br><span class=\"line\">int7chStart:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">cmp ah, 3</span><br><span class=\"line\">ja int7chRet</span><br><span class=\"line\">mov bl, ah</span><br><span class=\"line\">mov bh, 0</span><br><span class=\"line\">add bx, bx</span><br><span class=\"line\">call word ptr cs:(table-int7ch+200H)[bx]</span><br><span class=\"line\"></span><br><span class=\"line\">int7chRet:</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub1:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">s1:</span><br><span class=\"line\">mov byte ptr [bx], &#x27; &#x27;</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s1</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub2:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov bx, 0B800H</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 1</span><br><span class=\"line\">s2:</span><br><span class=\"line\">and byte ptr [bx], 11111000B ; 3</span><br><span class=\"line\">or byte ptr [bx], al</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s2</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub3:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov bx, 0B800H</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov cl, 4</span><br><span class=\"line\">shl al, cl</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 1</span><br><span class=\"line\">s3:</span><br><span class=\"line\">and byte ptr [bx], 10001111B</span><br><span class=\"line\">or [bx], al</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s3</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub4:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\">push di</span><br><span class=\"line\">mov bx, 08B00H</span><br><span class=\"line\">mov es, bx</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov si, 160</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">cld</span><br><span class=\"line\">mov cx, 24</span><br><span class=\"line\"></span><br><span class=\"line\">s4:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 160</span><br><span class=\"line\">rep movsb</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">loop s4</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 80</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">s41:</span><br><span class=\"line\">mov byte ptr [160*24+si], &#x27; &#x27;</span><br><span class=\"line\">add si ,2</span><br><span class=\"line\">loop s41</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">int7ched:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ah,1 ; 0 2 3</span><br><span class=\"line\">mov al,2</span><br><span class=\"line\">int 7CH</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675411618416-c6c100a2-f4d1-4bc9-b3e6-22f83fcdcaee.png\" alt=\"image.png\"><br><a name=\"IRx7s\"></a></p>\n<h1 id=\"17-\"><a href=\"#17-\" class=\"headerlink\" title=\"17 \"></a>17 </h1><p>17BIOS2, 3int 13Hmuldiv<br><a name=\"upigZ\"></a></p>\n<h2 id=\"17-1\"><a href=\"#17-1\" class=\"headerlink\" title=\"17-1\"></a>17-1</h2><p>rg,b</p>\n<ol>\n<li></li>\n</ol>\n<p>0int 16H<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\"></span><br><span class=\"line\">show:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">int 16H</span><br><span class=\"line\"></span><br><span class=\"line\">mov bl, 1</span><br><span class=\"line\">cmp al,&#x27;b&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">shl bl, 1</span><br><span class=\"line\">cmp al, &#x27;g&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">shl bl, 1</span><br><span class=\"line\">cmp al, &#x27;r&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">jmp short FRet</span><br><span class=\"line\"></span><br><span class=\"line\">showst:</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 1</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">s:</span><br><span class=\"line\">and byte ptr es:[di], 11111000B</span><br><span class=\"line\">or es:[di], bl</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">FRet:</span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675431818731-db0edf92-bc54-4bfc-a35f-613c796dddda.png\" alt=\"image.png\"><br><a name=\"Wyllk\"></a></p>\n<h1 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h1><p><a name=\"QMCD1\"></a></p>\n<h2 id=\"1-assume\"><a href=\"#1-assume\" class=\"headerlink\" title=\"1. assume\"></a>1. assume</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ds:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\"></span><br><span class=\"line\">s:</span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">mov al, a[si]</span><br><span class=\"line\">add b, ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>assume ds:data ss:stack</code></li>\n</ol>\n<ul>\n<li>assume$DSSS$datastack:<code>mov ax, data ``mov ds, ax</code></li>\n<li>assume$DSSS$datastack<strong>dataab</strong>$DS$<strong></strong>abdata$DS$data<code>mov ax, data</code><code>mov ax, data</code>data32bits16bitsax</li>\n</ul>\n<p><code>assume ds:data</code>__<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675343108877-68cf68d3-97ef-4ecb-8b4f-6da330149c94.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>assume cs:codesg</code></li>\n</ol>\n<p>$CS$(codesg)$CS$. $CS$<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675341791119-4c9029f0-b9e3-4e2f-b1b9-aa5d02685f8f.png\" alt=\"image.png\"><br><a name=\"wwfwW\"></a></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><ol>\n<li></li>\n</ol>\n<p>(byte, word, double word)<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, es:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\"></span><br><span class=\"line\">s:</span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">mov al, a[si]</span><br><span class=\"line\">add b, ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure><br>ab</p>\n<ul>\n<li><strong></strong><code>**seg data:0**</code><strong>, byte</strong></li>\n<li><strong></strong><code>**seg data:8**</code><strong>, word</strong></li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<p><code>mov al, a[si]</code> <code>add b, ax</code>data: <code>mov al, es:0[si]``add es:[8], ax</code><br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409971871-70ff728a-fa74-48ac-a742-be8ec319d677.png\" alt=\"image.png\"></p>\n<ol>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ds:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">c dw a, b</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 2</span><br><span class=\"line\">mov dx, c</span><br><span class=\"line\">mov ax, c[1]</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<code>c dw a, b</code>c<code>seg data:000A</code><strong>a</strong>$0000$<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409382345-20e1a2f2-8973-4150-992a-2a8acb141fa9.png\" alt=\"image.png\"></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><meta name=\"referrer\" content=\"no-referrer\"><br><a name=\"MTE7s\"></a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>CSAPPattack lab</p>\n<h2 id><a href=\"#\" class=\"headerlink\" title></a></h2>","more":"<p><a name=\"PhqOH\"></a></p>\n<h1 id=\"1-CPU\"><a href=\"#1-CPU\" class=\"headerlink\" title=\"1 CPU\"></a>1 CPU</h1><p><a name=\"xymUo\"></a></p>\n<h2 id=\"debug\"><a href=\"#debug\" class=\"headerlink\" title=\"debug\"></a>debug<a href=\"https://blog.csdn.net/YuzuruHanyu/article/details/80287419?spm=1001.2014.3001.5506\"></a></h2><p><a name=\"UrdzB\"></a></p>\n<h2 id=\"assignment-1\"><a href=\"#assignment-1\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>AU</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249473372-3a80b2ab-d9e2-483c-ac41-140d30fdd765.png\" alt=\"image.png\"></p>\n<ol>\n<li>RCSIPCS:IPT</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673249669344-d36231e5-8310-46ba-a3c6-155e2601ff58.png\" alt=\"image.png\"><br><a name=\"rTW1r\"></a></p>\n<h2 id=\"assignment-2\"><a href=\"#assignment-2\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250172971-61fbb876-feda-4ca9-b81d-e558cc0e5a6a.png\" alt=\"image.png\"></p>\n<ol>\n<li>_CS:IP_</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250237721-ec3e62f5-f6bc-4890-8f25-b62f6d89e60e.png\" alt=\"image.png\"></p>\n<ol>\n<li>$2^8$ $AX = 0100H$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673250558182-3582fd8d-9783-421c-9731-0d83ae5c81a8.png\" alt=\"image.png\"><br><a name=\"QAZ3Z\"></a></p>\n<h2 id=\"assignment-3\"><a href=\"#assignment-3\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li>D$FFFF5H \\to FFFFCHFFFF:0005 \\to FFFF:000C$$dd/mm/yy$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251622812-ca79ef23-5a2a-46b2-ba9f-326aa9d3bc54.png\" alt=\"image.png\"></p>\n<ol>\n<li>EROM</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673251941938-25cdf39e-5c26-49a3-81da-f108dff28da7.png\" alt=\"image.png\"><br><a name=\"CHS7t\"></a></p>\n<h2 id=\"assignment-4\"><a href=\"#assignment-4\" class=\"headerlink\" title=\"assignment 4\"></a>assignment 4</h2><p>1.$A0000H \\to BFFFFH$8086 PC<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673253290191-823908a7-61e0-4e4d-ac20-66184b8a4509.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"hcb7h\"></a></p>\n<h1 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2 \"></a>2 </h1><p><a name=\"vDc8z\"></a></p>\n<h2 id=\"assignment-1-1\"><a href=\"#assignment-1-1\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>AU</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596808599-b129a717-4d20-42a3-8823-64dc726440e3.png\" alt=\"image.png\"></p>\n<ol>\n<li>CS:IP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673596896692-f6335ebe-e9b7-44cf-9a38-d686dde7d140.png\" alt=\"image.png\"></p>\n<ol>\n<li>tAXBXSP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673597028389-791ccf84-0268-4f23-976f-53e6ecd97b36.png\" alt=\"image.png\"><br><a name=\"NB9fg\"></a></p>\n<h2 id=\"assignment-2-1\"><a href=\"#assignment-2-1\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><p>TCPUPSWCSIP</p>\n<hr>\n<p><a name=\"jpe3I\"></a></p>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3 \"></a>3 </h1><p><a name=\"QMUAH\"></a></p>\n<h2 id=\"assignment-1-2\"><a href=\"#assignment-1-2\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673681789903-cb9f13be-b044-4c3f-be1d-8fa401195306.png\" alt=\"image.png\"><br><a name=\"bm7kI\"></a></p>\n<h2 id=\"assignment-2-2\"><a href=\"#assignment-2-2\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li>debugCS:IP$DS=075C$PSP$075C:0$$076C:0\\;(075C+10:0)$,$CS:IP = 076C:0000$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682350829-98451696-0d75-4414-87c5-b527b5c96169.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682565168-917f19d2-8e0c-44ab-84e5-453c301bcda0.png\" alt=\"image.png\"><br><a name=\"fqp3r\"></a></p>\n<h2 id=\"assignment-3-1\"><a href=\"#assignment-3-1\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li>PSP</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673682886059-386e1af8-2b73-480f-92b1-d2ea01cce40a.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"eTiIA\"></a></p>\n<h1 id=\"4-bx-loop\"><a href=\"#4-bx-loop\" class=\"headerlink\" title=\"4 [bx]loop\"></a>4 [bx]loop</h1><p><a name=\"Ypsn2\"></a></p>\n<h2 id=\"assignment-1-3\"><a href=\"#assignment-1-3\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0020H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">mov cx, 64</span><br><span class=\"line\"></span><br><span class=\"line\">s: </span><br><span class=\"line\">mov [bx],dx</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">inc dx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00h </span><br><span class=\"line\">int 21h</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673769654198-dcf5a11b-b298-4d67-ac52-e6412baa7953.png\" alt=\"image.png\"></p>\n<ol>\n<li>s$076C:000E$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770040980-f6175097-5e41-41f0-a0d4-ed6dcc9e2d26.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673770269260-0b535c86-7318-4bea-9b9b-151df8786503.png\" alt=\"image.png\"><br><a name=\"q95Oy\"></a></p>\n<h2 id=\"assignment-2-3\"><a href=\"#assignment-2-3\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p>bx9</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0020H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 64</span><br><span class=\"line\"></span><br><span class=\"line\">s: </span><br><span class=\"line\">mov [bx],bx</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00h </span><br><span class=\"line\">int 21h</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>assigment 1</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673771416582-e853218d-46c6-4bf8-98d6-cacae4200dbb.png\" alt=\"image.png\"><br><a name=\"b3BKL\"></a></p>\n<h2 id=\"assignment-3-2\"><a href=\"#assignment-3-2\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li><code>mov ax,cs</code> <code>loop s</code> $0020:0000$</li>\n<li>CS<code>mov cx,_____</code> 1debugU$076C:0000 \\to 076C:0015$$16H\\,(23D)$,$16H$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673774640766-de55642e-4594-4add-9f75-ac17f9cf3628.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"l6DRo\"></a></p>\n<h1 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5 \"></a>5 </h1><p><a name=\"y07m5\"></a></p>\n<h2 id=\"assignment-1-4\"><a href=\"#assignment-1-4\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li>data$076C$, stack$076D$code$076E$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877104816-d24fcee5-293b-4965-a116-55b74e84812c.png\" alt=\"image.png\"></p>\n<ol>\n<li>Q1<code>G 001D</code>Udata: $0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H$()</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877337524-5a528fcf-a7ec-47a7-ba04-6014616d76ff.png\" alt=\"image.png\"></p>\n<ol>\n<li>Q2R  $\\to \\;CS:076E$ $DS:076C$$SS:076D$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673877858110-72e7472f-1574-4c88-ae28-a064f40894e4.png\" alt=\"image.png\"></p>\n<ol>\n<li><p>Q3datastack16code$X$stack$X-1H$data$X-2H$assignment2<br><a name=\"qSFne\"></a></p>\n<h2 id=\"assignment-2-4\"><a href=\"#assignment-2-4\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2></li>\n<li><p>assigment1 </p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673878358257-7f67627a-48a8-45cf-bc4a-1f51e9552faa.png\" alt=\"image.png\"></p>\n<ol>\n<li><p>16<br><a name=\"AiceH\"></a></p>\n<h2 id=\"assignment-3-3\"><a href=\"#assignment-3-3\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2></li>\n<li><p>assignment1</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673879121558-74eaedb2-acd9-4a9c-a318-e028bba49db2.png\" alt=\"image.png\"><br>2 code$X$data$X+3H$stack$X+4H$<br><a name=\"NxsNH\"></a></p>\n<h2 id=\"assignment-4-1\"><a href=\"#assignment-4-1\" class=\"headerlink\" title=\"assignment 4\"></a>assignment 4</h2><p><code>end start</code>code3<br><a name=\"oVwXx\"></a></p>\n<h2 id=\"assignment-5\"><a href=\"#assignment-5\" class=\"headerlink\" title=\"assignment 5\"></a>assignment 5</h2><ol>\n<li><p>$DS$$DS$</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">a segment </span><br><span class=\"line\">db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">a ends</span><br><span class=\"line\"></span><br><span class=\"line\">b segment</span><br><span class=\"line\">db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b ends</span><br><span class=\"line\"></span><br><span class=\"line\">c segment </span><br><span class=\"line\">db 0,0,0,0,0,0,0,0</span><br><span class=\"line\">c ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov dx, a</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">mov ax, [bx]</span><br><span class=\"line\">mov dx, b</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">add ax, [bx]</span><br><span class=\"line\">mov dx, c</span><br><span class=\"line\">mov ds,dx</span><br><span class=\"line\">mov [bx], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax,4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debuga$076C$b$076D$c$076E$</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882442409-a3ef513e-eb43-4f18-abf5-ea6f262cc3f6.png\" alt=\"image.png\"></p>\n<ol>\n<li>c</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673882790995-352f2b4b-203d-458a-b5a2-878acfd29335.png\" alt=\"image.png\"><br><a name=\"azFBM\"></a></p>\n<h2 id=\"assignment-6\"><a href=\"#assignment-6\" class=\"headerlink\" title=\"assignment 6\"></a>assignment 6</h2><ol>\n<li><p>bx2pushpop</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">a segment</span><br><span class=\"line\">dw 1,2,3,4,5,6,7,8,9,0ah,0bh,0ch,0dh,0eh,0fh,0ffh</span><br><span class=\"line\">a ends</span><br><span class=\"line\"></span><br><span class=\"line\">b segment </span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">b ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment </span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, a</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, b </span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 0010H</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\">s:</span><br><span class=\"line\">push [bx]</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>debuga $076C$  b$076E$code$076F$</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885232599-a5e6bf92-ae97-421b-ad5b-904f427aef76.png\" alt=\"image.png\"></p>\n<ol>\n<li>b</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673885271367-eddf0cc8-98aa-4fe8-a38f-a014ed5f8179.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"O7BgM\"></a></p>\n<h1 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6 \"></a>6 </h1><p><a name=\"dyxQS\"></a></p>\n<h2 id=\"assignment-1-5\"><a href=\"#assignment-1-5\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p>7.8</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg, ds:datasg, ss:stacksg</span><br><span class=\"line\"></span><br><span class=\"line\">datasg segment </span><br><span class=\"line\">db &#x27;ibm             &#x27;</span><br><span class=\"line\">db &#x27;dec             &#x27;</span><br><span class=\"line\">db &#x27;dos             &#x27;</span><br><span class=\"line\">db &#x27;vax             &#x27;</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">stacksg segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stacksg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stacksg</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H</span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">s0:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 3</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov al, [bx+si]</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [bx+si], al</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s </span><br><span class=\"line\"></span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>data</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954476992-988989f0-7ba5-4132-8b53-011e5cfe1ce7.png\" alt=\"image.png\"></p>\n<ol>\n<li>data</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673954644257-b63d5af0-f266-4057-b1e1-c513e09c9298.png\" alt=\"image.png\"><br><a name=\"pHbEJ\"></a></p>\n<h2 id=\"assignment-2-5\"><a href=\"#assignment-2-5\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p>cxcx</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg, ds:datasg, ss:stacksg</span><br><span class=\"line\"></span><br><span class=\"line\">stacksg segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stacksg ends</span><br><span class=\"line\"></span><br><span class=\"line\">datasg segment </span><br><span class=\"line\">db &#x27;1. display      &#x27;</span><br><span class=\"line\">db &#x27;2. brows        &#x27;</span><br><span class=\"line\">db &#x27;3. replace      &#x27;</span><br><span class=\"line\">db &#x27;4. modify       &#x27;</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stacksg</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H </span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">s0:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">s: </span><br><span class=\"line\">mov al, [bx+3+si]</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [bx+3+si], al</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>data</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955793129-198d15a6-56f1-4375-a4c1-fa6d84e6aa7c.png\" alt=\"image.png\"></p>\n<ol>\n<li>data</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1673955864652-707fd6d7-d65d-4be6-b3f9-bbcbbc27484b.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"MJU1z\"></a></p>\n<h1 id=\"7-\"><a href=\"#7-\" class=\"headerlink\" title=\"7 \"></a>7 </h1><ol>\n<li><p><code>word ptr / byte ptr</code><code>div</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 0,0,0,0,0,0,0,0</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &#x27;1975&#x27;,&#x27;1976&#x27;, &#x27;1977&#x27;, &#x27;1978&#x27;, &#x27;1979&#x27;, &#x27;1980&#x27;, &#x27;1981&#x27;, &#x27;1982&#x27;,&#x27;1983&#x27;</span><br><span class=\"line\">db &#x27;1984&#x27;, &#x27;1985&#x27;, &#x27;1986&#x27;, &#x27;1987&#x27;, &#x27;1988&#x27;, &#x27;1989&#x27;, &#x27;1990&#x27;, &#x27;1991&#x27;, &#x27;1992&#x27;</span><br><span class=\"line\">db &#x27;1993&#x27;, &#x27;1994&#x27;, &#x27;1995&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">dd 16,22,382,1356,2390, 8000, 16000,24486,50065, 97479,140417,197514</span><br><span class=\"line\">dd 345980,590827,803530,1183000,1843000,2759000, 3753000, 4649000,5937000</span><br><span class=\"line\"></span><br><span class=\"line\">dw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793, 4037,5635, 8226</span><br><span class=\"line\">dw 11542,14430,15257,17800</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">table segment</span><br><span class=\"line\">db 21 dup (&#x27;year summ ne ?? &#x27;)</span><br><span class=\"line\">table ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack ;0776C</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 10H</span><br><span class=\"line\">mov ax, data ; 076D</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov ax, table ; 077b</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx,0</span><br><span class=\"line\">mov si,0</span><br><span class=\"line\">mov cx,21</span><br><span class=\"line\"></span><br><span class=\"line\">year:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">char:</span><br><span class=\"line\">mov al, es:[si]</span><br><span class=\"line\">mov [bx+di], al</span><br><span class=\"line\">inc di</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop char</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop year</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">income:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 2</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">dwInt:</span><br><span class=\"line\">mov ax, es:[si]</span><br><span class=\"line\">mov [bx].5[di], ax</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop dwInt</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop income</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">staff:</span><br><span class=\"line\">mov ax, es:[si]</span><br><span class=\"line\">mov [10+bx], ax</span><br><span class=\"line\">add si, 2;</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop staff</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 21</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">average:</span><br><span class=\"line\">mov dx, [bx+7]</span><br><span class=\"line\">mov ax, [bx+5]</span><br><span class=\"line\">div word ptr [bx+0AH]</span><br><span class=\"line\">mov [bx+0Dh], ax</span><br><span class=\"line\">add bx, 10H</span><br><span class=\"line\">loop average</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end start </span><br></pre></td></tr></table></figure>\n</li>\n<li><p>table</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054412418-905eb553-63b9-4352-8fd3-87d9c57ec955.png\" alt=\"image.png\"></p>\n<ol>\n<li>table</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674054465034-493bafb1-d935-4da9-b3d0-07b0bdd54911.png\" alt=\"image.png\"><br><a name=\"wI3bu\"></a></p>\n<h1 id=\"8-\"><a href=\"#8-\" class=\"headerlink\" title=\"8 \"></a>8 </h1><ol>\n<li>$start$<code>nop</code>No operation<code>nop</code>$s$<code>mov cs:[di], ax</code>$s$<code>jmp short s1</code><code>jmp short s</code>$s$</li>\n<li><code>jmp short s1</code>IPIP$s2$$s1$$s2$jmp<code>nop</code>$(076C:0022)$$s1$<code>mov ax, 0</code>$(076C:0018)$<code>jmp short </code>$0022H-0018H =-10D(F6H)$$s$<code>jmp short s</code><code>EBF6</code>$s$</li>\n<li>$s$$IP = IP+(-10)$,debug<code>mov ax, 4c00H</code>$(000AH-0010H=0000H)$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674306714709-54439679-a96b-496d-97b1-de0f2c3abf77.png\" alt=\"image.png\"><br><a name=\"lZyJr\"></a></p>\n<h1 id=\"9-\"><a href=\"#9-\" class=\"headerlink\" title=\"9 \"></a>9 </h1><ol>\n<li><p><code>mov addressdata</code>mov(?)<code>welcome to masm!</code>$ax$mov</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &#x27;welcome to masm!&#x27;</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">start: </span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">mov si, 1824</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s0:</span><br><span class=\"line\">mov ah, 82H</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s0</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0 </span><br><span class=\"line\">mov si, 1984</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s1:</span><br><span class=\"line\">mov ah, 0A4H</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s1</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, 0 </span><br><span class=\"line\">mov si, 2144</span><br><span class=\"line\">mov cx, 10H</span><br><span class=\"line\">s2:</span><br><span class=\"line\">mov ah, 11110001B</span><br><span class=\"line\">mov al, [bx]</span><br><span class=\"line\">mov es:[si], ax</span><br><span class=\"line\">inc bx</span><br><span class=\"line\">add si, 2</span><br><span class=\"line\">loop s2</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4c00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">codesg ends</span><br><span class=\"line\"></span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674447541217-19494cef-6da4-4fd3-b28c-6ad18c755471.png\" alt=\"image.png\"></p>\n<p><a name=\"zPzcC\"></a></p>\n<h1 id=\"10-\"><a href=\"#10-\" class=\"headerlink\" title=\"10 \"></a>10 </h1><p><a name=\"Z9mXL\"></a></p>\n<h2 id=\"assignment-1-6\"><a href=\"#assignment-1-6\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p><strong></strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">data segment</span><br><span class=\"line\">db &quot;welcome to masm!&quot;, 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov dh, 8</span><br><span class=\"line\">mov dl, 3</span><br><span class=\"line\">mov cl, 2</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">call show_str</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">show_str:</span><br><span class=\"line\">push ax ; </span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H; 8025</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160 ; </span><br><span class=\"line\">inc dh ; 0</span><br><span class=\"line\">mul dh ; 8ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cl, [si] ; cx</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok ;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl ; </span><br><span class=\"line\">mov es:[bx],ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">jmp print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret </span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1674959885930-a6c4181a-e6a1-44cb-9ec8-cc5013b1314e.png\" alt=\"image.png\"><br><a name=\"gCr3l\"></a></p>\n<h2 id=\"assignment-2-6\"><a href=\"#assignment-2-6\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li><p> </p>\n<pre><code>            $X/n = int(H/2)*65536 +[rem(H/n)*65536+L]/n$&lt;br /&gt;32$X/n$(32160)&lt;br /&gt;$(H/n)*65536 + (L/n)$&lt;br /&gt;**32**&lt;br /&gt;$int(H/2)*65536$,$int([rem(H/n)*65536+L]/n)$&lt;br /&gt;**16**&lt;br /&gt;$rem([rem(H/n)*65536+L]/n)$&lt;br /&gt;\n</code></pre><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov ax, 4240H</span><br><span class=\"line\">mov dx, 000FH</span><br><span class=\"line\">mov cx, 0AH</span><br><span class=\"line\">call divdw</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">divdw:</span><br><span class=\"line\">push bx</span><br><span class=\"line\"></span><br><span class=\"line\">mov bx, ax ; L</span><br><span class=\"line\">mov ax, dx ; H/N</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">div cx ; int(H/N)axrem(H/N)dx</span><br><span class=\"line\"></span><br><span class=\"line\">push ax ; int(H/N)</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, bx; dx and ax constitute rem(H/N)*65535+L</span><br><span class=\"line\">div cx ; ax store the result</span><br><span class=\"line\">mov cx, dx</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx ; int(H/N)</span><br><span class=\"line\"></span><br><span class=\"line\">pop bx</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675050216892-a6c856a5-19e3-42a9-9dae-62052e8d077c.png\" alt=\"image.png\"><br><a name=\"wHNVn\"></a></p>\n<h2 id=\"assignment-3-4\"><a href=\"#assignment-3-4\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">db 10 dup(0)</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, 12666</span><br><span class=\"line\">mov bx, data</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov bx, stack</span><br><span class=\"line\">mov ss, bx</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">call dtoc</span><br><span class=\"line\"></span><br><span class=\"line\">mov dh, 8</span><br><span class=\"line\">mov dl, 3</span><br><span class=\"line\">mov cl, 2</span><br><span class=\"line\">call show_str</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">dtoc:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push si</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 0 ; 16 0</span><br><span class=\"line\">mov bx, 10</span><br><span class=\"line\">mov di, 0 ; </span><br><span class=\"line\"></span><br><span class=\"line\">divide:</span><br><span class=\"line\">mov cx, ax </span><br><span class=\"line\">jcxz over</span><br><span class=\"line\">inc di</span><br><span class=\"line\">div bx ; 32axdx</span><br><span class=\"line\">add dx, 30H</span><br><span class=\"line\">push dx</span><br><span class=\"line\">mov dx, 0</span><br><span class=\"line\">jmp divide</span><br><span class=\"line\"></span><br><span class=\"line\">over:</span><br><span class=\"line\">mov cx, di</span><br><span class=\"line\">move: </span><br><span class=\"line\">pop bx</span><br><span class=\"line\">mov [si], bl</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop move</span><br><span class=\"line\"></span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">show_str:</span><br><span class=\"line\">push ax ; </span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H; 8025</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160 ; </span><br><span class=\"line\">inc dh ; 0</span><br><span class=\"line\">mul dh ; 8ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov dh, 0</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cl, [si] ; cx</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok ;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl ; </span><br><span class=\"line\">mov es:[bx],ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">jmp print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret </span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675070403817-35e5aa0f-3d0c-42ab-803a-9d7dbf5bcb8a.png\" alt=\"image.png\"><br><a name=\"ww3wC\"></a></p>\n<h1 id=\"11-\"><a href=\"#11-\" class=\"headerlink\" title=\"11 \"></a>11 </h1><ol>\n<li><p><code>cmp</code>if</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:codesg</span><br><span class=\"line\">datasg segment</span><br><span class=\"line\">db &quot;Beginner&#x27;s All-purpose Symbolic Instruction Code.&quot;,0</span><br><span class=\"line\">datasg ends</span><br><span class=\"line\"></span><br><span class=\"line\">codesg segment</span><br><span class=\"line\">begin:</span><br><span class=\"line\">mov ax, datasg</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">call letterc</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">letterc:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\"></span><br><span class=\"line\">Capital:</span><br><span class=\"line\">mov al, [si]</span><br><span class=\"line\">mov cl, al</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz OK</span><br><span class=\"line\">cmp al, 97</span><br><span class=\"line\">jb NO</span><br><span class=\"line\">cmp al, 122</span><br><span class=\"line\">ja NO</span><br><span class=\"line\">and al, 11011111B</span><br><span class=\"line\">mov [si], al\t</span><br><span class=\"line\"></span><br><span class=\"line\">NO:</span><br><span class=\"line\">inc si</span><br><span class=\"line\">jmp short Capital</span><br><span class=\"line\"></span><br><span class=\"line\">OK:</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">codesg ends</span><br><span class=\"line\">end begin</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675142887049-1e6b7958-8779-4745-81f5-c6a536a232ca.png\" alt=\"image.png\"><br><a name=\"bk4z5\"></a></p>\n<h1 id=\"12-0\"><a href=\"#12-0\" class=\"headerlink\" title=\"12 0\"></a>12 0</h1><ol>\n<li></li>\n</ol>\n<p>3</p>\n<ul>\n<li> </li>\n<li>($0000:0200H\\to0000:02FFH$)  </li>\n<li></li>\n</ul>\n<p><code>jcxz</code><code>jmp short</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset do0 ; 076C:0028</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset do0end- offset do0; 0034H</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb ; 0:200</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[0], 0200H</span><br><span class=\"line\">mov word ptr es:[0+2], 0 ; </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">do0:</span><br><span class=\"line\">jmp short do0start</span><br><span class=\"line\">db &quot;divide error&quot;,0 </span><br><span class=\"line\"></span><br><span class=\"line\">do0start:</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 160*12+34*2</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, 202H</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">mov cL, [si]</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">jcxz ok</span><br><span class=\"line\">mov ah, 04h ;red</span><br><span class=\"line\">mov al, cl</span><br><span class=\"line\">mov es:[di], ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add di, 2 </span><br><span class=\"line\">jmp short print</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">do0end: ;005C</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li>(debuglab12T)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675159533550-89caf027-f6da-4345-aa8c-e03159df600e.png\" alt=\"image.png\"><br><a name=\"YSdgF\"></a></p>\n<h1 id=\"13-\"><a href=\"#13-\" class=\"headerlink\" title=\"13 \"></a>13 </h1><p><a name=\"HHw6N\"></a></p>\n<h2 id=\"assignment-1-7\"><a href=\"#assignment-1-7\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li><p>lab10-1show_str<code>call-ret</code> <code>int 7cH - iret</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset print</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset printed - offset print</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">print:</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push dx</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 160</span><br><span class=\"line\">inc dh</span><br><span class=\"line\">mul dh ; 160*(10+1) in ax</span><br><span class=\"line\">mov bx, ax</span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">mul dl ; 10*2 in ax</span><br><span class=\"line\">add bx, ax</span><br><span class=\"line\">mov ah, cl</span><br><span class=\"line\"></span><br><span class=\"line\">stPrint:</span><br><span class=\"line\">mov ch, 0</span><br><span class=\"line\">mov cl, [si]</span><br><span class=\"line\">jcxz ok</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, cl</span><br><span class=\"line\">mov es:[bx], ax</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">inc si</span><br><span class=\"line\">jmp short stPrint</span><br><span class=\"line\"></span><br><span class=\"line\">ok:</span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">printed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675224733068-a783d5cd-5d35-46b5-8032-3c8938e8347a.png\" alt=\"image.png\"><br><a name=\"LKaNX\"></a></p>\n<h2 id=\"assignment-2-7\"><a href=\"#assignment-2-7\" class=\"headerlink\" title=\"assignment 2\"></a>assignment 2</h2><ol>\n<li></li>\n</ol>\n<p>loop</p>\n<ul>\n<li>$S$</li>\n</ul>\n<p>$CS$$IP$CS           IP(<code>offset s - offset se</code>)</p>\n<ul>\n<li>$S$$CS:IP$</li>\n</ul>\n<p><code>iret</code><code>pop IP , pop CS ,  popf</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset lp</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset lped - offset lp</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">lp:</span><br><span class=\"line\">dec cx</span><br><span class=\"line\">jcxz lpret</span><br><span class=\"line\">push bp</span><br><span class=\"line\">mov bp, sp</span><br><span class=\"line\">add [bp+2], bx</span><br><span class=\"line\">lpret:</span><br><span class=\"line\">pop bp</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">lped:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675237825483-f1ed3d6d-00cc-453b-91b3-757823355468.png\" alt=\"image.png\"><br><a name=\"TCCAl\"></a></p>\n<h2 id=\"assignment-3-5\"><a href=\"#assignment-3-5\" class=\"headerlink\" title=\"assignment 3\"></a>assignment 3</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">code segment</span><br><span class=\"line\">s1: db &#x27;Good,better,best,&#x27;,&#x27;$&#x27;</span><br><span class=\"line\">s2: db &#x27;Never let it rest,&#x27;,&#x27;$&#x27; </span><br><span class=\"line\">s3: db &#x27;Till good is better,&#x27;,&#x27;$&#x27;</span><br><span class=\"line\">s4: db &#x27;And better,best.&#x27;, &#x27;$&#x27;</span><br><span class=\"line\">s: dw offset s1, offset s2, offset s3, offset s4 </span><br><span class=\"line\">row: db 2,4,6,8</span><br><span class=\"line\"></span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs </span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov bx, offset s</span><br><span class=\"line\">mov si, offset row</span><br><span class=\"line\">mov cx, 4</span><br><span class=\"line\">ok:</span><br><span class=\"line\">mov bh, 0 </span><br><span class=\"line\">mov dh, [si]</span><br><span class=\"line\">mov dl, 0</span><br><span class=\"line\">mov ah, 2 ; BIOS--</span><br><span class=\"line\">int 10h </span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, [bx]                                           </span><br><span class=\"line\">mov ah, 9 ; DOS--</span><br><span class=\"line\">int 21h</span><br><span class=\"line\">inc si</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop ok</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H; DOS--al</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<p><a name=\"zGspx\"></a></p>\n<h1 id=\"14--CMOS-RAM\"><a href=\"#14--CMOS-RAM\" class=\"headerlink\" title=\"14  CMOS RAM\"></a>14  CMOS RAM</h1><ol>\n<li><p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">dw 16 dup (0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 9</span><br><span class=\"line\">mov bx, 160*12+36*2</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;/&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 8</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;/&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 7</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27; &#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 4</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;:&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 2</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\">mov byte ptr [bx+4], &#x27;:&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">mov al, 0</span><br><span class=\"line\">add bx, 6</span><br><span class=\"line\">call GetAscill</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">GetAscill:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push dx</span><br><span class=\"line\"></span><br><span class=\"line\">out 70H, al</span><br><span class=\"line\">in al, 71H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ah, al</span><br><span class=\"line\">mov cl, 4</span><br><span class=\"line\">shr ah, cl</span><br><span class=\"line\">and al, 00001111B</span><br><span class=\"line\"></span><br><span class=\"line\">add ah, 30H</span><br><span class=\"line\">add al, 30H</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 0B800H</span><br><span class=\"line\">mov es, dx</span><br><span class=\"line\">mov es:[bx], ah </span><br><span class=\"line\">mov byte ptr es:[bx+1], 02H ; green</span><br><span class=\"line\">mov es:[bx+2], al</span><br><span class=\"line\">mov byte ptr es:[bx+3], 02H</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675253920788-8fc4fee5-abeb-4e49-93bf-97e3873b6599.png\" alt=\"image.png\"><br><a name=\"yTwL0\"></a></p>\n<h1 id=\"15-int-9-\"><a href=\"#15-int-9-\" class=\"headerlink\" title=\"15 int 9 \"></a>15 int 9 </h1><p><a name=\"TIrMX\"></a></p>\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><p>$a\\to z$,Esc</p>\n<ol>\n<li><p>int 9 int 9<code>call dword ptr ds:[0]</code><code>call word ptr ds:[0]</code>int 9</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 64 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">data segment</span><br><span class=\"line\">dw 0,0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 40H</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop ds:[0]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop ds:[2] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], offset int9</span><br><span class=\"line\">mov es:[9*4+2], cs;</span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es,ax</span><br><span class=\"line\">mov dh, &#x27;a&#x27;</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov es:[160*12+40*2], dh</span><br><span class=\"line\">call delay</span><br><span class=\"line\">inc dh</span><br><span class=\"line\">cmp dh, &#x27;z&#x27;</span><br><span class=\"line\">jna s ; a~z</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0 </span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">push ds:[0]</span><br><span class=\"line\">pop es:[9*4]</span><br><span class=\"line\">push ds:[2]</span><br><span class=\"line\">pop es:[9*4+2] ;int 9</span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00h</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">delay:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push dx</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov dx, 10H</span><br><span class=\"line\">se:</span><br><span class=\"line\">sub ax, 1 ; dec</span><br><span class=\"line\">sbb dx, 0</span><br><span class=\"line\">cmp ax, 0</span><br><span class=\"line\">jne se</span><br><span class=\"line\">cmp dx, 0</span><br><span class=\"line\">jne se</span><br><span class=\"line\"></span><br><span class=\"line\">pop dx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret ; </span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push es</span><br><span class=\"line\">in al, 60H</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr ds:[0]</span><br><span class=\"line\"></span><br><span class=\"line\">cmp al, 01H</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">inc byte ptr es:[160*12+40*2+1] ; </span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675319548168-77f7b5a6-54bb-4526-b234-adb0e561004e.png\" alt=\"image.png\"><br><a name=\"vlBjq\"></a></p>\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><p>DOSF1</p>\n<ol>\n<li><p>int 9int 9int 9int 9int 9$0:0200 \\to 0:0203$,int 9<code>cs:[200H]</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ss:stack</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 32 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0204H</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int9</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int9ed - offset int9</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb; </span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop es:[200H]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop es:[202H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], 204H</span><br><span class=\"line\">mov word ptr es:[9*4+2], 0 ; </span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">in al, 60H</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr cs:[200H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cmp al, 3BH</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 1</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">s:</span><br><span class=\"line\">inc byte ptr es:[di]</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">int9ed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675322759364-2785ad21-17c7-4499-b1a3-fe6726975b02.png\" alt=\"image.png\"><br><a name=\"XyIu0\"></a></p>\n<h2 id=\"assignment-1-8\"><a href=\"#assignment-1-8\" class=\"headerlink\" title=\"assignment 1\"></a>assignment 1</h2><ol>\n<li></li>\n</ol>\n<p>A<code>cmp aL, 1EH+80H</code><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ss:stack</span><br><span class=\"line\"></span><br><span class=\"line\">stack segment</span><br><span class=\"line\">db 32 dup(0)</span><br><span class=\"line\">stack ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, stack</span><br><span class=\"line\">mov ss, ax</span><br><span class=\"line\">mov sp, 20H</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0204H</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int9</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int9ed - offset int9</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep movsb; </span><br><span class=\"line\"></span><br><span class=\"line\">push es:[9*4]</span><br><span class=\"line\">pop es:[200H]</span><br><span class=\"line\">push es:[9*4+2]</span><br><span class=\"line\">pop es:[202H] ; int 9</span><br><span class=\"line\"></span><br><span class=\"line\">cli</span><br><span class=\"line\">mov word ptr es:[9*4], 204H</span><br><span class=\"line\">mov word ptr es:[9*4+2], 0 ; </span><br><span class=\"line\">sti</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int9:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">in aL,60h</span><br><span class=\"line\"></span><br><span class=\"line\">pushf</span><br><span class=\"line\">call dword ptr cs:[200H]</span><br><span class=\"line\"></span><br><span class=\"line\">cmp aL, 1EH+80H</span><br><span class=\"line\">jne int9ret</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">s:</span><br><span class=\"line\">mov byte ptr es:[di], &#x27;A&#x27;</span><br><span class=\"line\">mov byte ptr es:[di+1], 02H</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">int9ret:</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">int9ed:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675329053483-60588212-d9b5-4cef-acf7-06c70f65db5f.png\" alt=\"image.png\"><br><a name=\"YodIM\"></a></p>\n<h1 id=\"16-\"><a href=\"#16-\" class=\"headerlink\" title=\"16 \"></a>16 </h1><ol>\n<li></li>\n</ol>\n<p>table200H<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, cs</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov si, offset int7ch</span><br><span class=\"line\">mov ax, 0</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 0200H</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, offset int7ched - offset int7ch</span><br><span class=\"line\">cld</span><br><span class=\"line\">rep  movsb</span><br><span class=\"line\"></span><br><span class=\"line\">mov word ptr es:[7cH*4], 0200H</span><br><span class=\"line\">mov word ptr es:[7cH*4+2], 0 </span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">int7ch:</span><br><span class=\"line\">jmp short int7chStart</span><br><span class=\"line\">table dw offset Sub1-offset int7ch+200H, offset Sub2-offset int7ch+200H, offset Sub3-offset int7ch+200H, offset Sub4-offset int7ch+200H</span><br><span class=\"line\"></span><br><span class=\"line\">int7chStart:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">cmp ah, 3</span><br><span class=\"line\">ja int7chRet</span><br><span class=\"line\">mov bl, ah</span><br><span class=\"line\">mov bh, 0</span><br><span class=\"line\">add bx, bx</span><br><span class=\"line\">call word ptr cs:(table-int7ch+200H)[bx]</span><br><span class=\"line\"></span><br><span class=\"line\">int7chRet:</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">iret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub1:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 0</span><br><span class=\"line\">s1:</span><br><span class=\"line\">mov byte ptr [bx], &#x27; &#x27;</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s1</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub2:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov bx, 0B800H</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 1</span><br><span class=\"line\">s2:</span><br><span class=\"line\">and byte ptr [bx], 11111000B ; 3</span><br><span class=\"line\">or byte ptr [bx], al</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s2</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub3:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">mov bx, 0B800H</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov cl, 4</span><br><span class=\"line\">shl al, cl</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">mov bx, 1</span><br><span class=\"line\">s3:</span><br><span class=\"line\">and byte ptr [bx], 10001111B</span><br><span class=\"line\">or [bx], al</span><br><span class=\"line\">add bx, 2</span><br><span class=\"line\">loop s3</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">Sub4:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push bx</span><br><span class=\"line\">push cx</span><br><span class=\"line\">push ds</span><br><span class=\"line\">push es</span><br><span class=\"line\">push si</span><br><span class=\"line\">push di</span><br><span class=\"line\">mov bx, 08B00H</span><br><span class=\"line\">mov es, bx</span><br><span class=\"line\">mov ds, bx</span><br><span class=\"line\">mov si, 160</span><br><span class=\"line\">mov di, 0</span><br><span class=\"line\">cld</span><br><span class=\"line\">mov cx, 24</span><br><span class=\"line\"></span><br><span class=\"line\">s4:</span><br><span class=\"line\">push cx</span><br><span class=\"line\">mov cx, 160</span><br><span class=\"line\">rep movsb</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">loop s4</span><br><span class=\"line\"></span><br><span class=\"line\">mov cx, 80</span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">s41:</span><br><span class=\"line\">mov byte ptr [160*24+si], &#x27; &#x27;</span><br><span class=\"line\">add si ,2</span><br><span class=\"line\">loop s41</span><br><span class=\"line\">pop di</span><br><span class=\"line\">pop si</span><br><span class=\"line\">pop es</span><br><span class=\"line\">pop ds</span><br><span class=\"line\">pop cx</span><br><span class=\"line\">pop bx</span><br><span class=\"line\">pop ax</span><br><span class=\"line\">ret</span><br><span class=\"line\"></span><br><span class=\"line\">int7ched:</span><br><span class=\"line\">nop</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ah,1 ; 0 2 3</span><br><span class=\"line\">mov al,2</span><br><span class=\"line\">int 7CH</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675411618416-c6c100a2-f4d1-4bc9-b3e6-22f83fcdcaee.png\" alt=\"image.png\"><br><a name=\"IRx7s\"></a></p>\n<h1 id=\"17-\"><a href=\"#17-\" class=\"headerlink\" title=\"17 \"></a>17 </h1><p>17BIOS2, 3int 13Hmuldiv<br><a name=\"upigZ\"></a></p>\n<h2 id=\"17-1\"><a href=\"#17-1\" class=\"headerlink\" title=\"17-1\"></a>17-1</h2><p>rg,b</p>\n<ol>\n<li></li>\n</ol>\n<p>0int 16H<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\"></span><br><span class=\"line\">show:</span><br><span class=\"line\">push ax</span><br><span class=\"line\">push es</span><br><span class=\"line\">push di</span><br><span class=\"line\"></span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">int 16H</span><br><span class=\"line\"></span><br><span class=\"line\">mov bl, 1</span><br><span class=\"line\">cmp al,&#x27;b&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">shl bl, 1</span><br><span class=\"line\">cmp al, &#x27;g&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">shl bl, 1</span><br><span class=\"line\">cmp al, &#x27;r&#x27;</span><br><span class=\"line\">je showst</span><br><span class=\"line\">jmp short FRet</span><br><span class=\"line\"></span><br><span class=\"line\">showst:</span><br><span class=\"line\">mov ax, 0B800H</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\">mov di, 1</span><br><span class=\"line\">mov cx, 2000</span><br><span class=\"line\">s:</span><br><span class=\"line\">and byte ptr es:[di], 11111000B</span><br><span class=\"line\">or es:[di], bl</span><br><span class=\"line\">add di, 2</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">FRet:</span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675431818731-db0edf92-bc54-4bfc-a35f-613c796dddda.png\" alt=\"image.png\"><br><a name=\"Wyllk\"></a></p>\n<h1 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h1><p><a name=\"QMCD1\"></a></p>\n<h2 id=\"1-assume\"><a href=\"#1-assume\" class=\"headerlink\" title=\"1. assume\"></a>1. assume</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ds:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\"></span><br><span class=\"line\">s:</span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">mov al, a[si]</span><br><span class=\"line\">add b, ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>assume ds:data ss:stack</code></li>\n</ol>\n<ul>\n<li>assume$DSSS$datastack:<code>mov ax, data ``mov ds, ax</code></li>\n<li>assume$DSSS$datastack<strong>dataab</strong>$DS$<strong></strong>abdata$DS$data<code>mov ax, data</code><code>mov ax, data</code>data32bits16bitsax</li>\n</ul>\n<p><code>assume ds:data</code>__<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675343108877-68cf68d3-97ef-4ecb-8b4f-6da330149c94.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>assume cs:codesg</code></li>\n</ol>\n<p>$CS$(codesg)$CS$. $CS$<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675341791119-4c9029f0-b9e3-4e2f-b1b9-aa5d02685f8f.png\" alt=\"image.png\"><br><a name=\"wwfwW\"></a></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><ol>\n<li></li>\n</ol>\n<p>(byte, word, double word)<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, es:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov es, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov si, 0</span><br><span class=\"line\">mov cx, 8</span><br><span class=\"line\"></span><br><span class=\"line\">s:</span><br><span class=\"line\">mov ah, 0</span><br><span class=\"line\">mov al, a[si]</span><br><span class=\"line\">add b, ax</span><br><span class=\"line\">inc si</span><br><span class=\"line\">loop s</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure><br>ab</p>\n<ul>\n<li><strong></strong><code>**seg data:0**</code><strong>, byte</strong></li>\n<li><strong></strong><code>**seg data:8**</code><strong>, word</strong></li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<p><code>mov al, a[si]</code> <code>add b, ax</code>data: <code>mov al, es:0[si]``add es:[8], ax</code><br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409971871-70ff728a-fa74-48ac-a742-be8ec319d677.png\" alt=\"image.png\"></p>\n<ol>\n<li><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">assume cs:code, ds:data</span><br><span class=\"line\">data segment</span><br><span class=\"line\">a db 1,2,3,4,5,6,7,8</span><br><span class=\"line\">b dw 0</span><br><span class=\"line\">c dw a, b</span><br><span class=\"line\">data ends</span><br><span class=\"line\"></span><br><span class=\"line\">code segment</span><br><span class=\"line\">start:</span><br><span class=\"line\">mov ax, data</span><br><span class=\"line\">mov ds, ax</span><br><span class=\"line\"></span><br><span class=\"line\">mov dx, 2</span><br><span class=\"line\">mov dx, c</span><br><span class=\"line\">mov ax, c[1]</span><br><span class=\"line\"></span><br><span class=\"line\">mov ax, 4C00H</span><br><span class=\"line\">int 21H</span><br><span class=\"line\"></span><br><span class=\"line\">code ends</span><br><span class=\"line\">end start</span><br></pre></td></tr></table></figure>\n<code>c dw a, b</code>c<code>seg data:000A</code><strong>a</strong>$0000$<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1675409382345-20e1a2f2-8973-4150-992a-2a8acb141fa9.png\" alt=\"image.png\"></li>\n</ol>"},{"title":"[csapp] datalab, bomblab, attacklab","date":"2023-03-06T05:00:00.000Z","_content":"<meta name=\"referrer\" content=\"no-referrer\"/>\n<a name=\"IR5gF\"></a>\n\n# lab1 dataLab\n<!--more-->\n<a name=\"RKm5i\"></a>\n\n## \nlinux:<br />gcc`sudo apt-get install build-essential`  <br />[gcc](https://askubuntu.com/questions/855945/what-exactly-does-gcc-multilib-mean-on-ubuntu#:~:text=gcc%2Dmultilib%20is%20useful%20for,you%20get%20the%20idea).)`sudo apt-get install gcc-multilib`32<br />[CMUCSAPP](http://csapp.cs.cmu.edu/3e/labs.html)**README, WriteupSelf-Study Handout**Handoutbits.cSelf-Study Handout\n\n<a name=\"IOcHR\"></a>\n\n## 1.bitXor(x,y)\n~&^ 1-00-11<br />x&y1(bit) 1-1 0-00-11-0<br />(~x&~y)1(bit) 0-0 1-10-11-0<br />&|~ \n\n```cpp\n/*\nbitXor - x^y using only ~ and & \nExample: bitXor(4, 5) = 1\nLegal ops: ~ &\nMax ops: 14\nRating: 1\n*/\nint bitXor(int x, int y) {\n    return  ~(x&y) & ~(~x&~y) ; // if regardless '+' is illegal:(~x&y) + ((x)&(~y)) or ~((x&y) + ((~x)&(~y)))\n}\n```\n<a name=\"mB5XE\"></a>\n## 2.tmin\n`000...001` --> `1000...000`\n```cpp\n/* \ntmin - return minimum two's complement integer \nLegal ops: ! ~ & ^ | + << >>\nMax ops: 4\nRating: 1\n*/\nint tmin(void) {\n  return 1<<31;\n}\n```\n<a name=\"pr9MQ\"></a>\n## 3.isTmax(x)\n Tmin TmaxTmax+Tmax = 0`!((~x) + (~x))`[](https://stackoverflow.com/questions/74541471/datalab-of-csappistmax-seems-unoperative?noredirect=1#comment131585049_74541471)<br /> Tmax +1 = Tmin  ,  `100...000` + `011...111` = `111..1111` (-1)`!(~x^(x+1))`^+<br />-1 -11 `-1+1==0`,`Tmax+1!=0``!(-1+1) !=0` `!(Tmax+1) ==0`.<br />`Tmax, x+(x+1) = x` , `-1,x+(x+1)!=x`<br />`x+(x+1)` x`!(~((x+!(x+1))^(x+1)))`\n```cpp\n/*\nisTmax - returns 1 if x is the maximum, two's complement number,\nand 0 otherwise \negal ops: ! ~ & ^ | +\nMax ops: 10\nRating: 1\n*/\nint isTmax(int x) {\n  return !(~((x+!(x+1)) ^ (x+1))) ; \n   // !((~x) + (~x));  it should be right, the operator \"!\" seem to not work\n}\n```\n<a name=\"kHLgK\"></a>\n## 4.allOddBits(x)\nxshiftxshift<br />`101...1010`x`101...1010`\n```cpp\n/* \nallOddBits - return 1 if all odd-numbered bits in word set to 1\nwhere bits are numbered from 0 (least significant) to 31 (most significant)\nExamples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1\nLegal ops: ! ~ & ^ | + << >>\nMax ops: 12\nRating: 2\n*/\nint allOddBits(int x) {\n  int allOdd = (0xAA << 24) + (0xAA << 16) + (0xAA << 8) + 0xAA; // 10101010..101\n  return ! ((allOdd & x) ^ allOdd);   \n}\n```\n<a name=\"sswhY\"></a>\n## 5.isAsciiDigit(x)\nx---<br />x3bit  1,2bit1`!((x&mask2)^mask2) + (!((x&mask3)^mask3)))`\n```cpp\n/* \n * isAsciiDigit - return 1 if 0x30 <= x <= 0x39 (ASCII codes for characters '0' to '9')\n *   Example: isAsciiDigit(0x35) = 1.\n *            isAsciiDigit(0x3a) = 0.\n *            isAsciiDigit(0x05) = 0.\n *   Legal ops: ! ~ & ^ | + << >>\n *   Max ops: 15\n *   Rating: 3\n */\nint isAsciiDigit(int x) {\n  int mask1 = 0x3;   // 000...0011\n  int mask2 = 0xA;   // 1010\n  int mask3 = 0xC;   // 1100\n  return  !( ((x>>4)^mask1) | (!((x&mask2)^mask2) + (!((x&mask3)^mask3)) ) );\n}\n```\n<a name=\"DZZaa\"></a>\n## 6.conditional\nx!=0yx=0z<br />x01`000...0001``111...1111`\n```cpp\n/* \n * conditional - same as x ? y : z \n *   Example: conditional(2,4,5) = 4\n *   Legal ops: ! ~ & ^ | + << >> \n *   Max ops: 16\n *   Rating: 3\n */\nint conditional(int x, int y, int z) {\n  int  judge = !(x ^ 0x0); // x=0 -> judge=1,whereas x!=0 -> judge=0\n  judge = (judge << 31)>>31; // 000...000 or 111...111\n  return ((~judge)&y) | (judge&z);\n}\n```\n<a name=\"MZZvz\"></a>\n## 7.isLessOrEqual(x, y)\n`y-x>=0``x<=y`-x-x x+y<br />,` x+uw  y `(negative overflow  positive overflow)<br />****`**y-x**`**conditional**(--)()Tmin\n```cpp\n/* \n * isLessOrEqual - if x <= y  then return 1, else return 0 \n *   Example: isLessOrEqual(4,5) = 1.\n *   Legal ops: ! ~ & ^ | + << >>\n *   Max ops: 24\n *   Rating: 3\n */\nint isLessOrEqual(int x, int y) \n{\n  int Tmin = 1<<31; // 100...0000\n  int signY = Tmin & y;\n  int signX = Tmin & x;\n  int judge = (signY ^ signX)<<31; \n  x = (~x)+1;\n  return (judge&signX) | (~(judge>>31) & !((y+x)&Tmin)) ; // \n}\n```\n<a name=\"WP1Li\"></a>\n## 8.logicalNeg(x)\n 01NN!=00x=01x 10<br />xsignXsignx1xsign0x0**positive overflow** Tmax + x x>00 -->1positive overflow  negative overflow[undefined behavior](http://port70.net/~nsz/c/c11/n1570.html#3.4.3p3)\n```cpp\n/* \n * logicalNeg - implement the ! operator, using all of \n *              the legal operators except !\n *   Examples: logicalNeg(3) = 0, logi'calNeg(0) = 1\n *   Legal ops: ~ & ^ | + << >>\n *   Max ops: 12\n *   Rating: 4 \n */\nint logicalNeg(int x) {\n  int Tmin = 1<<31;\n  int Tmax = ~Tmin;\n  int signX = ((x&Tmin)>>31) & 0x1;\n  return (signX^0x1) & ((((x + Tmax)>>31)&0x1)^0x1);\n}\n```\n<a name=\"Y5Acb\"></a>\n## 9.howManyBits(x)\n1**1**1101101(-3)1<br />01(Such as: 1101 -> 0010)<br />1\n```cpp\n/* howManyBits - return the minimum number of bits required to represent x in\n *             two's complement\n *  Examples: howManyBits(12) = 5\n *            howManyBits(298) = 10\n *            howManyBits(-5) = 4\n *            howManyBits(0)  = 1\n *            howManyBits(-1) = 1\n *            howManyBits(0x80000000) = 32\n *  Legal ops: ! ~ & ^ | + << >>\n *  Max ops: 90\n *  Rating: 4\n */\nint howManyBits(int x) {\n  int b16,b8,b4,b2,b1,b0;\n  int signX = x>>31;\n  x = ((~signX) & x) | (signX&(~x));// if x is negative, let sign bit:1-> 0\n  \n  b16 = (!!(x>>16))<<4; // ensure high 16 bits exist 1 or not\n  x=x>>b16;\n  b8 = (!!(x>>8))<<3; // ensure high 8 bits \n  x=x>>b8;\n  b4 = (!!(x>>4))<<2; // ensure high 4 bits \n  x=x>>b4;  \n  b2 = (!!(x>>2))<<1; // ensure high 2 bits \n  x=x>>b2; \n  b1 = !!(x>>1); // ensure 31 bits or not \n  x = x>>b1;\n  b0 = x;\n  \n  return b0+b1+b2+b4+b8+b16+1; // 1: sign bit\n}\n```\n<a name=\"glYde\"></a>\n## 10.floatScale2(uf)\n`unsigned`(M2E)<br />**sign,exponent,fractionexp**<br />normalizedf*222EdenormalizedfracM`frac = frac <<1`denormalizednormalized (smoothly)\n```cpp\n//float\n/* \n * floatScale2 - Return bit-level equivalent of expression 2*f for\n *   floating point argument f.\n *   Both the argument and result are passed as unsigned int's, but\n *   they are to be interpreted as the bit-level representation of\n *   single-precision floating point values.\n *   When argument is NaN, return argument    // revision: NaN or infinity\n *   Legal ops: Any integer/unsigned operations incl. ||, &&. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\nunsigned floatScale2(unsigned uf) {\n  int musk_exp,musk_frac,sign,exp,frac,result;\n  musk_exp = 0xFF << 23;\n  musk_frac = 0x7FFFFF;\n  exp = (uf & musk_exp)>>23;\n  frac = uf & musk_frac;\n  sign = 0x1<<31 & uf;\n  result = 5;\n  if(exp == 0xFF  ) // NaN\n     result = uf;\n  else if(exp == 0x0) // denormalized\n  {  \n     if(frac == 0x0)\n     {\n        if(sign)  // -0.0\n           result = uf;\n        else     // +0.0\n           result = 0 ;\n     }\n     \n     else\n     {\n        frac = frac << 1;\n        result = sign+ (exp<<23) + frac;\n     }\n  }\n  \n  else if(exp != 0x0 && exp != 0xFF) // normalized\n  {\n     exp += 1;\n     result = sign+ (exp<<23) + frac;\n  }\n  return result;\n}\n```\n<a name=\"tO8yh\"></a>\n## 11.floatFloat2Int(uf)\n<br />fint`12345.0 (0x4640E400)`, `12345 (0x3039)`<br />f32bitint(2^31-1)E>31out of range\n```cpp\n/* \n * floatFloat2Int - Return bit-level equivalent of expression (int) f\n *   for floating point argument f.\n *   Argument is passed as unsigned int, but\n *   it is to be interpreted as the bit-level representation of a\n *   single-precision floating point value.\n *   Anything out of range (including NaN and infinity) should return\n *   0x80000000u.\n *   Legal ops: Any integer/unsigned operations incl. ||, &&. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\n \nint floatFloat2Int(unsigned uf) {\n  int musk_exp,musk_frac,exp,frac,sign,E,Bias,result;\n  musk_exp = 0xFF << 23;\n  musk_frac = 0x7FFFFF;\n  exp = (uf & musk_exp)>>23;\n  frac = uf & musk_frac;\n  sign = 0x1<<31 & uf;\n  Bias = 127;\n  result = 5;\n  if(exp == 0xFF  ) // NaN or infinity\n     result = 0x80000000u;\n     \n  else if(exp == 0x0)\n     result = 0;\n     \n  else if(exp != 0x0 && exp != 0xFF) // normalized\n  {\n     E = exp -Bias;  // bit_num of fraction\n     if(E < 0)\n        result = 0;\n     else if (E>31)\n        result = 0x80000000u;\n     else\n     {\n        frac = frac>>(23-E);\n        result = (0x1 << E) + frac ; \n        if(sign == 0x1<<31)\n           result = - result;\n     }\n  }\n  \n  return result;\n}\n```\n<a name=\"UlJMS\"></a>\n## 12.floatPower2(x)\n2^xlargest normalizedexp  2541111 1110too large\n```cpp\n/* \n * floatPower2 - Return bit-level equivalent of the expression 2.0^x\n *   (2.0 raised to the power x) for any 32-bit integer x.\n *\n *   The unsigned value that is returned should have the identical bit\n *   representation as the single-precision floating-point number 2.0^x.\n *   If the result is too small to be represented as a denorm, return\n *   0. If too large, return +INF.\n * \n *   Legal ops: Any integer/unsigned operations incl. ||, &&. Also if, while \n *   Max ops: 30 \n *   Rating: 4\n */\nunsigned floatPower2(int x) {\n  int exp,frac,E,Bias,result;\n  Bias = 127;\n  result = 5;\n  E = x;\n  if(x<1 && x!=0)\n     return 0;\n\n  else if(x >= 0x1 || x == 0)\n  {\n     frac = 0x0;\n     exp = E+Bias;\n     if(exp > 254)  // 1111 1110\n        {\n           exp = 0xFF;\n           result = exp <<23+frac;         \n        }\n     else\n        result = (exp<<23) + frac; \n  }    \n  \n  return result ;\n}\n```\n<a name=\"iHsuB\"></a>\n## consequence\n`make`<br />`./driver.pl`\n<a name=\"SLl25\"></a>\n### ![data_lab_success.png](https://cdn.nlark.com/yuque/0/2022/png/29536731/1669795434321-27bd7778-bde0-4d21-9ae0-425e1e785bd1.png)\n\n---\n\n<a name=\"FsQk5\"></a>\n# lab2 bombLab\n<a name=\"mm3BW\"></a>\n## phase_1\n\n1. `main``read_line``%rax``%rdi`(phase)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677142575501-aadca48e-4054-40dc-977b-4719009de3e3.png)\n\n2. `strings_not_equal``%rax`0 (1 vice versa)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143001741-9ecdcda9-b9a6-4b31-a450-5d80ed226850.png)\n\n3. `phase_1``strings_not_equal`0`test %eax, %eax``je 0x400ef7<phase_1+23>`phase_1 defused (explode vice versa)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143312955-e1e9a80c-1730-48ae-84f7-5dfded69d3a9.png)\n\n4. `strings_not_equal``%esi0x402400`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143752561-a0f86e1a-fc9c-4ff2-b386-d8d929f293c5.png)\n<a name=\"aPHyw\"></a>\n## phase_2\n\n1. `read_six_numbers``sscanf(input, \"%d %d %d %d %d %d\",&a1,&a2,&a3,&a4,&a5,&a6)``&a1~&a6`1)`%rcx:0x4(%rsi)`2)`%r8:0x8(%rsi)`3)`%r9:0xc(%rsi)`4)`%rsp:0x10(%rsi)`5)`0x8(%rsp):0x14(%rsi), 0x18(%rsi) ` 3`sscanf``read_six_numbers`,`%rsi`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677148614935-cd29c501-e2a8-4185-9924-0829124ef293.png)\n\n2. `phase_2`a10x1explodea22*a1explode2explode\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150067118-dd3962a5-1458-4a3e-9399-4cf1699ca7a7.png)\n\n3. $2^0,2^1,2^2,2^3,2^4,2^5$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677149991615-e3f805b9-b4b0-4f49-bfbf-36dc2153557b.png)\n<a name=\"XKRDk\"></a>\n## phase_3\n\n1. `phase_3``(%esi)`7(`cmpl 0x7,0x8(rsp)`)(`jmp *0x402470(,rax,8)`)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150892423-92750918-b2b5-4aa5-9b0e-e08eec5cffdd.png)\n\n2. 0x402470(switch)0x402470877`0x8(%rsp`1 2 3 4 5 6 7\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677072562462-74d53e52-6a59-498d-9186-02f1b43b8be5.png)\n\n3. -7`0xc(%rsp)`311 707 256 389 206 682 3277: (1, 311)(2, 707)(3, 256)(4, 389)(5, 206)(6, 682)(7, 327)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677151557789-3726bd23-9a03-48c7-bb2b-1a31a71ae4c0.png)\n<a name=\"Qae7S\"></a>\n## phase_4\n\n1. `phase_4``phase_3`114(`cmpl $0xe, 0x8(%rsp)`)`func4``%edx`, `%esi`, `0x8(%rsp)`func40(`test %eax, %eax`)`cmpl $0x0, 0xc(%rsp)`20\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206362623-39fe4977-5cab-4016-9003-2541d41dbe6a.png)\n\n2. `func4``func4``func4`1`%rax``%edx`-`%esi`,(`%rax >> 31`)`%rax`-11`%rax`0`0x8(%rsp)`0~14; 2`%ecx > %edi``%ecx``%esi``%edx`(`lea -0x1(%rcx), %edx`)3eax03`phase_4``%rax`1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677204842268-34841e29-56e5-4d63-9e9f-b1576cec24a4.png)\n\n3. 1047 3 1 020(7, 0), (3, 0), (1, 0), (0, 0)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206164369-fa35758d-403b-483b-ad52-af80ef73df84.png)\n<a name=\"Kxq7k\"></a>\n## phase_5\n\n1. `phase_5` (%fs:0x28)\n```c\nint index\nint i = 0 // %rax\ndo{\nindex = *(input+i);\nindex = index& 0xf; // take lower four bits\ndest[0] = source[index]; // dest: (%rsp+0x10+%rax) source: 0x4024b0\nif(string_not_equal(dest, target) == 0) // target: 0x40245e --- \"flyers\"\n      //defuse\nelse\n   explode_bomb();\n}while(i>6)\n```\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227102569-50a0daeb-22b8-4911-84ee-83283088ca0d.png)\n\n2. `source: 0x4024b0``target: 0x40245e``0x4024b0` \"flyers\"\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227207876-48a2e806-f23e-49ec-982e-698183c7bc19.png)\n\n3. byte`movzbl (%rbx, %rax, 1), %ecx`(`and $0xf, %edx`)\n4. sourcetarget7 15 14 5 6 76ASCIIeg7 BEL100111111110010101100111  (prefer a~z)defuseionefgyONuvw\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677228092474-185f8fde-3015-4a64-ae85-2a4931bb2ca9.png)\n<a name=\"BuuHr\"></a>\n## phase_6\n\n1. thinking process\n```c\nphase_6(input)\n{\nint a1 = 0;  // %r12d\nint* input_copy = input; // mov %rsp, %r13\nint val; // %eax\n\nwhile(1)\n{\n    val = *(input_copy); // 0x0(%r13)\n    val = val-1;\n    if(val>5)  explode()  // 6\n        \n    ++a1; // add $0x1, %r12d\n    if(a1 == 6) break; // jmp 95\n    int a2 = a1; // mov %r12d, %ebx\n    do{   // 65\n        val = *(input+a2);\n        if(val == *input_copy)\n            explode();\n        ++a2;\n        }while(a2<= 5 ) // 87\n    ++input_copy; // add $0x4, %r13\n} // 93\n/*()\n1. 6\n2.  */ 0~6\n\nint* sentry = input+6; // mov 0x18(%rsp), %rsi   95\nint* input_copy_2 = input; // %rax\nint a3 = 7; // %edx, %ecx\ndo{\n    *(input_copy_2) = a3 - *(input_copy_2);\n    ++input_copy_2;\n}while(input_copy_2 != sentry)\n/* 7-(), \n11 */\n \nint a4 = 0; // 123 %esi  -- index\nint a5; // %edx\nint a6; // %eax  -- index\noffset_166:\nif(input[a4] <= 1) // 166  %ecx\n{\n    a5 = 0x6032d0; // 143\n    offset_148:\n    *(input+0x20+2*a4) = a5; // 148 [8]:20, [10]:28, [12]:30, [14]:38, [16]:40,[18]:48\n                             //   0x6032d0, 0x6032e0  0x6032f0 0x603200 0x603310 0x603320   \n    a4 += 4; // add $0x4, %rsi \n    if(a4 ==  24 )\n        goto offset_183; // 161 \n    else \n        goto offset_166;\n}\nelse  // else else -->\n{\n    a6 = 1;  // 171  \n    &a5 = 0x6032d0; // 176  +0x8\n    do{ // 130\n        a5 = *(&a5 + 0x8) ; // mov 0x8(%rdx),%rdx  ?\n        ++a6; \n    }while(a6 != *(input+a4) ) // 139  (must have 1-6), 2-5, 3-4 , 4-3, 5-2, 6-1, (7-0)\n    goto offset_148;         // recorrect: 3-4, 4-3,5-2,6-1,1-6,2-5\n} // 181\n\noffset_183    function: link node in order\nint a7 = input[8]; //%rbx 0x20(%rsp)   *(input+ 8) ~ *(input+16) all represent a address\nint* input_copy_3 = input+10 // %rax  0x28(%rsp)\nint* input_copy_4 = input+20 // %rsi  0x50(%rsp)\na3 = a7; // a3:%rcx\nwhile(1){ // 201\n    a5 = *input_copy_3; //a5:%rdx [10][12]...[18][20] 6\n    *(a3+0x8) = a5; // 0x8(%rcx)\n    input_copy_3 += 2; // 0x8 \n    if(input_copy_3 == input_copy_4) break; // 215 \n    a3 = a5; // mov %rdx, %rcx\n}    //   make  *(a[i-2] + 0x8) = a[i] (i = i+2: 10 12 .. 18)\n//  %rdx = * (input + 18)\n\n*(*(input+18) + 2 ) = 0; // 222   set last node's pointer to nullptr\nint a8 = 5; // %ebp\nint a9 // %rax \ndo\n{\n &a9 = *(a7+2); // %rax   initial a7 = input[8]\n  a9 = *a9; // mov (%rax), %eax\nif(*(*(input+8)) < a9) // cmp %eax, (%rbx) \n    explode();   // \na7 = *(*(input+8)+2); // mov 0x8(%rbx), %rbx %rbx  \n--a8;\n}while(a8>0)\n\n}\n// over\n    \n/*inital:\n0x14c(0): 332;\n0x0a8(1): 168;\n0x39c(2): 924;\n0x2b3(3): 691\n0x1dd(4): 477\n0x1bb(5): 443\n\n2->3->4->5->0->1 */\n\n\n```\n\n2. phase_6phase_6phase_667phase`0x6032d0`246 `0x6032d0`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677403752602-71565a7a-ae83-4e0e-a0d7-cdd2e3df1fd5.png)\n<a name=\"QjpMp\"></a>\n## secret_phase\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404056138-294107ed-6f1c-4477-83c9-44b00041ef4b.png)\n\n1. \n\n easter eggbomb.cbombCMUwriteup`objdump -t bomb`secret_phase<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404753141-3d41a656-d41d-476c-aae5-e51421f24d6e.png)\n\n2. \n\n1)secret_phase`secret_phase``main``secret_base`phase_1phase_6`phase_defused``phase_defused``secret_phase`<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404954528-c0e39bd3-077e-49cd-a460-d820f2047ce8.png)\n\n3. secret_phase\n\n1secret_base\n```c\nsecret_phase()\n{\n    int input_2;// (%rdi)\n    &input_2 = read_line(); //  %rdi\n    \n    int a1 = 0xa; // %edx\n    int a2 = 0x0; // %esi\n    long int input_num_1 = strtol(input_2); // %rax\n    long int input_num_2 = input_num_1 // %rbx\n    input_num_1 -= 1; \n    if(input_num_1 > 0x3e8 /*1000*/) explode();\n    //   1001\n    a2 = input_num_2;// mov %ebx, %esi  \n    &input_2 = 0x6030f0;\n    int ret = fun7(&input_2,a2,input_num_1); // ret_value: %rax\n    \n    if(ret == 0x2)\n        defused();\n    else\n        explode(); \n}\n\nint fun7(&input_2, a2, input_num_1)\n{\n    if(&input_2 == 0x0) return -1; // avoid endless recursion\n    int a3 = *(&input_2);  // 9 %edx   initial a3 = 24\n    if(a3 <= a2) goto offset_28; // 13  a2 \n\n    // a3 > a2\n    input_2 = *(&input_2 + 0x8); // +2  turn left\n    input_num_1 = fun7(&input_2, a2, input_num_1); // 19\n\n    input_num_1 *= 2; // input_num_q is 1 here\n    return input_num_1;\n\n    offset_28:\n    input_num_1 = 0;\n    if(a3 == a2) return input_num_1;\t\n\n    // a3 < a2\n    input_2 = *(&input_2 + 0x10); // +4   turn right\n    input_num_1 = fun7(&input_2, a2, input_num_1); // 0\n    input_num_1 = 2*input_num_1 + 1;  // 1\n    return input_num_1;\n}\n\n```\n2phase_6`0x6030f0``0x6030f0`12038 words`secret_phase``fun7`2defuse`fun7`turn left(`&input_2 + 0x8`->turn right(`&input_2 + 0x10`) -> return 0222 2220return 020<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677484445488-99b96bb8-8026-406a-8606-b6ed814389d7.png)\n\n---\n\n<a name=\"SLpu6\"></a>\n# lab3 attacklab\n<a name=\"UbCO7\"></a>\n## \n\n1. ubuntu22.04segment faultubuntu22.04ubuntu20.04\n\ngoogle\n\n2. exploit string`hex/2raw`2-digit \n\nwriteupA`hex/2raw`ctarget<br />`./hex2raw < exploit_string.txt | ./ctarget -q`<br />`exploit_string.txt``hex2raw``hex2raw``./ctarget`-qCMU`./hex2raw`\n<a name=\"Kk3w5\"></a>\n## phase_1\n\n1. `ctarget``objdump -d ctarget`ctargetasm\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585087533-3d1cfcba-4dd9-41f4-8cc8-bb4c35b8674f.png)<br />ctarget\n\n2. `vim dis_ctarget.asm``getbuf`0x2840`test`ret0x3048`touch1``0x004017c0`exploit_string8c0 17 40 00little-endian\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585873581-353e1114-4253-4b23-aceb-6ba85c12e660.png)\n\n3. `vim phase_1.txt`\n\n $\\begin{matrix}\n  &00  &00  &00  &00  &00  &00  &00 &00 \\\\\n  &00 &00  & 00 &00  &00  &00  &00 &00 \\\\\n  &00  &00  &00  &00 &00  &00  &00  &00\\\\\n  &00  &00  &00  &00  &00  &00  &00  &00\\\\\n  &00  &00  &00  &00  &00  &00  &00  &00\\\\\n  &c0 &17  &40  &00  &00  &00  &00\n\\end{matrix}$<br />gets' \\n ' (touch1)resultPASS<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677586525442-cc13fc97-7de2-4bc6-90c7-bdb9356cc9b4.png)\n<a name=\"xCSRi\"></a>\n## phase_2\n\n1. `vim asb.s`push\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677637642575-745a9de7-6e49-4ef0-9f44-46dbe3cfb8a0.png)\n\n2. `phase_2.txt``asb.o``test``%rsp` `%rsp`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677591555601-28a75db3-4efc-445a-bd75-67d6722d57ee.png)\n\n3. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677638454464-852c44b4-14f9-43fe-8e9f-a927c267b260.png)\n<a name=\"TVVPU\"></a>\n## phase_3\n\n1. `phase_2``cookie``getbuf``cookie``test``0x5561dca8``touch3`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677673769317-083e3c3d-3eb7-4716-8b34-154511f96d34.png)\n\n2. `ascii -ax`ascii-table`\"59b997fa\"`ascii`35 39 62 39 39 37 66 61`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678551264-8b3b6a28-3390-45cb-bbc6-b20f241eb472.png)\n\n3. test`cookie`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678755332-3ea51646-6c2b-4212-8f6a-d6fe5551fa9a.png)\n\n4. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678782689-4f003174-6f36-4200-87cd-d46e586d9907.png)\n<a name=\"UnHwd\"></a>\n## phase_4\n`rtarget`1  2writeup`ctarget``ctarget``gadget`ret`gadget``gadget``ret``gadget``%rip`,`gadget`\n\n1. `cookie``rgadget``phase_3``getbuf``test``mov $0x59b997fa,%rdi``popq %rdi`writeup`start_farm``end_farm``5f``58 90`,`0x004019ab``popq %rax  nop``%rax``cookie``%rdi`farm`movq %rax, %rdi48 89 c7``0x004019c5``gadget`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677748308138-674aa437-9522-414c-afcf-828967ad2c1b.png)\n\n2. phase_4attacklabhacker\n\n![yuque_diagram.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677750944719-6ccf095c-ffce-4020-8cb6-f5b0f0fde9f8.png)\n\n","source":"_posts/csapp-lab.md","raw":"---\ntitle: \"[csapp] datalab, bomblab, attacklab\"\ndate: 2023/03/06\ncategories:\n- CSAPP\ntags: \"CSAPP\"\n---\n<meta name=\"referrer\" content=\"no-referrer\"/>\n<a name=\"IR5gF\"></a>\n\n# lab1 dataLab\n<!--more-->\n<a name=\"RKm5i\"></a>\n\n## \nlinux:<br />gcc`sudo apt-get install build-essential`  <br />[gcc](https://askubuntu.com/questions/855945/what-exactly-does-gcc-multilib-mean-on-ubuntu#:~:text=gcc%2Dmultilib%20is%20useful%20for,you%20get%20the%20idea).)`sudo apt-get install gcc-multilib`32<br />[CMUCSAPP](http://csapp.cs.cmu.edu/3e/labs.html)**README, WriteupSelf-Study Handout**Handoutbits.cSelf-Study Handout\n\n<a name=\"IOcHR\"></a>\n\n## 1.bitXor(x,y)\n~&^ 1-00-11<br />x&y1(bit) 1-1 0-00-11-0<br />(~x&~y)1(bit) 0-0 1-10-11-0<br />&|~ \n\n```cpp\n/*\nbitXor - x^y using only ~ and & \nExample: bitXor(4, 5) = 1\nLegal ops: ~ &\nMax ops: 14\nRating: 1\n*/\nint bitXor(int x, int y) {\n    return  ~(x&y) & ~(~x&~y) ; // if regardless '+' is illegal:(~x&y) + ((x)&(~y)) or ~((x&y) + ((~x)&(~y)))\n}\n```\n<a name=\"mB5XE\"></a>\n## 2.tmin\n`000...001` --> `1000...000`\n```cpp\n/* \ntmin - return minimum two's complement integer \nLegal ops: ! ~ & ^ | + << >>\nMax ops: 4\nRating: 1\n*/\nint tmin(void) {\n  return 1<<31;\n}\n```\n<a name=\"pr9MQ\"></a>\n## 3.isTmax(x)\n Tmin TmaxTmax+Tmax = 0`!((~x) + (~x))`[](https://stackoverflow.com/questions/74541471/datalab-of-csappistmax-seems-unoperative?noredirect=1#comment131585049_74541471)<br /> Tmax +1 = Tmin  ,  `100...000` + `011...111` = `111..1111` (-1)`!(~x^(x+1))`^+<br />-1 -11 `-1+1==0`,`Tmax+1!=0``!(-1+1) !=0` `!(Tmax+1) ==0`.<br />`Tmax, x+(x+1) = x` , `-1,x+(x+1)!=x`<br />`x+(x+1)` x`!(~((x+!(x+1))^(x+1)))`\n```cpp\n/*\nisTmax - returns 1 if x is the maximum, two's complement number,\nand 0 otherwise \negal ops: ! ~ & ^ | +\nMax ops: 10\nRating: 1\n*/\nint isTmax(int x) {\n  return !(~((x+!(x+1)) ^ (x+1))) ; \n   // !((~x) + (~x));  it should be right, the operator \"!\" seem to not work\n}\n```\n<a name=\"kHLgK\"></a>\n## 4.allOddBits(x)\nxshiftxshift<br />`101...1010`x`101...1010`\n```cpp\n/* \nallOddBits - return 1 if all odd-numbered bits in word set to 1\nwhere bits are numbered from 0 (least significant) to 31 (most significant)\nExamples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1\nLegal ops: ! ~ & ^ | + << >>\nMax ops: 12\nRating: 2\n*/\nint allOddBits(int x) {\n  int allOdd = (0xAA << 24) + (0xAA << 16) + (0xAA << 8) + 0xAA; // 10101010..101\n  return ! ((allOdd & x) ^ allOdd);   \n}\n```\n<a name=\"sswhY\"></a>\n## 5.isAsciiDigit(x)\nx---<br />x3bit  1,2bit1`!((x&mask2)^mask2) + (!((x&mask3)^mask3)))`\n```cpp\n/* \n * isAsciiDigit - return 1 if 0x30 <= x <= 0x39 (ASCII codes for characters '0' to '9')\n *   Example: isAsciiDigit(0x35) = 1.\n *            isAsciiDigit(0x3a) = 0.\n *            isAsciiDigit(0x05) = 0.\n *   Legal ops: ! ~ & ^ | + << >>\n *   Max ops: 15\n *   Rating: 3\n */\nint isAsciiDigit(int x) {\n  int mask1 = 0x3;   // 000...0011\n  int mask2 = 0xA;   // 1010\n  int mask3 = 0xC;   // 1100\n  return  !( ((x>>4)^mask1) | (!((x&mask2)^mask2) + (!((x&mask3)^mask3)) ) );\n}\n```\n<a name=\"DZZaa\"></a>\n## 6.conditional\nx!=0yx=0z<br />x01`000...0001``111...1111`\n```cpp\n/* \n * conditional - same as x ? y : z \n *   Example: conditional(2,4,5) = 4\n *   Legal ops: ! ~ & ^ | + << >> \n *   Max ops: 16\n *   Rating: 3\n */\nint conditional(int x, int y, int z) {\n  int  judge = !(x ^ 0x0); // x=0 -> judge=1,whereas x!=0 -> judge=0\n  judge = (judge << 31)>>31; // 000...000 or 111...111\n  return ((~judge)&y) | (judge&z);\n}\n```\n<a name=\"MZZvz\"></a>\n## 7.isLessOrEqual(x, y)\n`y-x>=0``x<=y`-x-x x+y<br />,` x+uw  y `(negative overflow  positive overflow)<br />****`**y-x**`**conditional**(--)()Tmin\n```cpp\n/* \n * isLessOrEqual - if x <= y  then return 1, else return 0 \n *   Example: isLessOrEqual(4,5) = 1.\n *   Legal ops: ! ~ & ^ | + << >>\n *   Max ops: 24\n *   Rating: 3\n */\nint isLessOrEqual(int x, int y) \n{\n  int Tmin = 1<<31; // 100...0000\n  int signY = Tmin & y;\n  int signX = Tmin & x;\n  int judge = (signY ^ signX)<<31; \n  x = (~x)+1;\n  return (judge&signX) | (~(judge>>31) & !((y+x)&Tmin)) ; // \n}\n```\n<a name=\"WP1Li\"></a>\n## 8.logicalNeg(x)\n 01NN!=00x=01x 10<br />xsignXsignx1xsign0x0**positive overflow** Tmax + x x>00 -->1positive overflow  negative overflow[undefined behavior](http://port70.net/~nsz/c/c11/n1570.html#3.4.3p3)\n```cpp\n/* \n * logicalNeg - implement the ! operator, using all of \n *              the legal operators except !\n *   Examples: logicalNeg(3) = 0, logi'calNeg(0) = 1\n *   Legal ops: ~ & ^ | + << >>\n *   Max ops: 12\n *   Rating: 4 \n */\nint logicalNeg(int x) {\n  int Tmin = 1<<31;\n  int Tmax = ~Tmin;\n  int signX = ((x&Tmin)>>31) & 0x1;\n  return (signX^0x1) & ((((x + Tmax)>>31)&0x1)^0x1);\n}\n```\n<a name=\"Y5Acb\"></a>\n## 9.howManyBits(x)\n1**1**1101101(-3)1<br />01(Such as: 1101 -> 0010)<br />1\n```cpp\n/* howManyBits - return the minimum number of bits required to represent x in\n *             two's complement\n *  Examples: howManyBits(12) = 5\n *            howManyBits(298) = 10\n *            howManyBits(-5) = 4\n *            howManyBits(0)  = 1\n *            howManyBits(-1) = 1\n *            howManyBits(0x80000000) = 32\n *  Legal ops: ! ~ & ^ | + << >>\n *  Max ops: 90\n *  Rating: 4\n */\nint howManyBits(int x) {\n  int b16,b8,b4,b2,b1,b0;\n  int signX = x>>31;\n  x = ((~signX) & x) | (signX&(~x));// if x is negative, let sign bit:1-> 0\n  \n  b16 = (!!(x>>16))<<4; // ensure high 16 bits exist 1 or not\n  x=x>>b16;\n  b8 = (!!(x>>8))<<3; // ensure high 8 bits \n  x=x>>b8;\n  b4 = (!!(x>>4))<<2; // ensure high 4 bits \n  x=x>>b4;  \n  b2 = (!!(x>>2))<<1; // ensure high 2 bits \n  x=x>>b2; \n  b1 = !!(x>>1); // ensure 31 bits or not \n  x = x>>b1;\n  b0 = x;\n  \n  return b0+b1+b2+b4+b8+b16+1; // 1: sign bit\n}\n```\n<a name=\"glYde\"></a>\n## 10.floatScale2(uf)\n`unsigned`(M2E)<br />**sign,exponent,fractionexp**<br />normalizedf*222EdenormalizedfracM`frac = frac <<1`denormalizednormalized (smoothly)\n```cpp\n//float\n/* \n * floatScale2 - Return bit-level equivalent of expression 2*f for\n *   floating point argument f.\n *   Both the argument and result are passed as unsigned int's, but\n *   they are to be interpreted as the bit-level representation of\n *   single-precision floating point values.\n *   When argument is NaN, return argument    // revision: NaN or infinity\n *   Legal ops: Any integer/unsigned operations incl. ||, &&. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\nunsigned floatScale2(unsigned uf) {\n  int musk_exp,musk_frac,sign,exp,frac,result;\n  musk_exp = 0xFF << 23;\n  musk_frac = 0x7FFFFF;\n  exp = (uf & musk_exp)>>23;\n  frac = uf & musk_frac;\n  sign = 0x1<<31 & uf;\n  result = 5;\n  if(exp == 0xFF  ) // NaN\n     result = uf;\n  else if(exp == 0x0) // denormalized\n  {  \n     if(frac == 0x0)\n     {\n        if(sign)  // -0.0\n           result = uf;\n        else     // +0.0\n           result = 0 ;\n     }\n     \n     else\n     {\n        frac = frac << 1;\n        result = sign+ (exp<<23) + frac;\n     }\n  }\n  \n  else if(exp != 0x0 && exp != 0xFF) // normalized\n  {\n     exp += 1;\n     result = sign+ (exp<<23) + frac;\n  }\n  return result;\n}\n```\n<a name=\"tO8yh\"></a>\n## 11.floatFloat2Int(uf)\n<br />fint`12345.0 (0x4640E400)`, `12345 (0x3039)`<br />f32bitint(2^31-1)E>31out of range\n```cpp\n/* \n * floatFloat2Int - Return bit-level equivalent of expression (int) f\n *   for floating point argument f.\n *   Argument is passed as unsigned int, but\n *   it is to be interpreted as the bit-level representation of a\n *   single-precision floating point value.\n *   Anything out of range (including NaN and infinity) should return\n *   0x80000000u.\n *   Legal ops: Any integer/unsigned operations incl. ||, &&. also if, while\n *   Max ops: 30\n *   Rating: 4\n */\n \nint floatFloat2Int(unsigned uf) {\n  int musk_exp,musk_frac,exp,frac,sign,E,Bias,result;\n  musk_exp = 0xFF << 23;\n  musk_frac = 0x7FFFFF;\n  exp = (uf & musk_exp)>>23;\n  frac = uf & musk_frac;\n  sign = 0x1<<31 & uf;\n  Bias = 127;\n  result = 5;\n  if(exp == 0xFF  ) // NaN or infinity\n     result = 0x80000000u;\n     \n  else if(exp == 0x0)\n     result = 0;\n     \n  else if(exp != 0x0 && exp != 0xFF) // normalized\n  {\n     E = exp -Bias;  // bit_num of fraction\n     if(E < 0)\n        result = 0;\n     else if (E>31)\n        result = 0x80000000u;\n     else\n     {\n        frac = frac>>(23-E);\n        result = (0x1 << E) + frac ; \n        if(sign == 0x1<<31)\n           result = - result;\n     }\n  }\n  \n  return result;\n}\n```\n<a name=\"UlJMS\"></a>\n## 12.floatPower2(x)\n2^xlargest normalizedexp  2541111 1110too large\n```cpp\n/* \n * floatPower2 - Return bit-level equivalent of the expression 2.0^x\n *   (2.0 raised to the power x) for any 32-bit integer x.\n *\n *   The unsigned value that is returned should have the identical bit\n *   representation as the single-precision floating-point number 2.0^x.\n *   If the result is too small to be represented as a denorm, return\n *   0. If too large, return +INF.\n * \n *   Legal ops: Any integer/unsigned operations incl. ||, &&. Also if, while \n *   Max ops: 30 \n *   Rating: 4\n */\nunsigned floatPower2(int x) {\n  int exp,frac,E,Bias,result;\n  Bias = 127;\n  result = 5;\n  E = x;\n  if(x<1 && x!=0)\n     return 0;\n\n  else if(x >= 0x1 || x == 0)\n  {\n     frac = 0x0;\n     exp = E+Bias;\n     if(exp > 254)  // 1111 1110\n        {\n           exp = 0xFF;\n           result = exp <<23+frac;         \n        }\n     else\n        result = (exp<<23) + frac; \n  }    \n  \n  return result ;\n}\n```\n<a name=\"iHsuB\"></a>\n## consequence\n`make`<br />`./driver.pl`\n<a name=\"SLl25\"></a>\n### ![data_lab_success.png](https://cdn.nlark.com/yuque/0/2022/png/29536731/1669795434321-27bd7778-bde0-4d21-9ae0-425e1e785bd1.png)\n\n---\n\n<a name=\"FsQk5\"></a>\n# lab2 bombLab\n<a name=\"mm3BW\"></a>\n## phase_1\n\n1. `main``read_line``%rax``%rdi`(phase)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677142575501-aadca48e-4054-40dc-977b-4719009de3e3.png)\n\n2. `strings_not_equal``%rax`0 (1 vice versa)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143001741-9ecdcda9-b9a6-4b31-a450-5d80ed226850.png)\n\n3. `phase_1``strings_not_equal`0`test %eax, %eax``je 0x400ef7<phase_1+23>`phase_1 defused (explode vice versa)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143312955-e1e9a80c-1730-48ae-84f7-5dfded69d3a9.png)\n\n4. `strings_not_equal``%esi0x402400`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143752561-a0f86e1a-fc9c-4ff2-b386-d8d929f293c5.png)\n<a name=\"aPHyw\"></a>\n## phase_2\n\n1. `read_six_numbers``sscanf(input, \"%d %d %d %d %d %d\",&a1,&a2,&a3,&a4,&a5,&a6)``&a1~&a6`1)`%rcx:0x4(%rsi)`2)`%r8:0x8(%rsi)`3)`%r9:0xc(%rsi)`4)`%rsp:0x10(%rsi)`5)`0x8(%rsp):0x14(%rsi), 0x18(%rsi) ` 3`sscanf``read_six_numbers`,`%rsi`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677148614935-cd29c501-e2a8-4185-9924-0829124ef293.png)\n\n2. `phase_2`a10x1explodea22*a1explode2explode\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150067118-dd3962a5-1458-4a3e-9399-4cf1699ca7a7.png)\n\n3. $2^0,2^1,2^2,2^3,2^4,2^5$\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677149991615-e3f805b9-b4b0-4f49-bfbf-36dc2153557b.png)\n<a name=\"XKRDk\"></a>\n## phase_3\n\n1. `phase_3``(%esi)`7(`cmpl 0x7,0x8(rsp)`)(`jmp *0x402470(,rax,8)`)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150892423-92750918-b2b5-4aa5-9b0e-e08eec5cffdd.png)\n\n2. 0x402470(switch)0x402470877`0x8(%rsp`1 2 3 4 5 6 7\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677072562462-74d53e52-6a59-498d-9186-02f1b43b8be5.png)\n\n3. -7`0xc(%rsp)`311 707 256 389 206 682 3277: (1, 311)(2, 707)(3, 256)(4, 389)(5, 206)(6, 682)(7, 327)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677151557789-3726bd23-9a03-48c7-bb2b-1a31a71ae4c0.png)\n<a name=\"Qae7S\"></a>\n## phase_4\n\n1. `phase_4``phase_3`114(`cmpl $0xe, 0x8(%rsp)`)`func4``%edx`, `%esi`, `0x8(%rsp)`func40(`test %eax, %eax`)`cmpl $0x0, 0xc(%rsp)`20\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206362623-39fe4977-5cab-4016-9003-2541d41dbe6a.png)\n\n2. `func4``func4``func4`1`%rax``%edx`-`%esi`,(`%rax >> 31`)`%rax`-11`%rax`0`0x8(%rsp)`0~14; 2`%ecx > %edi``%ecx``%esi``%edx`(`lea -0x1(%rcx), %edx`)3eax03`phase_4``%rax`1\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677204842268-34841e29-56e5-4d63-9e9f-b1576cec24a4.png)\n\n3. 1047 3 1 020(7, 0), (3, 0), (1, 0), (0, 0)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206164369-fa35758d-403b-483b-ad52-af80ef73df84.png)\n<a name=\"Kxq7k\"></a>\n## phase_5\n\n1. `phase_5` (%fs:0x28)\n```c\nint index\nint i = 0 // %rax\ndo{\nindex = *(input+i);\nindex = index& 0xf; // take lower four bits\ndest[0] = source[index]; // dest: (%rsp+0x10+%rax) source: 0x4024b0\nif(string_not_equal(dest, target) == 0) // target: 0x40245e --- \"flyers\"\n      //defuse\nelse\n   explode_bomb();\n}while(i>6)\n```\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227102569-50a0daeb-22b8-4911-84ee-83283088ca0d.png)\n\n2. `source: 0x4024b0``target: 0x40245e``0x4024b0` \"flyers\"\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227207876-48a2e806-f23e-49ec-982e-698183c7bc19.png)\n\n3. byte`movzbl (%rbx, %rax, 1), %ecx`(`and $0xf, %edx`)\n4. sourcetarget7 15 14 5 6 76ASCIIeg7 BEL100111111110010101100111  (prefer a~z)defuseionefgyONuvw\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677228092474-185f8fde-3015-4a64-ae85-2a4931bb2ca9.png)\n<a name=\"BuuHr\"></a>\n## phase_6\n\n1. thinking process\n```c\nphase_6(input)\n{\nint a1 = 0;  // %r12d\nint* input_copy = input; // mov %rsp, %r13\nint val; // %eax\n\nwhile(1)\n{\n    val = *(input_copy); // 0x0(%r13)\n    val = val-1;\n    if(val>5)  explode()  // 6\n        \n    ++a1; // add $0x1, %r12d\n    if(a1 == 6) break; // jmp 95\n    int a2 = a1; // mov %r12d, %ebx\n    do{   // 65\n        val = *(input+a2);\n        if(val == *input_copy)\n            explode();\n        ++a2;\n        }while(a2<= 5 ) // 87\n    ++input_copy; // add $0x4, %r13\n} // 93\n/*()\n1. 6\n2.  */ 0~6\n\nint* sentry = input+6; // mov 0x18(%rsp), %rsi   95\nint* input_copy_2 = input; // %rax\nint a3 = 7; // %edx, %ecx\ndo{\n    *(input_copy_2) = a3 - *(input_copy_2);\n    ++input_copy_2;\n}while(input_copy_2 != sentry)\n/* 7-(), \n11 */\n \nint a4 = 0; // 123 %esi  -- index\nint a5; // %edx\nint a6; // %eax  -- index\noffset_166:\nif(input[a4] <= 1) // 166  %ecx\n{\n    a5 = 0x6032d0; // 143\n    offset_148:\n    *(input+0x20+2*a4) = a5; // 148 [8]:20, [10]:28, [12]:30, [14]:38, [16]:40,[18]:48\n                             //   0x6032d0, 0x6032e0  0x6032f0 0x603200 0x603310 0x603320   \n    a4 += 4; // add $0x4, %rsi \n    if(a4 ==  24 )\n        goto offset_183; // 161 \n    else \n        goto offset_166;\n}\nelse  // else else -->\n{\n    a6 = 1;  // 171  \n    &a5 = 0x6032d0; // 176  +0x8\n    do{ // 130\n        a5 = *(&a5 + 0x8) ; // mov 0x8(%rdx),%rdx  ?\n        ++a6; \n    }while(a6 != *(input+a4) ) // 139  (must have 1-6), 2-5, 3-4 , 4-3, 5-2, 6-1, (7-0)\n    goto offset_148;         // recorrect: 3-4, 4-3,5-2,6-1,1-6,2-5\n} // 181\n\noffset_183    function: link node in order\nint a7 = input[8]; //%rbx 0x20(%rsp)   *(input+ 8) ~ *(input+16) all represent a address\nint* input_copy_3 = input+10 // %rax  0x28(%rsp)\nint* input_copy_4 = input+20 // %rsi  0x50(%rsp)\na3 = a7; // a3:%rcx\nwhile(1){ // 201\n    a5 = *input_copy_3; //a5:%rdx [10][12]...[18][20] 6\n    *(a3+0x8) = a5; // 0x8(%rcx)\n    input_copy_3 += 2; // 0x8 \n    if(input_copy_3 == input_copy_4) break; // 215 \n    a3 = a5; // mov %rdx, %rcx\n}    //   make  *(a[i-2] + 0x8) = a[i] (i = i+2: 10 12 .. 18)\n//  %rdx = * (input + 18)\n\n*(*(input+18) + 2 ) = 0; // 222   set last node's pointer to nullptr\nint a8 = 5; // %ebp\nint a9 // %rax \ndo\n{\n &a9 = *(a7+2); // %rax   initial a7 = input[8]\n  a9 = *a9; // mov (%rax), %eax\nif(*(*(input+8)) < a9) // cmp %eax, (%rbx) \n    explode();   // \na7 = *(*(input+8)+2); // mov 0x8(%rbx), %rbx %rbx  \n--a8;\n}while(a8>0)\n\n}\n// over\n    \n/*inital:\n0x14c(0): 332;\n0x0a8(1): 168;\n0x39c(2): 924;\n0x2b3(3): 691\n0x1dd(4): 477\n0x1bb(5): 443\n\n2->3->4->5->0->1 */\n\n\n```\n\n2. phase_6phase_6phase_667phase`0x6032d0`246 `0x6032d0`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677403752602-71565a7a-ae83-4e0e-a0d7-cdd2e3df1fd5.png)\n<a name=\"QjpMp\"></a>\n## secret_phase\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404056138-294107ed-6f1c-4477-83c9-44b00041ef4b.png)\n\n1. \n\n easter eggbomb.cbombCMUwriteup`objdump -t bomb`secret_phase<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404753141-3d41a656-d41d-476c-aae5-e51421f24d6e.png)\n\n2. \n\n1)secret_phase`secret_phase``main``secret_base`phase_1phase_6`phase_defused``phase_defused``secret_phase`<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404954528-c0e39bd3-077e-49cd-a460-d820f2047ce8.png)\n\n3. secret_phase\n\n1secret_base\n```c\nsecret_phase()\n{\n    int input_2;// (%rdi)\n    &input_2 = read_line(); //  %rdi\n    \n    int a1 = 0xa; // %edx\n    int a2 = 0x0; // %esi\n    long int input_num_1 = strtol(input_2); // %rax\n    long int input_num_2 = input_num_1 // %rbx\n    input_num_1 -= 1; \n    if(input_num_1 > 0x3e8 /*1000*/) explode();\n    //   1001\n    a2 = input_num_2;// mov %ebx, %esi  \n    &input_2 = 0x6030f0;\n    int ret = fun7(&input_2,a2,input_num_1); // ret_value: %rax\n    \n    if(ret == 0x2)\n        defused();\n    else\n        explode(); \n}\n\nint fun7(&input_2, a2, input_num_1)\n{\n    if(&input_2 == 0x0) return -1; // avoid endless recursion\n    int a3 = *(&input_2);  // 9 %edx   initial a3 = 24\n    if(a3 <= a2) goto offset_28; // 13  a2 \n\n    // a3 > a2\n    input_2 = *(&input_2 + 0x8); // +2  turn left\n    input_num_1 = fun7(&input_2, a2, input_num_1); // 19\n\n    input_num_1 *= 2; // input_num_q is 1 here\n    return input_num_1;\n\n    offset_28:\n    input_num_1 = 0;\n    if(a3 == a2) return input_num_1;\t\n\n    // a3 < a2\n    input_2 = *(&input_2 + 0x10); // +4   turn right\n    input_num_1 = fun7(&input_2, a2, input_num_1); // 0\n    input_num_1 = 2*input_num_1 + 1;  // 1\n    return input_num_1;\n}\n\n```\n2phase_6`0x6030f0``0x6030f0`12038 words`secret_phase``fun7`2defuse`fun7`turn left(`&input_2 + 0x8`->turn right(`&input_2 + 0x10`) -> return 0222 2220return 020<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677484445488-99b96bb8-8026-406a-8606-b6ed814389d7.png)\n\n---\n\n<a name=\"SLpu6\"></a>\n# lab3 attacklab\n<a name=\"UbCO7\"></a>\n## \n\n1. ubuntu22.04segment faultubuntu22.04ubuntu20.04\n\ngoogle\n\n2. exploit string`hex/2raw`2-digit \n\nwriteupA`hex/2raw`ctarget<br />`./hex2raw < exploit_string.txt | ./ctarget -q`<br />`exploit_string.txt``hex2raw``hex2raw``./ctarget`-qCMU`./hex2raw`\n<a name=\"Kk3w5\"></a>\n## phase_1\n\n1. `ctarget``objdump -d ctarget`ctargetasm\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585087533-3d1cfcba-4dd9-41f4-8cc8-bb4c35b8674f.png)<br />ctarget\n\n2. `vim dis_ctarget.asm``getbuf`0x2840`test`ret0x3048`touch1``0x004017c0`exploit_string8c0 17 40 00little-endian\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585873581-353e1114-4253-4b23-aceb-6ba85c12e660.png)\n\n3. `vim phase_1.txt`\n\n $\\begin{matrix}\n  &00  &00  &00  &00  &00  &00  &00 &00 \\\\\n  &00 &00  & 00 &00  &00  &00  &00 &00 \\\\\n  &00  &00  &00  &00 &00  &00  &00  &00\\\\\n  &00  &00  &00  &00  &00  &00  &00  &00\\\\\n  &00  &00  &00  &00  &00  &00  &00  &00\\\\\n  &c0 &17  &40  &00  &00  &00  &00\n\\end{matrix}$<br />gets' \\n ' (touch1)resultPASS<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677586525442-cc13fc97-7de2-4bc6-90c7-bdb9356cc9b4.png)\n<a name=\"xCSRi\"></a>\n## phase_2\n\n1. `vim asb.s`push\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677637642575-745a9de7-6e49-4ef0-9f44-46dbe3cfb8a0.png)\n\n2. `phase_2.txt``asb.o``test``%rsp` `%rsp`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677591555601-28a75db3-4efc-445a-bd75-67d6722d57ee.png)\n\n3. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677638454464-852c44b4-14f9-43fe-8e9f-a927c267b260.png)\n<a name=\"TVVPU\"></a>\n## phase_3\n\n1. `phase_2``cookie``getbuf``cookie``test``0x5561dca8``touch3`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677673769317-083e3c3d-3eb7-4716-8b34-154511f96d34.png)\n\n2. `ascii -ax`ascii-table`\"59b997fa\"`ascii`35 39 62 39 39 37 66 61`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678551264-8b3b6a28-3390-45cb-bbc6-b20f241eb472.png)\n\n3. test`cookie`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678755332-3ea51646-6c2b-4212-8f6a-d6fe5551fa9a.png)\n\n4. \n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678782689-4f003174-6f36-4200-87cd-d46e586d9907.png)\n<a name=\"UnHwd\"></a>\n## phase_4\n`rtarget`1  2writeup`ctarget``ctarget``gadget`ret`gadget``gadget``ret``gadget``%rip`,`gadget`\n\n1. `cookie``rgadget``phase_3``getbuf``test``mov $0x59b997fa,%rdi``popq %rdi`writeup`start_farm``end_farm``5f``58 90`,`0x004019ab``popq %rax  nop``%rax``cookie``%rdi`farm`movq %rax, %rdi48 89 c7``0x004019c5``gadget`\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677748308138-674aa437-9522-414c-afcf-828967ad2c1b.png)\n\n2. phase_4attacklabhacker\n\n![yuque_diagram.png](https://cdn.nlark.com/yuque/0/2023/png/29536731/1677750944719-6ccf095c-ffce-4020-8cb6-f5b0f0fde9f8.png)\n\n","slug":"csapp-lab","published":1,"updated":"2023-03-09T10:40:51.472Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clf10r0qs00089pvafljobimk","content":"<p><meta name=\"referrer\" content=\"no-referrer\"><br><a name=\"IR5gF\"></a></p>\n<h1 id=\"lab1-dataLab\"><a href=\"#lab1-dataLab\" class=\"headerlink\" title=\"lab1 dataLab\"></a>lab1 dataLab</h1><span id=\"more\"></span>\n<p><a name=\"RKm5i\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>linux:<br>gcc<code>sudo apt-get install build-essential</code>  <br><a href=\"https://askubuntu.com/questions/855945/what-exactly-does-gcc-multilib-mean-on-ubuntu#:~:text=gcc%2Dmultilib%20is%20useful%20for,you%20get%20the%20idea\">gcc</a>.)<code>sudo apt-get install gcc-multilib</code>32<br><a href=\"http://csapp.cs.cmu.edu/3e/labs.html\">CMUCSAPP</a><strong>README, WriteupSelf-Study Handout</strong>Handoutbits.cSelf-Study Handout</p>\n<p><a name=\"IOcHR\"></a></p>\n<h2 id=\"1-bitXor-x-y\"><a href=\"#1-bitXor-x-y\" class=\"headerlink\" title=\"1.bitXor(x,y)\"></a>1.bitXor(x,y)</h2><p>~&amp;^ 1-00-11<br>x&amp;y1(bit) 1-1 0-00-11-0<br>(~x&amp;~y)1(bit) 0-0 1-10-11-0<br>&amp;|~ </p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">bitXor - x^y using only ~ and &amp; </span></span><br><span class=\"line\"><span class=\"comment\">Example: bitXor(4, 5) = 1</span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ~ &amp;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 14</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bitXor</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  ~(x&amp;y) &amp; ~(~x&amp;~y) ; <span class=\"comment\">// if regardless &#x27;+&#x27; is illegal:(~x&amp;y) + ((x)&amp;(~y)) or ~((x&amp;y) + ((~x)&amp;(~y)))</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a name=\"mB5XE\"></a></p>\n<h2 id=\"2-tmin\"><a href=\"#2-tmin\" class=\"headerlink\" title=\"2.tmin\"></a>2.tmin</h2><p><code>000...001</code> &gt; <code>1000...000</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\">tmin - return minimum two&#x27;s complement integer </span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 4</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">tmin</span><span class=\"params\">(<span class=\"type\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"pr9MQ\"></a></p>\n<h2 id=\"3-isTmax-x\"><a href=\"#3-isTmax-x\" class=\"headerlink\" title=\"3.isTmax(x)\"></a>3.isTmax(x)</h2><p> Tmin TmaxTmax+Tmax = 0<code>!((~x) + (~x))</code><a href=\"https://stackoverflow.com/questions/74541471/datalab-of-csappistmax-seems-unoperative?noredirect=1#comment131585049_74541471\"></a><br> Tmax +1 = Tmin  ,  <code>100...000</code> + <code>011...111</code> = <code>111..1111</code> (-1)<code>!(~x^(x+1))</code>^+<br>-1 -11 <code>-1+1==0</code>,<code>Tmax+1!=0</code><code>!(-1+1) !=0</code> <code>!(Tmax+1) ==0</code>.<br><code>Tmax, x+(x+1) = x</code> , <code>-1,x+(x+1)!=x</code><br><code>x+(x+1)</code> x<code>!(~((x+!(x+1))^(x+1)))</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">isTmax - returns 1 if x is the maximum, two&#x27;s complement number,</span></span><br><span class=\"line\"><span class=\"comment\">and 0 otherwise </span></span><br><span class=\"line\"><span class=\"comment\">egal ops: ! ~ &amp; ^ | +</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 10</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isTmax</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !(~((x+!(x+<span class=\"number\">1</span>)) ^ (x+<span class=\"number\">1</span>))) ; </span><br><span class=\"line\">   <span class=\"comment\">// !((~x) + (~x));  it should be right, the operator &quot;!&quot; seem to not work</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"kHLgK\"></a></p>\n<h2 id=\"4-allOddBits-x\"><a href=\"#4-allOddBits-x\" class=\"headerlink\" title=\"4.allOddBits(x)\"></a>4.allOddBits(x)</h2><p>xshiftxshift<br><code>101...1010</code>x<code>101...1010</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\">allOddBits - return 1 if all odd-numbered bits in word set to 1</span></span><br><span class=\"line\"><span class=\"comment\">where bits are numbered from 0 (least significant) to 31 (most significant)</span></span><br><span class=\"line\"><span class=\"comment\">Examples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1</span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 12</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">allOddBits</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> allOdd = (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">24</span>) + (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">16</span>) + (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">8</span>) + <span class=\"number\">0xAA</span>; <span class=\"comment\">// 10101010..101</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ! ((allOdd &amp; x) ^ allOdd);   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"sswhY\"></a></p>\n<h2 id=\"5-isAsciiDigit-x\"><a href=\"#5-isAsciiDigit-x\" class=\"headerlink\" title=\"5.isAsciiDigit(x)\"></a>5.isAsciiDigit(x)</h2><p>x-<br>x3bit  1,2bit1<code>!((x&amp;mask2)^mask2) + (!((x&amp;mask3)^mask3)))</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * isAsciiDigit - return 1 if 0x30 &lt;= x &lt;= 0x39 (ASCII codes for characters &#x27;0&#x27; to &#x27;9&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: isAsciiDigit(0x35) = 1.</span></span><br><span class=\"line\"><span class=\"comment\"> *            isAsciiDigit(0x3a) = 0.</span></span><br><span class=\"line\"><span class=\"comment\"> *            isAsciiDigit(0x05) = 0.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 15</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isAsciiDigit</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> mask1 = <span class=\"number\">0x3</span>;   <span class=\"comment\">// 000...0011</span></span><br><span class=\"line\">  <span class=\"type\">int</span> mask2 = <span class=\"number\">0xA</span>;   <span class=\"comment\">// 1010</span></span><br><span class=\"line\">  <span class=\"type\">int</span> mask3 = <span class=\"number\">0xC</span>;   <span class=\"comment\">// 1100</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span>  !( ((x&gt;&gt;<span class=\"number\">4</span>)^mask1) | (!((x&amp;mask2)^mask2) + (!((x&amp;mask3)^mask3)) ) );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"DZZaa\"></a></p>\n<h2 id=\"6-conditional\"><a href=\"#6-conditional\" class=\"headerlink\" title=\"6.conditional\"></a>6.conditional</h2><p>x!=0yx=0z<br>x01<code>000...0001</code><code>111...1111</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * conditional - same as x ? y : z </span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: conditional(2,4,5) = 4</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt; </span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 16</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">conditional</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> z)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span>  judge = !(x ^ <span class=\"number\">0x0</span>); <span class=\"comment\">// x=0 -&gt; judge=1,whereas x!=0 -&gt; judge=0</span></span><br><span class=\"line\">  judge = (judge &lt;&lt; <span class=\"number\">31</span>)&gt;&gt;<span class=\"number\">31</span>; <span class=\"comment\">// 000...000 or 111...111</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((~judge)&amp;y) | (judge&amp;z);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"MZZvz\"></a></p>\n<h2 id=\"7-isLessOrEqual-x-y\"><a href=\"#7-isLessOrEqual-x-y\" class=\"headerlink\" title=\"7.isLessOrEqual(x, y)\"></a>7.isLessOrEqual(x, y)</h2><p><code>y-x&gt;=0</code><code>x&lt;=y</code>-x-x x+y<br>,<code>x+uw  y</code>(negative overflow  positive overflow)<br><strong></strong><code>**y-x**</code><strong>conditional</strong>(--)()Tmin<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * isLessOrEqual - if x &lt;= y  then return 1, else return 0 </span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: isLessOrEqual(4,5) = 1.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 24</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isLessOrEqual</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span> </span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmin = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>; <span class=\"comment\">// 100...0000</span></span><br><span class=\"line\">  <span class=\"type\">int</span> signY = Tmin &amp; y;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = Tmin &amp; x;</span><br><span class=\"line\">  <span class=\"type\">int</span> judge = (signY ^ signX)&lt;&lt;<span class=\"number\">31</span>; </span><br><span class=\"line\">  x = (~x)+<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (judge&amp;signX) | (~(judge&gt;&gt;<span class=\"number\">31</span>) &amp; !((y+x)&amp;Tmin)) ; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"WP1Li\"></a></p>\n<h2 id=\"8-logicalNeg-x\"><a href=\"#8-logicalNeg-x\" class=\"headerlink\" title=\"8.logicalNeg(x)\"></a>8.logicalNeg(x)</h2><p> 01NN!=00x=01x 10<br>xsignXsignx1xsign0x0<strong>positive overflow</strong> Tmax + x x&gt;00 &gt;1positive overflow  negative overflow<a href=\"http://port70.net/~nsz/c/c11/n1570.html#3.4.3p3\">undefined behavior</a><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * logicalNeg - implement the ! operator, using all of </span></span><br><span class=\"line\"><span class=\"comment\"> *              the legal operators except !</span></span><br><span class=\"line\"><span class=\"comment\"> *   Examples: logicalNeg(3) = 0, logi&#x27;calNeg(0) = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 12</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4 </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">logicalNeg</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmin = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmax = ~Tmin;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = ((x&amp;Tmin)&gt;&gt;<span class=\"number\">31</span>) &amp; <span class=\"number\">0x1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (signX^<span class=\"number\">0x1</span>) &amp; ((((x + Tmax)&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">0x1</span>)^<span class=\"number\">0x1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"Y5Acb\"></a></p>\n<h2 id=\"9-howManyBits-x\"><a href=\"#9-howManyBits-x\" class=\"headerlink\" title=\"9.howManyBits(x)\"></a>9.howManyBits(x)</h2><p>1<strong>1</strong>1101101(-3)1<br>01(Such as: 1101 -&gt; 0010)<br>1<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* howManyBits - return the minimum number of bits required to represent x in</span></span><br><span class=\"line\"><span class=\"comment\"> *             two&#x27;s complement</span></span><br><span class=\"line\"><span class=\"comment\"> *  Examples: howManyBits(12) = 5</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(298) = 10</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(-5) = 4</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(0)  = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(-1) = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(0x80000000) = 32</span></span><br><span class=\"line\"><span class=\"comment\"> *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *  Max ops: 90</span></span><br><span class=\"line\"><span class=\"comment\"> *  Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">howManyBits</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> b16,b8,b4,b2,b1,b0;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = x&gt;&gt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  x = ((~signX) &amp; x) | (signX&amp;(~x));<span class=\"comment\">// if x is negative, let sign bit:1-&gt; 0</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  b16 = (!!(x&gt;&gt;<span class=\"number\">16</span>))&lt;&lt;<span class=\"number\">4</span>; <span class=\"comment\">// ensure high 16 bits exist 1 or not</span></span><br><span class=\"line\">  x=x&gt;&gt;b16;</span><br><span class=\"line\">  b8 = (!!(x&gt;&gt;<span class=\"number\">8</span>))&lt;&lt;<span class=\"number\">3</span>; <span class=\"comment\">// ensure high 8 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b8;</span><br><span class=\"line\">  b4 = (!!(x&gt;&gt;<span class=\"number\">4</span>))&lt;&lt;<span class=\"number\">2</span>; <span class=\"comment\">// ensure high 4 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b4;  </span><br><span class=\"line\">  b2 = (!!(x&gt;&gt;<span class=\"number\">2</span>))&lt;&lt;<span class=\"number\">1</span>; <span class=\"comment\">// ensure high 2 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b2; </span><br><span class=\"line\">  b1 = !!(x&gt;&gt;<span class=\"number\">1</span>); <span class=\"comment\">// ensure 31 bits or not </span></span><br><span class=\"line\">  x = x&gt;&gt;b1;</span><br><span class=\"line\">  b0 = x;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> b0+b1+b2+b4+b8+b16+<span class=\"number\">1</span>; <span class=\"comment\">// 1: sign bit</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"glYde\"></a></p>\n<h2 id=\"10-floatScale2-uf\"><a href=\"#10-floatScale2-uf\" class=\"headerlink\" title=\"10.floatScale2(uf)\"></a>10.floatScale2(uf)</h2><p><code>unsigned</code>(M2E)<br><strong>sign,exponent,fractionexp</strong><br>normalizedf*222EdenormalizedfracM<code>frac = frac &lt;&lt;1</code>denormalizednormalized (smoothly)<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//float</span></span><br><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatScale2 - Return bit-level equivalent of expression 2*f for</span></span><br><span class=\"line\"><span class=\"comment\"> *   floating point argument f.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Both the argument and result are passed as unsigned int&#x27;s, but</span></span><br><span class=\"line\"><span class=\"comment\"> *   they are to be interpreted as the bit-level representation of</span></span><br><span class=\"line\"><span class=\"comment\"> *   single-precision floating point values.</span></span><br><span class=\"line\"><span class=\"comment\"> *   When argument is NaN, return argument    // revision: NaN or infinity</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">unsigned</span> <span class=\"title\">floatScale2</span><span class=\"params\">(<span class=\"type\">unsigned</span> uf)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> musk_exp,musk_frac,sign,exp,frac,result;</span><br><span class=\"line\">  musk_exp = <span class=\"number\">0xFF</span> &lt;&lt; <span class=\"number\">23</span>;</span><br><span class=\"line\">  musk_frac = <span class=\"number\">0x7FFFFF</span>;</span><br><span class=\"line\">  exp = (uf &amp; musk_exp)&gt;&gt;<span class=\"number\">23</span>;</span><br><span class=\"line\">  frac = uf &amp; musk_frac;</span><br><span class=\"line\">  sign = <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span> &amp; uf;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(exp == <span class=\"number\">0xFF</span>  ) <span class=\"comment\">// NaN</span></span><br><span class=\"line\">     result = uf;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp == <span class=\"number\">0x0</span>) <span class=\"comment\">// denormalized</span></span><br><span class=\"line\">  &#123;  </span><br><span class=\"line\">     <span class=\"keyword\">if</span>(frac == <span class=\"number\">0x0</span>)</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sign)  <span class=\"comment\">// -0.0</span></span><br><span class=\"line\">           result = uf;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>     <span class=\"comment\">// +0.0</span></span><br><span class=\"line\">           result = <span class=\"number\">0</span> ;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        frac = frac &lt;&lt; <span class=\"number\">1</span>;</span><br><span class=\"line\">        result = sign+ (exp&lt;&lt;<span class=\"number\">23</span>) + frac;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp != <span class=\"number\">0x0</span> &amp;&amp; exp != <span class=\"number\">0xFF</span>) <span class=\"comment\">// normalized</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     exp += <span class=\"number\">1</span>;</span><br><span class=\"line\">     result = sign+ (exp&lt;&lt;<span class=\"number\">23</span>) + frac;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"tO8yh\"></a></p>\n<h2 id=\"11-floatFloat2Int-uf\"><a href=\"#11-floatFloat2Int-uf\" class=\"headerlink\" title=\"11.floatFloat2Int(uf)\"></a>11.floatFloat2Int(uf)</h2><p><br>fint<code>12345.0 (0x4640E400)</code>, <code>12345 (0x3039)</code><br>f32bitint(2^31-1)E&gt;31out of range<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatFloat2Int - Return bit-level equivalent of expression (int) f</span></span><br><span class=\"line\"><span class=\"comment\"> *   for floating point argument f.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Argument is passed as unsigned int, but</span></span><br><span class=\"line\"><span class=\"comment\"> *   it is to be interpreted as the bit-level representation of a</span></span><br><span class=\"line\"><span class=\"comment\"> *   single-precision floating point value.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Anything out of range (including NaN and infinity) should return</span></span><br><span class=\"line\"><span class=\"comment\"> *   0x80000000u.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">floatFloat2Int</span><span class=\"params\">(<span class=\"type\">unsigned</span> uf)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> musk_exp,musk_frac,exp,frac,sign,E,Bias,result;</span><br><span class=\"line\">  musk_exp = <span class=\"number\">0xFF</span> &lt;&lt; <span class=\"number\">23</span>;</span><br><span class=\"line\">  musk_frac = <span class=\"number\">0x7FFFFF</span>;</span><br><span class=\"line\">  exp = (uf &amp; musk_exp)&gt;&gt;<span class=\"number\">23</span>;</span><br><span class=\"line\">  frac = uf &amp; musk_frac;</span><br><span class=\"line\">  sign = <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span> &amp; uf;</span><br><span class=\"line\">  Bias = <span class=\"number\">127</span>;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(exp == <span class=\"number\">0xFF</span>  ) <span class=\"comment\">// NaN or infinity</span></span><br><span class=\"line\">     result = <span class=\"number\">0x80000000</span>u;</span><br><span class=\"line\">     </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp == <span class=\"number\">0x0</span>)</span><br><span class=\"line\">     result = <span class=\"number\">0</span>;</span><br><span class=\"line\">     </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp != <span class=\"number\">0x0</span> &amp;&amp; exp != <span class=\"number\">0xFF</span>) <span class=\"comment\">// normalized</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     E = exp -Bias;  <span class=\"comment\">// bit_num of fraction</span></span><br><span class=\"line\">     <span class=\"keyword\">if</span>(E &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        result = <span class=\"number\">0</span>;</span><br><span class=\"line\">     <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (E&gt;<span class=\"number\">31</span>)</span><br><span class=\"line\">        result = <span class=\"number\">0x80000000</span>u;</span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        frac = frac&gt;&gt;(<span class=\"number\">23</span>-E);</span><br><span class=\"line\">        result = (<span class=\"number\">0x1</span> &lt;&lt; E) + frac ; </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sign == <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span>)</span><br><span class=\"line\">           result = - result;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"UlJMS\"></a></p>\n<h2 id=\"12-floatPower2-x\"><a href=\"#12-floatPower2-x\" class=\"headerlink\" title=\"12.floatPower2(x)\"></a>12.floatPower2(x)</h2><p>2^xlargest normalizedexp  2541111 1110too large<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatPower2 - Return bit-level equivalent of the expression 2.0^x</span></span><br><span class=\"line\"><span class=\"comment\"> *   (2.0 raised to the power x) for any 32-bit integer x.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> *   The unsigned value that is returned should have the identical bit</span></span><br><span class=\"line\"><span class=\"comment\"> *   representation as the single-precision floating-point number 2.0^x.</span></span><br><span class=\"line\"><span class=\"comment\"> *   If the result is too small to be represented as a denorm, return</span></span><br><span class=\"line\"><span class=\"comment\"> *   0. If too large, return +INF.</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. Also if, while </span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30 </span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">unsigned</span> <span class=\"title\">floatPower2</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> exp,frac,E,Bias,result;</span><br><span class=\"line\">  Bias = <span class=\"number\">127</span>;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  E = x;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(x&lt;<span class=\"number\">1</span> &amp;&amp; x!=<span class=\"number\">0</span>)</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(x &gt;= <span class=\"number\">0x1</span> || x == <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     frac = <span class=\"number\">0x0</span>;</span><br><span class=\"line\">     exp = E+Bias;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(exp &gt; <span class=\"number\">254</span>)  <span class=\"comment\">// 1111 1110</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">           exp = <span class=\"number\">0xFF</span>;</span><br><span class=\"line\">           result = exp &lt;&lt;<span class=\"number\">23</span>+frac;         </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">        result = (exp&lt;&lt;<span class=\"number\">23</span>) + frac; </span><br><span class=\"line\">  &#125;    </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> result ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"iHsuB\"></a></p>\n<h2 id=\"consequence\"><a href=\"#consequence\" class=\"headerlink\" title=\"consequence\"></a>consequence</h2><p><code>make</code><br><code>./driver.pl</code><br><a name=\"SLl25\"></a></p>\n<h3 id><a href=\"#\" class=\"headerlink\" title></a><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29536731/1669795434321-27bd7778-bde0-4d21-9ae0-425e1e785bd1.png\" alt=\"data_lab_success.png\"></h3><hr>\n<p><a name=\"FsQk5\"></a></p>\n<h1 id=\"lab2-bombLab\"><a href=\"#lab2-bombLab\" class=\"headerlink\" title=\"lab2 bombLab\"></a>lab2 bombLab</h1><p><a name=\"mm3BW\"></a></p>\n<h2 id=\"phase-1\"><a href=\"#phase-1\" class=\"headerlink\" title=\"phase_1\"></a>phase_1</h2><ol>\n<li><code>main</code><code>read_line</code><code>%rax</code><code>%rdi</code>(phase)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677142575501-aadca48e-4054-40dc-977b-4719009de3e3.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>strings_not_equal</code><code>%rax</code>0 (1 vice versa)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143001741-9ecdcda9-b9a6-4b31-a450-5d80ed226850.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_1</code><code>strings_not_equal</code>0<code>test %eax, %eax</code><code>je 0x400ef7&lt;phase_1+23&gt;</code>phase_1 defused (explode vice versa)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143312955-e1e9a80c-1730-48ae-84f7-5dfded69d3a9.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>strings_not_equal</code><code>%esi0x402400</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143752561-a0f86e1a-fc9c-4ff2-b386-d8d929f293c5.png\" alt=\"image.png\"><br><a name=\"aPHyw\"></a></p>\n<h2 id=\"phase-2\"><a href=\"#phase-2\" class=\"headerlink\" title=\"phase_2\"></a>phase_2</h2><ol>\n<li><code>read_six_numbers</code><code>sscanf(input, &quot;%d %d %d %d %d %d&quot;,&amp;a1,&amp;a2,&amp;a3,&amp;a4,&amp;a5,&amp;a6)</code><code>&amp;a1~&amp;a6</code>1)<code>%rcx:0x4(%rsi)</code>2)<code>%r8:0x8(%rsi)</code>3)<code>%r9:0xc(%rsi)</code>4)<code>%rsp:0x10(%rsi)</code>5)<code>0x8(%rsp):0x14(%rsi), 0x18(%rsi)</code> 3<code>sscanf</code><code>read_six_numbers</code>,<code>%rsi</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677148614935-cd29c501-e2a8-4185-9924-0829124ef293.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_2</code>a10x1explodea22*a1explode2explode</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150067118-dd3962a5-1458-4a3e-9399-4cf1699ca7a7.png\" alt=\"image.png\"></p>\n<ol>\n<li>$2^0,2^1,2^2,2^3,2^4,2^5$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677149991615-e3f805b9-b4b0-4f49-bfbf-36dc2153557b.png\" alt=\"image.png\"><br><a name=\"XKRDk\"></a></p>\n<h2 id=\"phase-3\"><a href=\"#phase-3\" class=\"headerlink\" title=\"phase_3\"></a>phase_3</h2><ol>\n<li><code>phase_3</code><code>(%esi)</code>7(<code>cmpl 0x7,0x8(rsp)</code>)(<code>jmp *0x402470(,rax,8)</code>)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150892423-92750918-b2b5-4aa5-9b0e-e08eec5cffdd.png\" alt=\"image.png\"></p>\n<ol>\n<li>0x402470(switch)0x402470877<code>0x8(%rsp</code>1 2 3 4 5 6 7</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677072562462-74d53e52-6a59-498d-9186-02f1b43b8be5.png\" alt=\"image.png\"></p>\n<ol>\n<li>-7<code>0xc(%rsp)</code>311 707 256 389 206 682 3277: (1, 311)(2, 707)(3, 256)(4, 389)(5, 206)(6, 682)(7, 327)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677151557789-3726bd23-9a03-48c7-bb2b-1a31a71ae4c0.png\" alt=\"image.png\"><br><a name=\"Qae7S\"></a></p>\n<h2 id=\"phase-4\"><a href=\"#phase-4\" class=\"headerlink\" title=\"phase_4\"></a>phase_4</h2><ol>\n<li><code>phase_4</code><code>phase_3</code>114(<code>cmpl $0xe, 0x8(%rsp)</code>)<code>func4</code><code>%edx</code>, <code>%esi</code>, <code>0x8(%rsp)</code>func40(<code>test %eax, %eax</code>)<code>cmpl $0x0, 0xc(%rsp)</code>20</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206362623-39fe4977-5cab-4016-9003-2541d41dbe6a.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>func4</code><code>func4</code><code>func4</code>1<code>%rax</code><code>%edx</code>-<code>%esi</code>,(<code>%rax &gt;&gt; 31</code>)<code>%rax</code>-11<code>%rax</code>0<code>0x8(%rsp)</code>0~14; 2<code>%ecx &gt; %edi</code><code>%ecx</code><code>%esi</code><code>%edx</code>(<code>lea -0x1(%rcx), %edx</code>)3eax03<code>phase_4</code><code>%rax</code>1</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677204842268-34841e29-56e5-4d63-9e9f-b1576cec24a4.png\" alt=\"image.png\"></p>\n<ol>\n<li>1047 3 1 020(7, 0), (3, 0), (1, 0), (0, 0)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206164369-fa35758d-403b-483b-ad52-af80ef73df84.png\" alt=\"image.png\"><br><a name=\"Kxq7k\"></a></p>\n<h2 id=\"phase-5\"><a href=\"#phase-5\" class=\"headerlink\" title=\"phase_5\"></a>phase_5</h2><ol>\n<li><p><code>phase_5</code> (%fs:0x28)</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> index</span><br><span class=\"line\"><span class=\"type\">int</span> i = <span class=\"number\">0</span> <span class=\"comment\">// %rax</span></span><br><span class=\"line\"><span class=\"keyword\">do</span>&#123;</span><br><span class=\"line\">index = *(input+i);</span><br><span class=\"line\">index = index&amp; <span class=\"number\">0xf</span>; <span class=\"comment\">// take lower four bits</span></span><br><span class=\"line\">dest[<span class=\"number\">0</span>] = source[index]; <span class=\"comment\">// dest: (%rsp+0x10+%rax) source: 0x4024b0</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(string_not_equal(dest, target) == <span class=\"number\">0</span>) <span class=\"comment\">// target: 0x40245e --- &quot;flyers&quot;</span></span><br><span class=\"line\">      <span class=\"comment\">//defuse</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">   explode_bomb();</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(i&gt;<span class=\"number\">6</span>)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227102569-50a0daeb-22b8-4911-84ee-83283088ca0d.png\" alt=\"image.png\"></p>\n</li>\n<li><p><code>source: 0x4024b0</code><code>target: 0x40245e</code><code>0x4024b0</code> flyers</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227207876-48a2e806-f23e-49ec-982e-698183c7bc19.png\" alt=\"image.png\"></p>\n<ol>\n<li>byte<code>movzbl (%rbx, %rax, 1), %ecx</code>(<code>and $0xf, %edx</code>)</li>\n<li>sourcetarget7 15 14 5 6 76ASCIIeg7 BEL100111111110010101100111  (prefer a~z)defuseionefgyONuvw</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677228092474-185f8fde-3015-4a64-ae85-2a4931bb2ca9.png\" alt=\"image.png\"><br><a name=\"BuuHr\"></a></p>\n<h2 id=\"phase-6\"><a href=\"#phase-6\" class=\"headerlink\" title=\"phase_6\"></a>phase_6</h2><ol>\n<li><p>thinking process</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phase_6(input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"type\">int</span> a1 = <span class=\"number\">0</span>;  <span class=\"comment\">// %r12d</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy = input; <span class=\"comment\">// mov %rsp, %r13</span></span><br><span class=\"line\"><span class=\"type\">int</span> val; <span class=\"comment\">// %eax</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    val = *(input_copy); <span class=\"comment\">// 0x0(%r13)</span></span><br><span class=\"line\">    val = val<span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(val&gt;<span class=\"number\">5</span>)  explode()  <span class=\"comment\">// 6</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    ++a1; <span class=\"comment\">// add $0x1, %r12d</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a1 == <span class=\"number\">6</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// jmp 95</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a2 = a1; <span class=\"comment\">// mov %r12d, %ebx</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span>&#123;   <span class=\"comment\">// 65</span></span><br><span class=\"line\">        val = *(input+a2);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(val == *input_copy)</span><br><span class=\"line\">            explode();</span><br><span class=\"line\">        ++a2;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">while</span>(a2&lt;= <span class=\"number\">5</span> ) <span class=\"comment\">// 87</span></span><br><span class=\"line\">    ++input_copy; <span class=\"comment\">// add $0x4, %r13</span></span><br><span class=\"line\">&#125; <span class=\"comment\">// 93</span></span><br><span class=\"line\"><span class=\"comment\">/*()</span></span><br><span class=\"line\"><span class=\"comment\">1. 6</span></span><br><span class=\"line\"><span class=\"comment\">2.  */</span> <span class=\"number\">0</span>~<span class=\"number\">6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span>* sentry = input+<span class=\"number\">6</span>; <span class=\"comment\">// mov 0x18(%rsp), %rsi   95</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_2 = input; <span class=\"comment\">// %rax</span></span><br><span class=\"line\"><span class=\"type\">int</span> a3 = <span class=\"number\">7</span>; <span class=\"comment\">// %edx, %ecx</span></span><br><span class=\"line\"><span class=\"keyword\">do</span>&#123;</span><br><span class=\"line\">    *(input_copy_2) = a3 - *(input_copy_2);</span><br><span class=\"line\">    ++input_copy_2;</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(input_copy_2 != sentry)</span><br><span class=\"line\"><span class=\"comment\">/* 7-(), </span></span><br><span class=\"line\"><span class=\"comment\">11 */</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">int</span> a4 = <span class=\"number\">0</span>; <span class=\"comment\">// 123 %esi  -- index</span></span><br><span class=\"line\"><span class=\"type\">int</span> a5; <span class=\"comment\">// %edx</span></span><br><span class=\"line\"><span class=\"type\">int</span> a6; <span class=\"comment\">// %eax  -- index</span></span><br><span class=\"line\">offset_166:</span><br><span class=\"line\"><span class=\"keyword\">if</span>(input[a4] &lt;= <span class=\"number\">1</span>) <span class=\"comment\">// 166  %ecx</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    a5 = <span class=\"number\">0x6032d0</span>; <span class=\"comment\">// 143</span></span><br><span class=\"line\">    offset_148:</span><br><span class=\"line\">    *(input+<span class=\"number\">0x20</span>+<span class=\"number\">2</span>*a4) = a5; <span class=\"comment\">// 148 [8]:20, [10]:28, [12]:30, [14]:38, [16]:40,[18]:48</span></span><br><span class=\"line\">                             <span class=\"comment\">//   0x6032d0, 0x6032e0  0x6032f0 0x603200 0x603310 0x603320   </span></span><br><span class=\"line\">    a4 += <span class=\"number\">4</span>; <span class=\"comment\">// add $0x4, %rsi </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a4 ==  <span class=\"number\">24</span> )</span><br><span class=\"line\">        <span class=\"keyword\">goto</span> offset_183; <span class=\"comment\">// 161 </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">        <span class=\"keyword\">goto</span> offset_166;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span>  <span class=\"comment\">// else else --&gt;</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    a6 = <span class=\"number\">1</span>;  <span class=\"comment\">// 171  </span></span><br><span class=\"line\">    &amp;a5 = <span class=\"number\">0x6032d0</span>; <span class=\"comment\">// 176  +0x8</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span>&#123; <span class=\"comment\">// 130</span></span><br><span class=\"line\">        a5 = *(&amp;a5 + <span class=\"number\">0x8</span>) ; <span class=\"comment\">// mov 0x8(%rdx),%rdx  ?</span></span><br><span class=\"line\">        ++a6; </span><br><span class=\"line\">    &#125;<span class=\"keyword\">while</span>(a6 != *(input+a4) ) <span class=\"comment\">// 139  (must have 1-6), 2-5, 3-4 , 4-3, 5-2, 6-1, (7-0)</span></span><br><span class=\"line\">    <span class=\"keyword\">goto</span> offset_148;         <span class=\"comment\">// recorrect: 3-4, 4-3,5-2,6-1,1-6,2-5</span></span><br><span class=\"line\">&#125; <span class=\"comment\">// 181</span></span><br><span class=\"line\"></span><br><span class=\"line\">offset_183    function: link node in order</span><br><span class=\"line\"><span class=\"type\">int</span> a7 = input[<span class=\"number\">8</span>]; <span class=\"comment\">//%rbx 0x20(%rsp)   *(input+ 8) ~ *(input+16) all represent a address</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_3 = input+<span class=\"number\">10</span> <span class=\"comment\">// %rax  0x28(%rsp)</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_4 = input+<span class=\"number\">20</span> <span class=\"comment\">// %rsi  0x50(%rsp)</span></span><br><span class=\"line\">a3 = a7; <span class=\"comment\">// a3:%rcx</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"number\">1</span>)&#123; <span class=\"comment\">// 201</span></span><br><span class=\"line\">    a5 = *input_copy_3; <span class=\"comment\">//a5:%rdx [10][12]...[18][20] 6</span></span><br><span class=\"line\">    *(a3+<span class=\"number\">0x8</span>) = a5; <span class=\"comment\">// 0x8(%rcx)</span></span><br><span class=\"line\">    input_copy_3 += <span class=\"number\">2</span>; <span class=\"comment\">// 0x8 </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(input_copy_3 == input_copy_4) <span class=\"keyword\">break</span>; <span class=\"comment\">// 215 </span></span><br><span class=\"line\">    a3 = a5; <span class=\"comment\">// mov %rdx, %rcx</span></span><br><span class=\"line\">&#125;    <span class=\"comment\">//   make  *(a[i-2] + 0x8) = a[i] (i = i+2: 10 12 .. 18)</span></span><br><span class=\"line\"><span class=\"comment\">//  %rdx = * (input + 18)</span></span><br><span class=\"line\"></span><br><span class=\"line\">*(*(input+<span class=\"number\">18</span>) + <span class=\"number\">2</span> ) = <span class=\"number\">0</span>; <span class=\"comment\">// 222   set last node&#x27;s pointer to nullptr</span></span><br><span class=\"line\"><span class=\"type\">int</span> a8 = <span class=\"number\">5</span>; <span class=\"comment\">// %ebp</span></span><br><span class=\"line\"><span class=\"type\">int</span> a9 <span class=\"comment\">// %rax </span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"> &amp;a9 = *(a7+<span class=\"number\">2</span>); <span class=\"comment\">// %rax   initial a7 = input[8]</span></span><br><span class=\"line\">  a9 = *a9; <span class=\"comment\">// mov (%rax), %eax</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(*(*(input+<span class=\"number\">8</span>)) &lt; a9) <span class=\"comment\">// cmp %eax, (%rbx) </span></span><br><span class=\"line\">    explode();   <span class=\"comment\">// </span></span><br><span class=\"line\">a7 = *(*(input+<span class=\"number\">8</span>)+<span class=\"number\">2</span>); <span class=\"comment\">// mov 0x8(%rbx), %rbx %rbx  </span></span><br><span class=\"line\">--a8;</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(a8&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// over</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">/*inital:</span></span><br><span class=\"line\"><span class=\"comment\">0x14c(0): 332;</span></span><br><span class=\"line\"><span class=\"comment\">0x0a8(1): 168;</span></span><br><span class=\"line\"><span class=\"comment\">0x39c(2): 924;</span></span><br><span class=\"line\"><span class=\"comment\">0x2b3(3): 691</span></span><br><span class=\"line\"><span class=\"comment\">0x1dd(4): 477</span></span><br><span class=\"line\"><span class=\"comment\">0x1bb(5): 443</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">2-&gt;3-&gt;4-&gt;5-&gt;0-&gt;1 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>phase_6phase_6phase_667phase<code>0x6032d0</code>246 <code>0x6032d0</code></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677403752602-71565a7a-ae83-4e0e-a0d7-cdd2e3df1fd5.png\" alt=\"image.png\"><br><a name=\"QjpMp\"></a></p>\n<h2 id=\"secret-phase\"><a href=\"#secret-phase\" class=\"headerlink\" title=\"secret_phase\"></a>secret_phase</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404056138-294107ed-6f1c-4477-83c9-44b00041ef4b.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p> easter eggbomb.cbombCMUwriteup<code>objdump -t bomb</code>secret_phase<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404753141-3d41a656-d41d-476c-aae5-e51421f24d6e.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p>1)secret_phase<code>secret_phase</code><code>main</code><code>secret_base</code>phase_1phase_6<code>phase_defused</code><code>phase_defused</code><code>secret_phase</code><br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404954528-c0e39bd3-077e-49cd-a460-d820f2047ce8.png\" alt=\"image.png\"></p>\n<ol>\n<li>secret_phase</li>\n</ol>\n<p>1secret_base<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">secret_phase()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> input_2;<span class=\"comment\">// (%rdi)</span></span><br><span class=\"line\">    &amp;input_2 = read_line(); <span class=\"comment\">//  %rdi</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">int</span> a1 = <span class=\"number\">0xa</span>; <span class=\"comment\">// %edx</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a2 = <span class=\"number\">0x0</span>; <span class=\"comment\">// %esi</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">int</span> input_num_1 = strtol(input_2); <span class=\"comment\">// %rax</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">int</span> input_num_2 = input_num_1 <span class=\"comment\">// %rbx</span></span><br><span class=\"line\">    input_num_1 -= <span class=\"number\">1</span>; </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(input_num_1 &gt; <span class=\"number\">0x3e8</span> <span class=\"comment\">/*1000*/</span>) explode();</span><br><span class=\"line\">    <span class=\"comment\">//   1001</span></span><br><span class=\"line\">    a2 = input_num_2;<span class=\"comment\">// mov %ebx, %esi  </span></span><br><span class=\"line\">    &amp;input_2 = <span class=\"number\">0x6030f0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> ret = fun7(&amp;input_2,a2,input_num_1); <span class=\"comment\">// ret_value: %rax</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(ret == <span class=\"number\">0x2</span>)</span><br><span class=\"line\">        defused();</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        explode(); </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">fun7</span><span class=\"params\">(&amp;input_2, a2, input_num_1)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(&amp;input_2 == <span class=\"number\">0x0</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// avoid endless recursion</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a3 = *(&amp;input_2);  <span class=\"comment\">// 9 %edx   initial a3 = 24</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a3 &lt;= a2) <span class=\"keyword\">goto</span> offset_28; <span class=\"comment\">// 13  a2 </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// a3 &gt; a2</span></span><br><span class=\"line\">    input_2 = *(&amp;input_2 + <span class=\"number\">0x8</span>); <span class=\"comment\">// +2  turn left</span></span><br><span class=\"line\">    input_num_1 = fun7(&amp;input_2, a2, input_num_1); <span class=\"comment\">// 19</span></span><br><span class=\"line\"></span><br><span class=\"line\">    input_num_1 *= <span class=\"number\">2</span>; <span class=\"comment\">// input_num_q is 1 here</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> input_num_1;</span><br><span class=\"line\"></span><br><span class=\"line\">    offset_28:</span><br><span class=\"line\">    input_num_1 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a3 == a2) <span class=\"keyword\">return</span> input_num_1;\t</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// a3 &lt; a2</span></span><br><span class=\"line\">    input_2 = *(&amp;input_2 + <span class=\"number\">0x10</span>); <span class=\"comment\">// +4   turn right</span></span><br><span class=\"line\">    input_num_1 = fun7(&amp;input_2, a2, input_num_1); <span class=\"comment\">// 0</span></span><br><span class=\"line\">    input_num_1 = <span class=\"number\">2</span>*input_num_1 + <span class=\"number\">1</span>;  <span class=\"comment\">// 1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> input_num_1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>2phase_6<code>0x6030f0</code><code>0x6030f0</code>12038 words<code>secret_phase</code><code>fun7</code>2defuse<code>fun7</code>turn left(<code>&amp;input_2 + 0x8</code>-&gt;turn right(<code>&amp;input_2 + 0x10</code>) -&gt; return 0222 2220return 020<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677484445488-99b96bb8-8026-406a-8606-b6ed814389d7.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"SLpu6\"></a></p>\n<h1 id=\"lab3-attacklab\"><a href=\"#lab3-attacklab\" class=\"headerlink\" title=\"lab3 attacklab\"></a>lab3 attacklab</h1><p><a name=\"UbCO7\"></a></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>ubuntu22.04segment faultubuntu22.04ubuntu20.04</li>\n</ol>\n<p>google</p>\n<ol>\n<li>exploit string<code>hex/2raw</code>2-digit </li>\n</ol>\n<p>writeupA<code>hex/2raw</code>ctarget<br><code>./hex2raw &lt; exploit_string.txt | ./ctarget -q</code><br><code>exploit_string.txt</code><code>hex2raw</code><code>hex2raw</code><code>./ctarget</code>-qCMU<code>./hex2raw</code><br><a name=\"Kk3w5\"></a></p>\n<h2 id=\"phase-1-1\"><a href=\"#phase-1-1\" class=\"headerlink\" title=\"phase_1\"></a>phase_1</h2><ol>\n<li><code>ctarget</code><code>objdump -d ctarget</code>ctargetasm</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585087533-3d1cfcba-4dd9-41f4-8cc8-bb4c35b8674f.png\" alt=\"image.png\"><br>ctarget</p>\n<ol>\n<li><code>vim dis_ctarget.asm</code><code>getbuf</code>0x2840<code>test</code>ret0x3048<code>touch1</code><code>0x004017c0</code>exploit_string8c0 17 40 00little-endian</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585873581-353e1114-4253-4b23-aceb-6ba85c12e660.png\" alt=\"image.png\"></p>\n<ol>\n<li><p><code>vim phase_1.txt</code></p>\n<p>$\\begin{matrix}<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00 &amp;00 \\\\<br>&amp;00 &amp;00  &amp; 00 &amp;00  &amp;00  &amp;00  &amp;00 &amp;00 \\\\<br>&amp;00  &amp;00  &amp;00  &amp;00 &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;c0 &amp;17  &amp;40  &amp;00  &amp;00  &amp;00  &amp;00<br>\\end{matrix}$<br>gets \\n  (touch1)resultPASS<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677586525442-cc13fc97-7de2-4bc6-90c7-bdb9356cc9b4.png\" alt=\"image.png\"><br><a name=\"xCSRi\"></a></p>\n<h2 id=\"phase-2-1\"><a href=\"#phase-2-1\" class=\"headerlink\" title=\"phase_2\"></a>phase_2</h2></li>\n<li><p><code>vim asb.s</code>push</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677637642575-745a9de7-6e49-4ef0-9f44-46dbe3cfb8a0.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_2.txt</code><code>asb.o</code><code>test</code><code>%rsp</code> <code>%rsp</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677591555601-28a75db3-4efc-445a-bd75-67d6722d57ee.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677638454464-852c44b4-14f9-43fe-8e9f-a927c267b260.png\" alt=\"image.png\"><br><a name=\"TVVPU\"></a></p>\n<h2 id=\"phase-3-1\"><a href=\"#phase-3-1\" class=\"headerlink\" title=\"phase_3\"></a>phase_3</h2><ol>\n<li><code>phase_2</code><code>cookie</code><code>getbuf</code><code>cookie</code><code>test</code><code>0x5561dca8</code><code>touch3</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677673769317-083e3c3d-3eb7-4716-8b34-154511f96d34.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>ascii -ax</code>ascii-table<code>&quot;59b997fa&quot;</code>ascii<code>35 39 62 39 39 37 66 61</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678551264-8b3b6a28-3390-45cb-bbc6-b20f241eb472.png\" alt=\"image.png\"></p>\n<ol>\n<li>test<code>cookie</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678755332-3ea51646-6c2b-4212-8f6a-d6fe5551fa9a.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678782689-4f003174-6f36-4200-87cd-d46e586d9907.png\" alt=\"image.png\"><br><a name=\"UnHwd\"></a></p>\n<h2 id=\"phase-4-1\"><a href=\"#phase-4-1\" class=\"headerlink\" title=\"phase_4\"></a>phase_4</h2><p><code>rtarget</code>1  2writeup<code>ctarget</code><code>ctarget</code><code>gadget</code>ret<code>gadget</code><code>gadget</code><code>ret</code><code>gadget</code><code>%rip</code>,<code>gadget</code></p>\n<ol>\n<li><code>cookie</code><code>rgadget</code><code>phase_3</code><code>getbuf</code><code>test</code><code>mov $0x59b997fa,%rdi</code><code>popq %rdi</code>writeup<code>start_farm</code><code>end_farm</code><code>5f</code><code>58 90</code>,<code>0x004019ab</code><code>popq %rax  nop</code><code>%rax</code><code>cookie</code><code>%rdi</code>farm<code>movq %rax, %rdi48 89 c7</code><code>0x004019c5</code><code>gadget</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677748308138-674aa437-9522-414c-afcf-828967ad2c1b.png\" alt=\"image.png\"></p>\n<ol>\n<li>phase_4attacklabhacker</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677750944719-6ccf095c-ffce-4020-8cb6-f5b0f0fde9f8.png\" alt=\"yuque_diagram.png\"></p>\n","site":{"data":{}},"excerpt":"<p><meta name=\"referrer\" content=\"no-referrer\"><br><a name=\"IR5gF\"></a></p>\n<h1 id=\"lab1-dataLab\"><a href=\"#lab1-dataLab\" class=\"headerlink\" title=\"lab1 dataLab\"></a>lab1 dataLab</h1>","more":"<p><a name=\"RKm5i\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>linux:<br>gcc<code>sudo apt-get install build-essential</code>  <br><a href=\"https://askubuntu.com/questions/855945/what-exactly-does-gcc-multilib-mean-on-ubuntu#:~:text=gcc%2Dmultilib%20is%20useful%20for,you%20get%20the%20idea\">gcc</a>.)<code>sudo apt-get install gcc-multilib</code>32<br><a href=\"http://csapp.cs.cmu.edu/3e/labs.html\">CMUCSAPP</a><strong>README, WriteupSelf-Study Handout</strong>Handoutbits.cSelf-Study Handout</p>\n<p><a name=\"IOcHR\"></a></p>\n<h2 id=\"1-bitXor-x-y\"><a href=\"#1-bitXor-x-y\" class=\"headerlink\" title=\"1.bitXor(x,y)\"></a>1.bitXor(x,y)</h2><p>~&amp;^ 1-00-11<br>x&amp;y1(bit) 1-1 0-00-11-0<br>(~x&amp;~y)1(bit) 0-0 1-10-11-0<br>&amp;|~ </p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">bitXor - x^y using only ~ and &amp; </span></span><br><span class=\"line\"><span class=\"comment\">Example: bitXor(4, 5) = 1</span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ~ &amp;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 14</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">bitXor</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  ~(x&amp;y) &amp; ~(~x&amp;~y) ; <span class=\"comment\">// if regardless &#x27;+&#x27; is illegal:(~x&amp;y) + ((x)&amp;(~y)) or ~((x&amp;y) + ((~x)&amp;(~y)))</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a name=\"mB5XE\"></a></p>\n<h2 id=\"2-tmin\"><a href=\"#2-tmin\" class=\"headerlink\" title=\"2.tmin\"></a>2.tmin</h2><p><code>000...001</code> &gt; <code>1000...000</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\">tmin - return minimum two&#x27;s complement integer </span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 4</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">tmin</span><span class=\"params\">(<span class=\"type\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"pr9MQ\"></a></p>\n<h2 id=\"3-isTmax-x\"><a href=\"#3-isTmax-x\" class=\"headerlink\" title=\"3.isTmax(x)\"></a>3.isTmax(x)</h2><p> Tmin TmaxTmax+Tmax = 0<code>!((~x) + (~x))</code><a href=\"https://stackoverflow.com/questions/74541471/datalab-of-csappistmax-seems-unoperative?noredirect=1#comment131585049_74541471\"></a><br> Tmax +1 = Tmin  ,  <code>100...000</code> + <code>011...111</code> = <code>111..1111</code> (-1)<code>!(~x^(x+1))</code>^+<br>-1 -11 <code>-1+1==0</code>,<code>Tmax+1!=0</code><code>!(-1+1) !=0</code> <code>!(Tmax+1) ==0</code>.<br><code>Tmax, x+(x+1) = x</code> , <code>-1,x+(x+1)!=x</code><br><code>x+(x+1)</code> x<code>!(~((x+!(x+1))^(x+1)))</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">isTmax - returns 1 if x is the maximum, two&#x27;s complement number,</span></span><br><span class=\"line\"><span class=\"comment\">and 0 otherwise </span></span><br><span class=\"line\"><span class=\"comment\">egal ops: ! ~ &amp; ^ | +</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 10</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 1</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isTmax</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> !(~((x+!(x+<span class=\"number\">1</span>)) ^ (x+<span class=\"number\">1</span>))) ; </span><br><span class=\"line\">   <span class=\"comment\">// !((~x) + (~x));  it should be right, the operator &quot;!&quot; seem to not work</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"kHLgK\"></a></p>\n<h2 id=\"4-allOddBits-x\"><a href=\"#4-allOddBits-x\" class=\"headerlink\" title=\"4.allOddBits(x)\"></a>4.allOddBits(x)</h2><p>xshiftxshift<br><code>101...1010</code>x<code>101...1010</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\">allOddBits - return 1 if all odd-numbered bits in word set to 1</span></span><br><span class=\"line\"><span class=\"comment\">where bits are numbered from 0 (least significant) to 31 (most significant)</span></span><br><span class=\"line\"><span class=\"comment\">Examples allOddBits(0xFFFFFFFD) = 0, allOddBits(0xAAAAAAAA) = 1</span></span><br><span class=\"line\"><span class=\"comment\">Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">Max ops: 12</span></span><br><span class=\"line\"><span class=\"comment\">Rating: 2</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">allOddBits</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> allOdd = (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">24</span>) + (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">16</span>) + (<span class=\"number\">0xAA</span> &lt;&lt; <span class=\"number\">8</span>) + <span class=\"number\">0xAA</span>; <span class=\"comment\">// 10101010..101</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ! ((allOdd &amp; x) ^ allOdd);   </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"sswhY\"></a></p>\n<h2 id=\"5-isAsciiDigit-x\"><a href=\"#5-isAsciiDigit-x\" class=\"headerlink\" title=\"5.isAsciiDigit(x)\"></a>5.isAsciiDigit(x)</h2><p>x-<br>x3bit  1,2bit1<code>!((x&amp;mask2)^mask2) + (!((x&amp;mask3)^mask3)))</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * isAsciiDigit - return 1 if 0x30 &lt;= x &lt;= 0x39 (ASCII codes for characters &#x27;0&#x27; to &#x27;9&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: isAsciiDigit(0x35) = 1.</span></span><br><span class=\"line\"><span class=\"comment\"> *            isAsciiDigit(0x3a) = 0.</span></span><br><span class=\"line\"><span class=\"comment\"> *            isAsciiDigit(0x05) = 0.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 15</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isAsciiDigit</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> mask1 = <span class=\"number\">0x3</span>;   <span class=\"comment\">// 000...0011</span></span><br><span class=\"line\">  <span class=\"type\">int</span> mask2 = <span class=\"number\">0xA</span>;   <span class=\"comment\">// 1010</span></span><br><span class=\"line\">  <span class=\"type\">int</span> mask3 = <span class=\"number\">0xC</span>;   <span class=\"comment\">// 1100</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span>  !( ((x&gt;&gt;<span class=\"number\">4</span>)^mask1) | (!((x&amp;mask2)^mask2) + (!((x&amp;mask3)^mask3)) ) );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"DZZaa\"></a></p>\n<h2 id=\"6-conditional\"><a href=\"#6-conditional\" class=\"headerlink\" title=\"6.conditional\"></a>6.conditional</h2><p>x!=0yx=0z<br>x01<code>000...0001</code><code>111...1111</code><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * conditional - same as x ? y : z </span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: conditional(2,4,5) = 4</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt; </span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 16</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">conditional</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y, <span class=\"type\">int</span> z)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span>  judge = !(x ^ <span class=\"number\">0x0</span>); <span class=\"comment\">// x=0 -&gt; judge=1,whereas x!=0 -&gt; judge=0</span></span><br><span class=\"line\">  judge = (judge &lt;&lt; <span class=\"number\">31</span>)&gt;&gt;<span class=\"number\">31</span>; <span class=\"comment\">// 000...000 or 111...111</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> ((~judge)&amp;y) | (judge&amp;z);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"MZZvz\"></a></p>\n<h2 id=\"7-isLessOrEqual-x-y\"><a href=\"#7-isLessOrEqual-x-y\" class=\"headerlink\" title=\"7.isLessOrEqual(x, y)\"></a>7.isLessOrEqual(x, y)</h2><p><code>y-x&gt;=0</code><code>x&lt;=y</code>-x-x x+y<br>,<code>x+uw  y</code>(negative overflow  positive overflow)<br><strong></strong><code>**y-x**</code><strong>conditional</strong>(--)()Tmin<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * isLessOrEqual - if x &lt;= y  then return 1, else return 0 </span></span><br><span class=\"line\"><span class=\"comment\"> *   Example: isLessOrEqual(4,5) = 1.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 24</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 3</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">isLessOrEqual</span><span class=\"params\">(<span class=\"type\">int</span> x, <span class=\"type\">int</span> y)</span> </span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmin = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>; <span class=\"comment\">// 100...0000</span></span><br><span class=\"line\">  <span class=\"type\">int</span> signY = Tmin &amp; y;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = Tmin &amp; x;</span><br><span class=\"line\">  <span class=\"type\">int</span> judge = (signY ^ signX)&lt;&lt;<span class=\"number\">31</span>; </span><br><span class=\"line\">  x = (~x)+<span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (judge&amp;signX) | (~(judge&gt;&gt;<span class=\"number\">31</span>) &amp; !((y+x)&amp;Tmin)) ; <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"WP1Li\"></a></p>\n<h2 id=\"8-logicalNeg-x\"><a href=\"#8-logicalNeg-x\" class=\"headerlink\" title=\"8.logicalNeg(x)\"></a>8.logicalNeg(x)</h2><p> 01NN!=00x=01x 10<br>xsignXsignx1xsign0x0<strong>positive overflow</strong> Tmax + x x&gt;00 &gt;1positive overflow  negative overflow<a href=\"http://port70.net/~nsz/c/c11/n1570.html#3.4.3p3\">undefined behavior</a><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * logicalNeg - implement the ! operator, using all of </span></span><br><span class=\"line\"><span class=\"comment\"> *              the legal operators except !</span></span><br><span class=\"line\"><span class=\"comment\"> *   Examples: logicalNeg(3) = 0, logi&#x27;calNeg(0) = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 12</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4 </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">logicalNeg</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmin = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  <span class=\"type\">int</span> Tmax = ~Tmin;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = ((x&amp;Tmin)&gt;&gt;<span class=\"number\">31</span>) &amp; <span class=\"number\">0x1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (signX^<span class=\"number\">0x1</span>) &amp; ((((x + Tmax)&gt;&gt;<span class=\"number\">31</span>)&amp;<span class=\"number\">0x1</span>)^<span class=\"number\">0x1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"Y5Acb\"></a></p>\n<h2 id=\"9-howManyBits-x\"><a href=\"#9-howManyBits-x\" class=\"headerlink\" title=\"9.howManyBits(x)\"></a>9.howManyBits(x)</h2><p>1<strong>1</strong>1101101(-3)1<br>01(Such as: 1101 -&gt; 0010)<br>1<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* howManyBits - return the minimum number of bits required to represent x in</span></span><br><span class=\"line\"><span class=\"comment\"> *             two&#x27;s complement</span></span><br><span class=\"line\"><span class=\"comment\"> *  Examples: howManyBits(12) = 5</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(298) = 10</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(-5) = 4</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(0)  = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(-1) = 1</span></span><br><span class=\"line\"><span class=\"comment\"> *            howManyBits(0x80000000) = 32</span></span><br><span class=\"line\"><span class=\"comment\"> *  Legal ops: ! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\"> *  Max ops: 90</span></span><br><span class=\"line\"><span class=\"comment\"> *  Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">howManyBits</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> b16,b8,b4,b2,b1,b0;</span><br><span class=\"line\">  <span class=\"type\">int</span> signX = x&gt;&gt;<span class=\"number\">31</span>;</span><br><span class=\"line\">  x = ((~signX) &amp; x) | (signX&amp;(~x));<span class=\"comment\">// if x is negative, let sign bit:1-&gt; 0</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  b16 = (!!(x&gt;&gt;<span class=\"number\">16</span>))&lt;&lt;<span class=\"number\">4</span>; <span class=\"comment\">// ensure high 16 bits exist 1 or not</span></span><br><span class=\"line\">  x=x&gt;&gt;b16;</span><br><span class=\"line\">  b8 = (!!(x&gt;&gt;<span class=\"number\">8</span>))&lt;&lt;<span class=\"number\">3</span>; <span class=\"comment\">// ensure high 8 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b8;</span><br><span class=\"line\">  b4 = (!!(x&gt;&gt;<span class=\"number\">4</span>))&lt;&lt;<span class=\"number\">2</span>; <span class=\"comment\">// ensure high 4 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b4;  </span><br><span class=\"line\">  b2 = (!!(x&gt;&gt;<span class=\"number\">2</span>))&lt;&lt;<span class=\"number\">1</span>; <span class=\"comment\">// ensure high 2 bits </span></span><br><span class=\"line\">  x=x&gt;&gt;b2; </span><br><span class=\"line\">  b1 = !!(x&gt;&gt;<span class=\"number\">1</span>); <span class=\"comment\">// ensure 31 bits or not </span></span><br><span class=\"line\">  x = x&gt;&gt;b1;</span><br><span class=\"line\">  b0 = x;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> b0+b1+b2+b4+b8+b16+<span class=\"number\">1</span>; <span class=\"comment\">// 1: sign bit</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"glYde\"></a></p>\n<h2 id=\"10-floatScale2-uf\"><a href=\"#10-floatScale2-uf\" class=\"headerlink\" title=\"10.floatScale2(uf)\"></a>10.floatScale2(uf)</h2><p><code>unsigned</code>(M2E)<br><strong>sign,exponent,fractionexp</strong><br>normalizedf*222EdenormalizedfracM<code>frac = frac &lt;&lt;1</code>denormalizednormalized (smoothly)<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//float</span></span><br><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatScale2 - Return bit-level equivalent of expression 2*f for</span></span><br><span class=\"line\"><span class=\"comment\"> *   floating point argument f.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Both the argument and result are passed as unsigned int&#x27;s, but</span></span><br><span class=\"line\"><span class=\"comment\"> *   they are to be interpreted as the bit-level representation of</span></span><br><span class=\"line\"><span class=\"comment\"> *   single-precision floating point values.</span></span><br><span class=\"line\"><span class=\"comment\"> *   When argument is NaN, return argument    // revision: NaN or infinity</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">unsigned</span> <span class=\"title\">floatScale2</span><span class=\"params\">(<span class=\"type\">unsigned</span> uf)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> musk_exp,musk_frac,sign,exp,frac,result;</span><br><span class=\"line\">  musk_exp = <span class=\"number\">0xFF</span> &lt;&lt; <span class=\"number\">23</span>;</span><br><span class=\"line\">  musk_frac = <span class=\"number\">0x7FFFFF</span>;</span><br><span class=\"line\">  exp = (uf &amp; musk_exp)&gt;&gt;<span class=\"number\">23</span>;</span><br><span class=\"line\">  frac = uf &amp; musk_frac;</span><br><span class=\"line\">  sign = <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span> &amp; uf;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(exp == <span class=\"number\">0xFF</span>  ) <span class=\"comment\">// NaN</span></span><br><span class=\"line\">     result = uf;</span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp == <span class=\"number\">0x0</span>) <span class=\"comment\">// denormalized</span></span><br><span class=\"line\">  &#123;  </span><br><span class=\"line\">     <span class=\"keyword\">if</span>(frac == <span class=\"number\">0x0</span>)</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sign)  <span class=\"comment\">// -0.0</span></span><br><span class=\"line\">           result = uf;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>     <span class=\"comment\">// +0.0</span></span><br><span class=\"line\">           result = <span class=\"number\">0</span> ;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        frac = frac &lt;&lt; <span class=\"number\">1</span>;</span><br><span class=\"line\">        result = sign+ (exp&lt;&lt;<span class=\"number\">23</span>) + frac;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp != <span class=\"number\">0x0</span> &amp;&amp; exp != <span class=\"number\">0xFF</span>) <span class=\"comment\">// normalized</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     exp += <span class=\"number\">1</span>;</span><br><span class=\"line\">     result = sign+ (exp&lt;&lt;<span class=\"number\">23</span>) + frac;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"tO8yh\"></a></p>\n<h2 id=\"11-floatFloat2Int-uf\"><a href=\"#11-floatFloat2Int-uf\" class=\"headerlink\" title=\"11.floatFloat2Int(uf)\"></a>11.floatFloat2Int(uf)</h2><p><br>fint<code>12345.0 (0x4640E400)</code>, <code>12345 (0x3039)</code><br>f32bitint(2^31-1)E&gt;31out of range<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatFloat2Int - Return bit-level equivalent of expression (int) f</span></span><br><span class=\"line\"><span class=\"comment\"> *   for floating point argument f.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Argument is passed as unsigned int, but</span></span><br><span class=\"line\"><span class=\"comment\"> *   it is to be interpreted as the bit-level representation of a</span></span><br><span class=\"line\"><span class=\"comment\"> *   single-precision floating point value.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Anything out of range (including NaN and infinity) should return</span></span><br><span class=\"line\"><span class=\"comment\"> *   0x80000000u.</span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. also if, while</span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30</span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">floatFloat2Int</span><span class=\"params\">(<span class=\"type\">unsigned</span> uf)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> musk_exp,musk_frac,exp,frac,sign,E,Bias,result;</span><br><span class=\"line\">  musk_exp = <span class=\"number\">0xFF</span> &lt;&lt; <span class=\"number\">23</span>;</span><br><span class=\"line\">  musk_frac = <span class=\"number\">0x7FFFFF</span>;</span><br><span class=\"line\">  exp = (uf &amp; musk_exp)&gt;&gt;<span class=\"number\">23</span>;</span><br><span class=\"line\">  frac = uf &amp; musk_frac;</span><br><span class=\"line\">  sign = <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span> &amp; uf;</span><br><span class=\"line\">  Bias = <span class=\"number\">127</span>;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(exp == <span class=\"number\">0xFF</span>  ) <span class=\"comment\">// NaN or infinity</span></span><br><span class=\"line\">     result = <span class=\"number\">0x80000000</span>u;</span><br><span class=\"line\">     </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp == <span class=\"number\">0x0</span>)</span><br><span class=\"line\">     result = <span class=\"number\">0</span>;</span><br><span class=\"line\">     </span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(exp != <span class=\"number\">0x0</span> &amp;&amp; exp != <span class=\"number\">0xFF</span>) <span class=\"comment\">// normalized</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     E = exp -Bias;  <span class=\"comment\">// bit_num of fraction</span></span><br><span class=\"line\">     <span class=\"keyword\">if</span>(E &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        result = <span class=\"number\">0</span>;</span><br><span class=\"line\">     <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (E&gt;<span class=\"number\">31</span>)</span><br><span class=\"line\">        result = <span class=\"number\">0x80000000</span>u;</span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        frac = frac&gt;&gt;(<span class=\"number\">23</span>-E);</span><br><span class=\"line\">        result = (<span class=\"number\">0x1</span> &lt;&lt; E) + frac ; </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(sign == <span class=\"number\">0x1</span>&lt;&lt;<span class=\"number\">31</span>)</span><br><span class=\"line\">           result = - result;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"UlJMS\"></a></p>\n<h2 id=\"12-floatPower2-x\"><a href=\"#12-floatPower2-x\" class=\"headerlink\" title=\"12.floatPower2(x)\"></a>12.floatPower2(x)</h2><p>2^xlargest normalizedexp  2541111 1110too large<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* </span></span><br><span class=\"line\"><span class=\"comment\"> * floatPower2 - Return bit-level equivalent of the expression 2.0^x</span></span><br><span class=\"line\"><span class=\"comment\"> *   (2.0 raised to the power x) for any 32-bit integer x.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> *   The unsigned value that is returned should have the identical bit</span></span><br><span class=\"line\"><span class=\"comment\"> *   representation as the single-precision floating-point number 2.0^x.</span></span><br><span class=\"line\"><span class=\"comment\"> *   If the result is too small to be represented as a denorm, return</span></span><br><span class=\"line\"><span class=\"comment\"> *   0. If too large, return +INF.</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> *   Legal ops: Any integer/unsigned operations incl. ||, &amp;&amp;. Also if, while </span></span><br><span class=\"line\"><span class=\"comment\"> *   Max ops: 30 </span></span><br><span class=\"line\"><span class=\"comment\"> *   Rating: 4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">unsigned</span> <span class=\"title\">floatPower2</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> exp,frac,E,Bias,result;</span><br><span class=\"line\">  Bias = <span class=\"number\">127</span>;</span><br><span class=\"line\">  result = <span class=\"number\">5</span>;</span><br><span class=\"line\">  E = x;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(x&lt;<span class=\"number\">1</span> &amp;&amp; x!=<span class=\"number\">0</span>)</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(x &gt;= <span class=\"number\">0x1</span> || x == <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">     frac = <span class=\"number\">0x0</span>;</span><br><span class=\"line\">     exp = E+Bias;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(exp &gt; <span class=\"number\">254</span>)  <span class=\"comment\">// 1111 1110</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">           exp = <span class=\"number\">0xFF</span>;</span><br><span class=\"line\">           result = exp &lt;&lt;<span class=\"number\">23</span>+frac;         </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">     <span class=\"keyword\">else</span></span><br><span class=\"line\">        result = (exp&lt;&lt;<span class=\"number\">23</span>) + frac; </span><br><span class=\"line\">  &#125;    </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> result ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><a name=\"iHsuB\"></a></p>\n<h2 id=\"consequence\"><a href=\"#consequence\" class=\"headerlink\" title=\"consequence\"></a>consequence</h2><p><code>make</code><br><code>./driver.pl</code><br><a name=\"SLl25\"></a></p>\n<h3 id><a href=\"#\" class=\"headerlink\" title></a><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29536731/1669795434321-27bd7778-bde0-4d21-9ae0-425e1e785bd1.png\" alt=\"data_lab_success.png\"></h3><hr>\n<p><a name=\"FsQk5\"></a></p>\n<h1 id=\"lab2-bombLab\"><a href=\"#lab2-bombLab\" class=\"headerlink\" title=\"lab2 bombLab\"></a>lab2 bombLab</h1><p><a name=\"mm3BW\"></a></p>\n<h2 id=\"phase-1\"><a href=\"#phase-1\" class=\"headerlink\" title=\"phase_1\"></a>phase_1</h2><ol>\n<li><code>main</code><code>read_line</code><code>%rax</code><code>%rdi</code>(phase)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677142575501-aadca48e-4054-40dc-977b-4719009de3e3.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>strings_not_equal</code><code>%rax</code>0 (1 vice versa)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143001741-9ecdcda9-b9a6-4b31-a450-5d80ed226850.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_1</code><code>strings_not_equal</code>0<code>test %eax, %eax</code><code>je 0x400ef7&lt;phase_1+23&gt;</code>phase_1 defused (explode vice versa)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143312955-e1e9a80c-1730-48ae-84f7-5dfded69d3a9.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>strings_not_equal</code><code>%esi0x402400</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677143752561-a0f86e1a-fc9c-4ff2-b386-d8d929f293c5.png\" alt=\"image.png\"><br><a name=\"aPHyw\"></a></p>\n<h2 id=\"phase-2\"><a href=\"#phase-2\" class=\"headerlink\" title=\"phase_2\"></a>phase_2</h2><ol>\n<li><code>read_six_numbers</code><code>sscanf(input, &quot;%d %d %d %d %d %d&quot;,&amp;a1,&amp;a2,&amp;a3,&amp;a4,&amp;a5,&amp;a6)</code><code>&amp;a1~&amp;a6</code>1)<code>%rcx:0x4(%rsi)</code>2)<code>%r8:0x8(%rsi)</code>3)<code>%r9:0xc(%rsi)</code>4)<code>%rsp:0x10(%rsi)</code>5)<code>0x8(%rsp):0x14(%rsi), 0x18(%rsi)</code> 3<code>sscanf</code><code>read_six_numbers</code>,<code>%rsi</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677148614935-cd29c501-e2a8-4185-9924-0829124ef293.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_2</code>a10x1explodea22*a1explode2explode</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150067118-dd3962a5-1458-4a3e-9399-4cf1699ca7a7.png\" alt=\"image.png\"></p>\n<ol>\n<li>$2^0,2^1,2^2,2^3,2^4,2^5$</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677149991615-e3f805b9-b4b0-4f49-bfbf-36dc2153557b.png\" alt=\"image.png\"><br><a name=\"XKRDk\"></a></p>\n<h2 id=\"phase-3\"><a href=\"#phase-3\" class=\"headerlink\" title=\"phase_3\"></a>phase_3</h2><ol>\n<li><code>phase_3</code><code>(%esi)</code>7(<code>cmpl 0x7,0x8(rsp)</code>)(<code>jmp *0x402470(,rax,8)</code>)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677150892423-92750918-b2b5-4aa5-9b0e-e08eec5cffdd.png\" alt=\"image.png\"></p>\n<ol>\n<li>0x402470(switch)0x402470877<code>0x8(%rsp</code>1 2 3 4 5 6 7</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677072562462-74d53e52-6a59-498d-9186-02f1b43b8be5.png\" alt=\"image.png\"></p>\n<ol>\n<li>-7<code>0xc(%rsp)</code>311 707 256 389 206 682 3277: (1, 311)(2, 707)(3, 256)(4, 389)(5, 206)(6, 682)(7, 327)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677151557789-3726bd23-9a03-48c7-bb2b-1a31a71ae4c0.png\" alt=\"image.png\"><br><a name=\"Qae7S\"></a></p>\n<h2 id=\"phase-4\"><a href=\"#phase-4\" class=\"headerlink\" title=\"phase_4\"></a>phase_4</h2><ol>\n<li><code>phase_4</code><code>phase_3</code>114(<code>cmpl $0xe, 0x8(%rsp)</code>)<code>func4</code><code>%edx</code>, <code>%esi</code>, <code>0x8(%rsp)</code>func40(<code>test %eax, %eax</code>)<code>cmpl $0x0, 0xc(%rsp)</code>20</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206362623-39fe4977-5cab-4016-9003-2541d41dbe6a.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>func4</code><code>func4</code><code>func4</code>1<code>%rax</code><code>%edx</code>-<code>%esi</code>,(<code>%rax &gt;&gt; 31</code>)<code>%rax</code>-11<code>%rax</code>0<code>0x8(%rsp)</code>0~14; 2<code>%ecx &gt; %edi</code><code>%ecx</code><code>%esi</code><code>%edx</code>(<code>lea -0x1(%rcx), %edx</code>)3eax03<code>phase_4</code><code>%rax</code>1</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677204842268-34841e29-56e5-4d63-9e9f-b1576cec24a4.png\" alt=\"image.png\"></p>\n<ol>\n<li>1047 3 1 020(7, 0), (3, 0), (1, 0), (0, 0)</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677206164369-fa35758d-403b-483b-ad52-af80ef73df84.png\" alt=\"image.png\"><br><a name=\"Kxq7k\"></a></p>\n<h2 id=\"phase-5\"><a href=\"#phase-5\" class=\"headerlink\" title=\"phase_5\"></a>phase_5</h2><ol>\n<li><p><code>phase_5</code> (%fs:0x28)</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> index</span><br><span class=\"line\"><span class=\"type\">int</span> i = <span class=\"number\">0</span> <span class=\"comment\">// %rax</span></span><br><span class=\"line\"><span class=\"keyword\">do</span>&#123;</span><br><span class=\"line\">index = *(input+i);</span><br><span class=\"line\">index = index&amp; <span class=\"number\">0xf</span>; <span class=\"comment\">// take lower four bits</span></span><br><span class=\"line\">dest[<span class=\"number\">0</span>] = source[index]; <span class=\"comment\">// dest: (%rsp+0x10+%rax) source: 0x4024b0</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(string_not_equal(dest, target) == <span class=\"number\">0</span>) <span class=\"comment\">// target: 0x40245e --- &quot;flyers&quot;</span></span><br><span class=\"line\">      <span class=\"comment\">//defuse</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">   explode_bomb();</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(i&gt;<span class=\"number\">6</span>)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227102569-50a0daeb-22b8-4911-84ee-83283088ca0d.png\" alt=\"image.png\"></p>\n</li>\n<li><p><code>source: 0x4024b0</code><code>target: 0x40245e</code><code>0x4024b0</code> flyers</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677227207876-48a2e806-f23e-49ec-982e-698183c7bc19.png\" alt=\"image.png\"></p>\n<ol>\n<li>byte<code>movzbl (%rbx, %rax, 1), %ecx</code>(<code>and $0xf, %edx</code>)</li>\n<li>sourcetarget7 15 14 5 6 76ASCIIeg7 BEL100111111110010101100111  (prefer a~z)defuseionefgyONuvw</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677228092474-185f8fde-3015-4a64-ae85-2a4931bb2ca9.png\" alt=\"image.png\"><br><a name=\"BuuHr\"></a></p>\n<h2 id=\"phase-6\"><a href=\"#phase-6\" class=\"headerlink\" title=\"phase_6\"></a>phase_6</h2><ol>\n<li><p>thinking process</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">phase_6(input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"type\">int</span> a1 = <span class=\"number\">0</span>;  <span class=\"comment\">// %r12d</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy = input; <span class=\"comment\">// mov %rsp, %r13</span></span><br><span class=\"line\"><span class=\"type\">int</span> val; <span class=\"comment\">// %eax</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    val = *(input_copy); <span class=\"comment\">// 0x0(%r13)</span></span><br><span class=\"line\">    val = val<span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(val&gt;<span class=\"number\">5</span>)  explode()  <span class=\"comment\">// 6</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    ++a1; <span class=\"comment\">// add $0x1, %r12d</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a1 == <span class=\"number\">6</span>) <span class=\"keyword\">break</span>; <span class=\"comment\">// jmp 95</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a2 = a1; <span class=\"comment\">// mov %r12d, %ebx</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span>&#123;   <span class=\"comment\">// 65</span></span><br><span class=\"line\">        val = *(input+a2);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(val == *input_copy)</span><br><span class=\"line\">            explode();</span><br><span class=\"line\">        ++a2;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">while</span>(a2&lt;= <span class=\"number\">5</span> ) <span class=\"comment\">// 87</span></span><br><span class=\"line\">    ++input_copy; <span class=\"comment\">// add $0x4, %r13</span></span><br><span class=\"line\">&#125; <span class=\"comment\">// 93</span></span><br><span class=\"line\"><span class=\"comment\">/*()</span></span><br><span class=\"line\"><span class=\"comment\">1. 6</span></span><br><span class=\"line\"><span class=\"comment\">2.  */</span> <span class=\"number\">0</span>~<span class=\"number\">6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span>* sentry = input+<span class=\"number\">6</span>; <span class=\"comment\">// mov 0x18(%rsp), %rsi   95</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_2 = input; <span class=\"comment\">// %rax</span></span><br><span class=\"line\"><span class=\"type\">int</span> a3 = <span class=\"number\">7</span>; <span class=\"comment\">// %edx, %ecx</span></span><br><span class=\"line\"><span class=\"keyword\">do</span>&#123;</span><br><span class=\"line\">    *(input_copy_2) = a3 - *(input_copy_2);</span><br><span class=\"line\">    ++input_copy_2;</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(input_copy_2 != sentry)</span><br><span class=\"line\"><span class=\"comment\">/* 7-(), </span></span><br><span class=\"line\"><span class=\"comment\">11 */</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"type\">int</span> a4 = <span class=\"number\">0</span>; <span class=\"comment\">// 123 %esi  -- index</span></span><br><span class=\"line\"><span class=\"type\">int</span> a5; <span class=\"comment\">// %edx</span></span><br><span class=\"line\"><span class=\"type\">int</span> a6; <span class=\"comment\">// %eax  -- index</span></span><br><span class=\"line\">offset_166:</span><br><span class=\"line\"><span class=\"keyword\">if</span>(input[a4] &lt;= <span class=\"number\">1</span>) <span class=\"comment\">// 166  %ecx</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    a5 = <span class=\"number\">0x6032d0</span>; <span class=\"comment\">// 143</span></span><br><span class=\"line\">    offset_148:</span><br><span class=\"line\">    *(input+<span class=\"number\">0x20</span>+<span class=\"number\">2</span>*a4) = a5; <span class=\"comment\">// 148 [8]:20, [10]:28, [12]:30, [14]:38, [16]:40,[18]:48</span></span><br><span class=\"line\">                             <span class=\"comment\">//   0x6032d0, 0x6032e0  0x6032f0 0x603200 0x603310 0x603320   </span></span><br><span class=\"line\">    a4 += <span class=\"number\">4</span>; <span class=\"comment\">// add $0x4, %rsi </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a4 ==  <span class=\"number\">24</span> )</span><br><span class=\"line\">        <span class=\"keyword\">goto</span> offset_183; <span class=\"comment\">// 161 </span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> </span><br><span class=\"line\">        <span class=\"keyword\">goto</span> offset_166;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span>  <span class=\"comment\">// else else --&gt;</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    a6 = <span class=\"number\">1</span>;  <span class=\"comment\">// 171  </span></span><br><span class=\"line\">    &amp;a5 = <span class=\"number\">0x6032d0</span>; <span class=\"comment\">// 176  +0x8</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span>&#123; <span class=\"comment\">// 130</span></span><br><span class=\"line\">        a5 = *(&amp;a5 + <span class=\"number\">0x8</span>) ; <span class=\"comment\">// mov 0x8(%rdx),%rdx  ?</span></span><br><span class=\"line\">        ++a6; </span><br><span class=\"line\">    &#125;<span class=\"keyword\">while</span>(a6 != *(input+a4) ) <span class=\"comment\">// 139  (must have 1-6), 2-5, 3-4 , 4-3, 5-2, 6-1, (7-0)</span></span><br><span class=\"line\">    <span class=\"keyword\">goto</span> offset_148;         <span class=\"comment\">// recorrect: 3-4, 4-3,5-2,6-1,1-6,2-5</span></span><br><span class=\"line\">&#125; <span class=\"comment\">// 181</span></span><br><span class=\"line\"></span><br><span class=\"line\">offset_183    function: link node in order</span><br><span class=\"line\"><span class=\"type\">int</span> a7 = input[<span class=\"number\">8</span>]; <span class=\"comment\">//%rbx 0x20(%rsp)   *(input+ 8) ~ *(input+16) all represent a address</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_3 = input+<span class=\"number\">10</span> <span class=\"comment\">// %rax  0x28(%rsp)</span></span><br><span class=\"line\"><span class=\"type\">int</span>* input_copy_4 = input+<span class=\"number\">20</span> <span class=\"comment\">// %rsi  0x50(%rsp)</span></span><br><span class=\"line\">a3 = a7; <span class=\"comment\">// a3:%rcx</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"number\">1</span>)&#123; <span class=\"comment\">// 201</span></span><br><span class=\"line\">    a5 = *input_copy_3; <span class=\"comment\">//a5:%rdx [10][12]...[18][20] 6</span></span><br><span class=\"line\">    *(a3+<span class=\"number\">0x8</span>) = a5; <span class=\"comment\">// 0x8(%rcx)</span></span><br><span class=\"line\">    input_copy_3 += <span class=\"number\">2</span>; <span class=\"comment\">// 0x8 </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(input_copy_3 == input_copy_4) <span class=\"keyword\">break</span>; <span class=\"comment\">// 215 </span></span><br><span class=\"line\">    a3 = a5; <span class=\"comment\">// mov %rdx, %rcx</span></span><br><span class=\"line\">&#125;    <span class=\"comment\">//   make  *(a[i-2] + 0x8) = a[i] (i = i+2: 10 12 .. 18)</span></span><br><span class=\"line\"><span class=\"comment\">//  %rdx = * (input + 18)</span></span><br><span class=\"line\"></span><br><span class=\"line\">*(*(input+<span class=\"number\">18</span>) + <span class=\"number\">2</span> ) = <span class=\"number\">0</span>; <span class=\"comment\">// 222   set last node&#x27;s pointer to nullptr</span></span><br><span class=\"line\"><span class=\"type\">int</span> a8 = <span class=\"number\">5</span>; <span class=\"comment\">// %ebp</span></span><br><span class=\"line\"><span class=\"type\">int</span> a9 <span class=\"comment\">// %rax </span></span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"> &amp;a9 = *(a7+<span class=\"number\">2</span>); <span class=\"comment\">// %rax   initial a7 = input[8]</span></span><br><span class=\"line\">  a9 = *a9; <span class=\"comment\">// mov (%rax), %eax</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(*(*(input+<span class=\"number\">8</span>)) &lt; a9) <span class=\"comment\">// cmp %eax, (%rbx) </span></span><br><span class=\"line\">    explode();   <span class=\"comment\">// </span></span><br><span class=\"line\">a7 = *(*(input+<span class=\"number\">8</span>)+<span class=\"number\">2</span>); <span class=\"comment\">// mov 0x8(%rbx), %rbx %rbx  </span></span><br><span class=\"line\">--a8;</span><br><span class=\"line\">&#125;<span class=\"keyword\">while</span>(a8&gt;<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// over</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">/*inital:</span></span><br><span class=\"line\"><span class=\"comment\">0x14c(0): 332;</span></span><br><span class=\"line\"><span class=\"comment\">0x0a8(1): 168;</span></span><br><span class=\"line\"><span class=\"comment\">0x39c(2): 924;</span></span><br><span class=\"line\"><span class=\"comment\">0x2b3(3): 691</span></span><br><span class=\"line\"><span class=\"comment\">0x1dd(4): 477</span></span><br><span class=\"line\"><span class=\"comment\">0x1bb(5): 443</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">2-&gt;3-&gt;4-&gt;5-&gt;0-&gt;1 */</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>phase_6phase_6phase_667phase<code>0x6032d0</code>246 <code>0x6032d0</code></p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677403752602-71565a7a-ae83-4e0e-a0d7-cdd2e3df1fd5.png\" alt=\"image.png\"><br><a name=\"QjpMp\"></a></p>\n<h2 id=\"secret-phase\"><a href=\"#secret-phase\" class=\"headerlink\" title=\"secret_phase\"></a>secret_phase</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404056138-294107ed-6f1c-4477-83c9-44b00041ef4b.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p> easter eggbomb.cbombCMUwriteup<code>objdump -t bomb</code>secret_phase<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404753141-3d41a656-d41d-476c-aae5-e51421f24d6e.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p>1)secret_phase<code>secret_phase</code><code>main</code><code>secret_base</code>phase_1phase_6<code>phase_defused</code><code>phase_defused</code><code>secret_phase</code><br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677404954528-c0e39bd3-077e-49cd-a460-d820f2047ce8.png\" alt=\"image.png\"></p>\n<ol>\n<li>secret_phase</li>\n</ol>\n<p>1secret_base<br><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">secret_phase()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> input_2;<span class=\"comment\">// (%rdi)</span></span><br><span class=\"line\">    &amp;input_2 = read_line(); <span class=\"comment\">//  %rdi</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">int</span> a1 = <span class=\"number\">0xa</span>; <span class=\"comment\">// %edx</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a2 = <span class=\"number\">0x0</span>; <span class=\"comment\">// %esi</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">int</span> input_num_1 = strtol(input_2); <span class=\"comment\">// %rax</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">int</span> input_num_2 = input_num_1 <span class=\"comment\">// %rbx</span></span><br><span class=\"line\">    input_num_1 -= <span class=\"number\">1</span>; </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(input_num_1 &gt; <span class=\"number\">0x3e8</span> <span class=\"comment\">/*1000*/</span>) explode();</span><br><span class=\"line\">    <span class=\"comment\">//   1001</span></span><br><span class=\"line\">    a2 = input_num_2;<span class=\"comment\">// mov %ebx, %esi  </span></span><br><span class=\"line\">    &amp;input_2 = <span class=\"number\">0x6030f0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> ret = fun7(&amp;input_2,a2,input_num_1); <span class=\"comment\">// ret_value: %rax</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(ret == <span class=\"number\">0x2</span>)</span><br><span class=\"line\">        defused();</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        explode(); </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">fun7</span><span class=\"params\">(&amp;input_2, a2, input_num_1)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(&amp;input_2 == <span class=\"number\">0x0</span>) <span class=\"keyword\">return</span> <span class=\"number\">-1</span>; <span class=\"comment\">// avoid endless recursion</span></span><br><span class=\"line\">    <span class=\"type\">int</span> a3 = *(&amp;input_2);  <span class=\"comment\">// 9 %edx   initial a3 = 24</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a3 &lt;= a2) <span class=\"keyword\">goto</span> offset_28; <span class=\"comment\">// 13  a2 </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// a3 &gt; a2</span></span><br><span class=\"line\">    input_2 = *(&amp;input_2 + <span class=\"number\">0x8</span>); <span class=\"comment\">// +2  turn left</span></span><br><span class=\"line\">    input_num_1 = fun7(&amp;input_2, a2, input_num_1); <span class=\"comment\">// 19</span></span><br><span class=\"line\"></span><br><span class=\"line\">    input_num_1 *= <span class=\"number\">2</span>; <span class=\"comment\">// input_num_q is 1 here</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> input_num_1;</span><br><span class=\"line\"></span><br><span class=\"line\">    offset_28:</span><br><span class=\"line\">    input_num_1 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a3 == a2) <span class=\"keyword\">return</span> input_num_1;\t</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// a3 &lt; a2</span></span><br><span class=\"line\">    input_2 = *(&amp;input_2 + <span class=\"number\">0x10</span>); <span class=\"comment\">// +4   turn right</span></span><br><span class=\"line\">    input_num_1 = fun7(&amp;input_2, a2, input_num_1); <span class=\"comment\">// 0</span></span><br><span class=\"line\">    input_num_1 = <span class=\"number\">2</span>*input_num_1 + <span class=\"number\">1</span>;  <span class=\"comment\">// 1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> input_num_1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>2phase_6<code>0x6030f0</code><code>0x6030f0</code>12038 words<code>secret_phase</code><code>fun7</code>2defuse<code>fun7</code>turn left(<code>&amp;input_2 + 0x8</code>-&gt;turn right(<code>&amp;input_2 + 0x10</code>) -&gt; return 0222 2220return 020<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677484445488-99b96bb8-8026-406a-8606-b6ed814389d7.png\" alt=\"image.png\"></p>\n<hr>\n<p><a name=\"SLpu6\"></a></p>\n<h1 id=\"lab3-attacklab\"><a href=\"#lab3-attacklab\" class=\"headerlink\" title=\"lab3 attacklab\"></a>lab3 attacklab</h1><p><a name=\"UbCO7\"></a></p>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>ubuntu22.04segment faultubuntu22.04ubuntu20.04</li>\n</ol>\n<p>google</p>\n<ol>\n<li>exploit string<code>hex/2raw</code>2-digit </li>\n</ol>\n<p>writeupA<code>hex/2raw</code>ctarget<br><code>./hex2raw &lt; exploit_string.txt | ./ctarget -q</code><br><code>exploit_string.txt</code><code>hex2raw</code><code>hex2raw</code><code>./ctarget</code>-qCMU<code>./hex2raw</code><br><a name=\"Kk3w5\"></a></p>\n<h2 id=\"phase-1-1\"><a href=\"#phase-1-1\" class=\"headerlink\" title=\"phase_1\"></a>phase_1</h2><ol>\n<li><code>ctarget</code><code>objdump -d ctarget</code>ctargetasm</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585087533-3d1cfcba-4dd9-41f4-8cc8-bb4c35b8674f.png\" alt=\"image.png\"><br>ctarget</p>\n<ol>\n<li><code>vim dis_ctarget.asm</code><code>getbuf</code>0x2840<code>test</code>ret0x3048<code>touch1</code><code>0x004017c0</code>exploit_string8c0 17 40 00little-endian</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677585873581-353e1114-4253-4b23-aceb-6ba85c12e660.png\" alt=\"image.png\"></p>\n<ol>\n<li><p><code>vim phase_1.txt</code></p>\n<p>$\\begin{matrix}<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00 &amp;00 \\\\<br>&amp;00 &amp;00  &amp; 00 &amp;00  &amp;00  &amp;00  &amp;00 &amp;00 \\\\<br>&amp;00  &amp;00  &amp;00  &amp;00 &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00  &amp;00\\\\<br>&amp;c0 &amp;17  &amp;40  &amp;00  &amp;00  &amp;00  &amp;00<br>\\end{matrix}$<br>gets \\n  (touch1)resultPASS<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677586525442-cc13fc97-7de2-4bc6-90c7-bdb9356cc9b4.png\" alt=\"image.png\"><br><a name=\"xCSRi\"></a></p>\n<h2 id=\"phase-2-1\"><a href=\"#phase-2-1\" class=\"headerlink\" title=\"phase_2\"></a>phase_2</h2></li>\n<li><p><code>vim asb.s</code>push</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677637642575-745a9de7-6e49-4ef0-9f44-46dbe3cfb8a0.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>phase_2.txt</code><code>asb.o</code><code>test</code><code>%rsp</code> <code>%rsp</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677591555601-28a75db3-4efc-445a-bd75-67d6722d57ee.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677638454464-852c44b4-14f9-43fe-8e9f-a927c267b260.png\" alt=\"image.png\"><br><a name=\"TVVPU\"></a></p>\n<h2 id=\"phase-3-1\"><a href=\"#phase-3-1\" class=\"headerlink\" title=\"phase_3\"></a>phase_3</h2><ol>\n<li><code>phase_2</code><code>cookie</code><code>getbuf</code><code>cookie</code><code>test</code><code>0x5561dca8</code><code>touch3</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677673769317-083e3c3d-3eb7-4716-8b34-154511f96d34.png\" alt=\"image.png\"></p>\n<ol>\n<li><code>ascii -ax</code>ascii-table<code>&quot;59b997fa&quot;</code>ascii<code>35 39 62 39 39 37 66 61</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678551264-8b3b6a28-3390-45cb-bbc6-b20f241eb472.png\" alt=\"image.png\"></p>\n<ol>\n<li>test<code>cookie</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678755332-3ea51646-6c2b-4212-8f6a-d6fe5551fa9a.png\" alt=\"image.png\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677678782689-4f003174-6f36-4200-87cd-d46e586d9907.png\" alt=\"image.png\"><br><a name=\"UnHwd\"></a></p>\n<h2 id=\"phase-4-1\"><a href=\"#phase-4-1\" class=\"headerlink\" title=\"phase_4\"></a>phase_4</h2><p><code>rtarget</code>1  2writeup<code>ctarget</code><code>ctarget</code><code>gadget</code>ret<code>gadget</code><code>gadget</code><code>ret</code><code>gadget</code><code>%rip</code>,<code>gadget</code></p>\n<ol>\n<li><code>cookie</code><code>rgadget</code><code>phase_3</code><code>getbuf</code><code>test</code><code>mov $0x59b997fa,%rdi</code><code>popq %rdi</code>writeup<code>start_farm</code><code>end_farm</code><code>5f</code><code>58 90</code>,<code>0x004019ab</code><code>popq %rax  nop</code><code>%rax</code><code>cookie</code><code>%rdi</code>farm<code>movq %rax, %rdi48 89 c7</code><code>0x004019c5</code><code>gadget</code></li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677748308138-674aa437-9522-414c-afcf-828967ad2c1b.png\" alt=\"image.png\"></p>\n<ol>\n<li>phase_4attacklabhacker</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2023/png/29536731/1677750944719-6ccf095c-ffce-4020-8cb6-f5b0f0fde9f8.png\" alt=\"yuque_diagram.png\"></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"clf10r0nx00039pva92334a4k","category_id":"clf10r0o400049pva8lhngjxj","_id":"clf10r0oa00079pva776gfqd1"},{"post_id":"clf10r0qs00089pvafljobimk","category_id":"clf10r0o400049pva8lhngjxj","_id":"clf10r0qu000a9pvae34jetld"}],"PostTag":[{"post_id":"clf10r0nx00039pva92334a4k","tag_id":"clf10r0o800059pva1rgr21dy","_id":"clf10r0oa00069pvae2ece14s"},{"post_id":"clf10r0qs00089pvafljobimk","tag_id":"clf10r0o800059pva1rgr21dy","_id":"clf10r0qu00099pva6zlhdd0g"}],"Tag":[{"name":"CSAPP","_id":"clf10r0o800059pva1rgr21dy"}]}}